function onYouTubePlayerAPIReady(){mejs.YouTubeApi.iFrameReady()}function onYouTubePlayerReady(a){mejs.YouTubeApi.flashReady(a)}function getIEversion(){var a=-1;if("Microsoft Internet Explorer"==navigator.appName){var b=navigator.userAgent,c=RegExp("MSIE ([0-9]{1,}[.0-9]{0,})");null!=c.exec(b)&&(a=parseFloat(RegExp.$1))}return a}var swfobject=function(){function a(){if(!R){try{var a=K.getElementsByTagName("body")[0].appendChild(q("span"));a.parentNode.removeChild(a)}catch(b){return}R=!0;for(var c=N.length,d=0;d<c;d++)N[d]()}}function b(a){R?a():N[N.length]=a}function c(a){if(typeof J.addEventListener!=C)J.addEventListener("load",a,!1);else if(typeof K.addEventListener!=C)K.addEventListener("load",a,!1);else if(typeof J.attachEvent!=C)r(J,"onload",a);else if("function"==typeof J.onload){var b=J.onload;J.onload=function(){b(),a()}}else J.onload=a}function d(){M?e():f()}function e(){var a=K.getElementsByTagName("body")[0],b=q(D);b.setAttribute("type",G);var c=a.appendChild(b);if(c){var d=0;!function(){if(typeof c.GetVariable!=C){var e=c.GetVariable("$version");e&&(e=e.split(" ")[1].split(","),U.pv=[parseInt(e[0],10),parseInt(e[1],10),parseInt(e[2],10)])}else if(d<10)return d++,void setTimeout(arguments.callee,10);a.removeChild(b),c=null,f()}()}else f()}function f(){var a=O.length;if(a>0)for(var b=0;b<a;b++){var c=O[b].id,d=O[b].callbackFn,e={success:!1,id:c};if(U.pv[0]>0){var f=p(c);if(f)if(!s(O[b].swfVersion)||U.wk&&U.wk<312)if(O[b].expressInstall&&h()){var k={};k.data=O[b].expressInstall,k.width=f.getAttribute("width")||"0",k.height=f.getAttribute("height")||"0",f.getAttribute("class")&&(k.styleclass=f.getAttribute("class")),f.getAttribute("align")&&(k.align=f.getAttribute("align"));for(var l={},m=f.getElementsByTagName("param"),n=m.length,o=0;o<n;o++)"movie"!=m[o].getAttribute("name").toLowerCase()&&(l[m[o].getAttribute("name")]=m[o].getAttribute("value"));i(k,l,c,d)}else j(f),d&&d(e);else u(c,!0),d&&(e.success=!0,e.ref=g(c),d(e))}else if(u(c,!0),d){var q=g(c);q&&typeof q.SetVariable!=C&&(e.success=!0,e.ref=q),d(e)}}}function g(a){var b=null,c=p(a);if(c&&"OBJECT"==c.nodeName)if(typeof c.SetVariable!=C)b=c;else{var d=c.getElementsByTagName(D)[0];d&&(b=d)}return b}function h(){return!S&&s("6.0.65")&&(U.win||U.mac)&&!(U.wk&&U.wk<312)}function i(a,b,c,d){S=!0,y=d||null,z={success:!1,id:c};var e=p(c);if(e){"OBJECT"==e.nodeName?(w=k(e),x=null):(w=e,x=c),a.id=H,(typeof a.width==C||!/%$/.test(a.width)&&parseInt(a.width,10)<310)&&(a.width="310"),(typeof a.height==C||!/%$/.test(a.height)&&parseInt(a.height,10)<137)&&(a.height="137"),K.title=K.title.slice(0,47)+" - Flash Player Installation";var f=U.ie&&U.win?"ActiveX":"PlugIn",g="MMredirectURL="+(""+J.location).replace(/&/g,"%26")+"&MMplayerType="+f+"&MMdoctitle="+K.title;if(typeof b.flashvars!=C?b.flashvars+="&"+g:b.flashvars=g,U.ie&&U.win&&4!=e.readyState){var h=q("div");c+="SWFObjectNew",h.setAttribute("id",c),e.parentNode.insertBefore(h,e),e.style.display="none",function(){4==e.readyState?e.parentNode.removeChild(e):setTimeout(arguments.callee,10)}()}l(a,b,c)}}function j(a){if(U.ie&&U.win&&4!=a.readyState){var b=q("div");a.parentNode.insertBefore(b,a),b.parentNode.replaceChild(k(a),b),a.style.display="none",function(){4==a.readyState?a.parentNode.removeChild(a):setTimeout(arguments.callee,10)}()}else a.parentNode.replaceChild(k(a),a)}function k(a){var b=q("div");if(U.win&&U.ie)b.innerHTML=a.innerHTML;else{var c=a.getElementsByTagName(D)[0];if(c){var d=c.childNodes;if(d)for(var e=d.length,f=0;f<e;f++)1==d[f].nodeType&&"PARAM"==d[f].nodeName||8==d[f].nodeType||b.appendChild(d[f].cloneNode(!0))}}return b}function l(a,b,c){var d,e=p(c);if(U.wk&&U.wk<312)return d;if(e)if(typeof a.id==C&&(a.id=c),U.ie&&U.win){var f="";for(var g in a)a[g]!=Object.prototype[g]&&("data"==g.toLowerCase()?b.movie=a[g]:"styleclass"==g.toLowerCase()?f+=' class="'+a[g]+'"':"classid"!=g.toLowerCase()&&(f+=" "+g+'="'+a[g]+'"'));var h="";for(var i in b)b[i]!=Object.prototype[i]&&(h+='<param name="'+i+'" value="'+b[i]+'" />');e.outerHTML='<object classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"'+f+">"+h+"</object>",P[P.length]=a.id,d=p(a.id)}else{var j=q(D);j.setAttribute("type",G);for(var k in a)a[k]!=Object.prototype[k]&&("styleclass"==k.toLowerCase()?j.setAttribute("class",a[k]):"classid"!=k.toLowerCase()&&j.setAttribute(k,a[k]));for(var l in b)b[l]!=Object.prototype[l]&&"movie"!=l.toLowerCase()&&m(j,l,b[l]);e.parentNode.replaceChild(j,e),d=j}return d}function m(a,b,c){var d=q("param");d.setAttribute("name",b),d.setAttribute("value",c),a.appendChild(d)}function n(a){var b=p(a);b&&"OBJECT"==b.nodeName&&(U.ie&&U.win?(b.style.display="none",function(){4==b.readyState?o(a):setTimeout(arguments.callee,10)}()):b.parentNode.removeChild(b))}function o(a){var b=p(a);if(b){for(var c in b)"function"==typeof b[c]&&(b[c]=null);b.parentNode.removeChild(b)}}function p(a){var b=null;try{b=K.getElementById(a)}catch(c){}return b}function q(a){return K.createElement(a)}function r(a,b,c){a.attachEvent(b,c),Q[Q.length]=[a,b,c]}function s(a){var b=U.pv,c=a.split(".");return c[0]=parseInt(c[0],10),c[1]=parseInt(c[1],10)||0,c[2]=parseInt(c[2],10)||0,b[0]>c[0]||b[0]==c[0]&&b[1]>c[1]||b[0]==c[0]&&b[1]==c[1]&&b[2]>=c[2]}function t(a,b,c,d){if(!U.ie||!U.mac){var e=K.getElementsByTagName("head")[0];if(e){var f=c&&"string"==typeof c?c:"screen";if(d&&(A=null,B=null),!A||B!=f){var g=q("style");g.setAttribute("type","text/css"),g.setAttribute("media",f),A=e.appendChild(g),U.ie&&U.win&&typeof K.styleSheets!=C&&K.styleSheets.length>0&&(A=K.styleSheets[K.styleSheets.length-1]),B=f}U.ie&&U.win?A&&typeof A.addRule==D&&A.addRule(a,b):A&&typeof K.createTextNode!=C&&A.appendChild(K.createTextNode(a+" {"+b+"}"))}}}function u(a,b){if(T){var c=b?"visible":"hidden";R&&p(a)?p(a).style.visibility=c:t("#"+a,"visibility:"+c)}}function v(a){var b=/[\\\"<>\.;]/,c=null!=b.exec(a);return c&&typeof encodeURIComponent!=C?encodeURIComponent(a):a}var w,x,y,z,A,B,C="undefined",D="object",E="Shockwave Flash",F="ShockwaveFlash.ShockwaveFlash",G="application/x-shockwave-flash",H="SWFObjectExprInst",I="onreadystatechange",J=window,K=document,L=navigator,M=!1,N=[d],O=[],P=[],Q=[],R=!1,S=!1,T=!0,U=function(){var a=typeof K.getElementById!=C&&typeof K.getElementsByTagName!=C&&typeof K.createElement!=C,b=L.userAgent.toLowerCase(),c=L.platform.toLowerCase(),d=c?/win/.test(c):/win/.test(b),e=c?/mac/.test(c):/mac/.test(b),f=!!/webkit/.test(b)&&parseFloat(b.replace(/^.*webkit\/(\d+(\.\d+)?).*$/,"$1")),g=!1,h=[0,0,0],i=null;if(typeof L.plugins!=C&&typeof L.plugins[E]==D)i=L.plugins[E].description,!i||typeof L.mimeTypes!=C&&L.mimeTypes[G]&&!L.mimeTypes[G].enabledPlugin||(M=!0,g=!1,i=i.replace(/^.*\s+(\S+\s+\S+$)/,"$1"),h[0]=parseInt(i.replace(/^(.*)\..*$/,"$1"),10),h[1]=parseInt(i.replace(/^.*\.(.*)\s.*$/,"$1"),10),h[2]=/[a-zA-Z]/.test(i)?parseInt(i.replace(/^.*[a-zA-Z]+(.*)$/,"$1"),10):0);else if(typeof J.ActiveXObject!=C)try{var j=new ActiveXObject(F);j&&(i=j.GetVariable("$version"),i&&(g=!0,i=i.split(" ")[1].split(","),h=[parseInt(i[0],10),parseInt(i[1],10),parseInt(i[2],10)]))}catch(k){}return{w3:a,pv:h,wk:f,ie:g,win:d,mac:e}}();(function(){U.w3&&((typeof K.readyState!=C&&"complete"==K.readyState||typeof K.readyState==C&&(K.getElementsByTagName("body")[0]||K.body))&&a(),R||(typeof K.addEventListener!=C&&K.addEventListener("DOMContentLoaded",a,!1),U.ie&&U.win&&(K.attachEvent(I,function(){"complete"==K.readyState&&(K.detachEvent(I,arguments.callee),a())}),J==top&&!function(){if(!R){try{K.documentElement.doScroll("left")}catch(b){return void setTimeout(arguments.callee,0)}a()}}()),U.wk&&!function(){if(!R)return/loaded|complete/.test(K.readyState)?void a():void setTimeout(arguments.callee,0)}(),c(a)))})(),function(){U.ie&&U.win&&window.attachEvent("onunload",function(){for(var a=Q.length,b=0;b<a;b++)Q[b][0].detachEvent(Q[b][1],Q[b][2]);for(var c=P.length,d=0;d<c;d++)n(P[d]);for(var e in U)U[e]=null;U=null;for(var f in swfobject)swfobject[f]=null;swfobject=null})}();return{registerObject:function(a,b,c,d){if(U.w3&&a&&b){var e={};e.id=a,e.swfVersion=b,e.expressInstall=c,e.callbackFn=d,O[O.length]=e,u(a,!1)}else d&&d({success:!1,id:a})},getObjectById:function(a){if(U.w3)return g(a)},embedSWF:function(a,c,d,e,f,g,j,k,m,n){var o={success:!1,id:c};U.w3&&!(U.wk&&U.wk<312)&&a&&c&&d&&e&&f?(u(c,!1),b(function(){d+="",e+="";var b={};if(m&&typeof m===D)for(var p in m)b[p]=m[p];b.data=a,b.width=d,b.height=e;var q={};if(k&&typeof k===D)for(var r in k)q[r]=k[r];if(j&&typeof j===D)for(var t in j)typeof q.flashvars!=C?q.flashvars+="&"+t+"="+j[t]:q.flashvars=t+"="+j[t];if(s(f)){var v=l(b,q,c);b.id==c&&u(c,!0),o.success=!0,o.ref=v}else{if(g&&h())return b.data=g,void i(b,q,c,n);u(c,!0)}n&&n(o)})):n&&n(o)},switchOffAutoHideShow:function(){T=!1},ua:U,getFlashPlayerVersion:function(){return{major:U.pv[0],minor:U.pv[1],release:U.pv[2]}},hasFlashPlayerVersion:s,createSWF:function(a,b,c){return U.w3?l(a,b,c):void 0},showExpressInstall:function(a,b,c,d){U.w3&&h()&&i(a,b,c,d)},removeSWF:function(a){U.w3&&n(a)},createCSS:function(a,b,c,d){U.w3&&t(a,b,c,d)},addDomLoadEvent:b,addLoadEvent:c,getQueryParamValue:function(a){var b=K.location.search||K.location.hash;if(b){if(/\?/.test(b)&&(b=b.split("?")[1]),null==a)return v(b);for(var c=b.split("&"),d=0;d<c.length;d++)if(c[d].substring(0,c[d].indexOf("="))==a)return v(c[d].substring(c[d].indexOf("=")+1))}return""},expressInstallCallback:function(){if(S){var a=p(H);a&&w&&(a.parentNode.replaceChild(w,a),x&&(u(x,!0),U.ie&&U.win&&(w.style.display="block")),y&&y(z)),S=!1}}}}(),SJ=SJ||{};SJ.SitesDropdown=SJ.SitesDropdown||{menu:null,width:null,size:null,config:{type:0},init:function(a){$.extend({},SJ.SitesDropdown.config,a),$(this);$("ul.dropdown li").removeClass("down");var b=$("ul.dropdown ul");b.hide().removeClass("left"),b.parent().addClass("more"),b.parent().children("a").after("<span>Show Menu</span>"),$("ul.dropdown .more span").click(this.dropdown),$("ul.dropdown .more.category-page>a").click(function(a){$(this).next("span").click();return!1}),$("ul.dropdown").click(function(a){a.stopPropagation()}),$(document).click(function(){$("ul.dropdown ul").removeClass("left"),$("ul.dropdown li").removeClass("down"),$("ul.dropdown").find("ul").hide(),$("ul.dropdown").find("ul").css("visibility","hidden")}),this.menu=$("ul.dropdown"),this.fit(this.menu),this.size=$(this.menu).width(),$(window).resize(function(a){var b=$(this.menu).width();this.width!==b&&(this.width=b,this.fit(this.menu))})},redraw:function(a){a=$(a);var b=document.createTextNode(" ");return a.appendChild(b),function(){b.parentNode.removeChild(b)}.defer(),a},dropdown:function(a){var b=$(this).next("ul").is(":visible");if(b){var c=$(this).next("ul");c.removeClass("left"),$(this).parent().parent().find("li").removeClass("down"),c.hide(),c.css("visibility","hidden")}else{var d=$(this).parent(),e=$(this).next("ul");d.parent().find("li ul").hide(),d.parent().find("li ul").removeClass("left"),e.css("visibility","visible"),e.css("display","block"),d.addClass("down");var f=$(this).next("ul").width(),g=$(this).parents("ul.dropdown").width(),h=(e.offset().left-$(this).parents("ul.dropdown").offset().left,e.offset().left+f-($(this).parents("ul.dropdown").offset().left+g));h>0&&(e.addClass("left"),d.parent().hasClass("dropdown")&&e.css("margin-left","-"+h+"px"))}a.stopPropagation()},too_much:function(a){var b=null,c=!1;return $(a).children("li").each(function(a,d){var e=$(d).offset().top;e!==b&&null!==b&&(c=!0),b=e}),c},fit:function(a){if($("ul.dropdown ul").hide(),$("ul.dropdown ul").removeClass("left"),$("ul.dropdown li").removeClass("down"),$(".extra > ul > li").each(function(a,b){$(b).appendTo(".dropdown")}),$(".extra").remove(),this.too_much(a)){for($(a).append('<li class="extra more"><a href="#">More</a><span>Show Menu</span><ul></ul></li>');this.too_much(a);)$(".extra").prev().prependTo(".extra > ul");$("ul.dropdown ul").hide(),$("ul.dropdown ul").css("visibility","hidden"),$("ul.dropdown ul").removeClass("left"),$(this).parent().removeClass("down"),$("ul.dropdown .more span").unbind("click"),$("ul.dropdown .more span").click(this.dropdown),$("ul.dropdown .extra").click(function(){$(this).children("span").click()})}}},function(a,b){"use strict";function c(b){a.fn.cycle.debug&&d(b)}function d(){window.console&&console.log}function e(b,c,d){var e=a(b).data("cycle.opts");if(e){var f=!!b.cyclePause;f&&e.paused?e.paused(b,e,c,d):!f&&e.resumed&&e.resumed(b,e,c,d)}}function f(c,f,g){function i(b,c,e){if(!b&&c===!0){var f=a(e).data("cycle.opts");if(!f)return d("options not found, can not resume"),!1;e.cycleTimeout&&(clearTimeout(e.cycleTimeout),e.cycleTimeout=0),m(f.elements,f,1,!f.backwards)}}if(c.cycleStop===b&&(c.cycleStop=0),f!==b&&null!==f||(f={}),f.constructor==String){switch(f){case"destroy":case"stop":var j=a(c).data("cycle.opts");return!!j&&(c.cycleStop++,c.cycleTimeout&&clearTimeout(c.cycleTimeout),c.cycleTimeout=0,j.elements&&a(j.elements).stop(),a(c).removeData("cycle.opts"),"destroy"==f&&h(c,j),!1);case"toggle":return c.cyclePause=1===c.cyclePause?0:1,i(c.cyclePause,g,c),e(c),!1;case"pause":return c.cyclePause=1,e(c),!1;case"resume":return c.cyclePause=0,i(!1,g,c),e(c),!1;case"prev":case"next":return(j=a(c).data("cycle.opts"))?("string"==typeof g&&(j.oneTimeFx=g),a.fn.cycle[f](j),!1):(d('options not found, "prev/next" ignored'),!1);default:f={fx:f}}return f}if(f.constructor==Number){var k=f;return(f=a(c).data("cycle.opts"))?k<0||k>=f.elements.length?(d("invalid slide index: "+k),!1):(f.nextSlide=k,c.cycleTimeout&&(clearTimeout(c.cycleTimeout),c.cycleTimeout=0),"string"==typeof g&&(f.oneTimeFx=g),m(f.elements,f,1,k>=f.currSlide),!1):(d("options not found, can not advance slide"),!1)}return f}function g(b,c){if(!a.support.opacity&&c.cleartype&&b.style.filter)try{b.style.removeAttribute("filter")}catch(d){}}function h(b,c){c.next&&a(c.next).unbind(c.prevNextEvent),c.prev&&a(c.prev).unbind(c.prevNextEvent),(c.pager||c.pagerAnchorBuilder)&&a.each(c.pagerAnchors||[],function(){this.unbind().remove()}),c.pagerAnchors=null,a(b).unbind("mouseenter.cycle mouseleave.cycle"),c.destroy&&c.destroy(c)}function i(c,f,h,i,n){var r,s=a.extend({},a.fn.cycle.defaults,i||{},a.metadata?c.metadata():a.meta?c.data():{}),t=a.isFunction(c.data)?c.data(s.metaAttr):null;t&&(s=a.extend(s,t)),s.autostop&&(s.countdown=s.autostopCount||h.length);var u=c[0];if(c.data("cycle.opts",s),s.$cont=c,s.stopCount=u.cycleStop,s.elements=h,s.before=s.before?[s.before]:[],s.after=s.after?[s.after]:[],!a.support.opacity&&s.cleartype&&s.after.push(function(){g(this,s)}),s.continuous&&s.after.push(function(){m(h,s,0,!s.backwards)}),j(s),a.support.opacity||!s.cleartype||s.cleartypeNoBg||q(f),"static"==c.css("position")&&c.css("position","relative"),s.width&&c.width(s.width),s.height&&"auto"!=s.height&&c.height(s.height),s.startingSlide!==b?(s.startingSlide=parseInt(s.startingSlide,10),s.startingSlide>=h.length||s.startSlide<0?s.startingSlide=0:r=!0):s.backwards?s.startingSlide=h.length-1:s.startingSlide=0,s.random){s.randomMap=[];for(var v=0;v<h.length;v++)s.randomMap.push(v);if(s.randomMap.sort(function(a,b){return Math.random()-.5}),r)for(var w=0;w<h.length;w++)s.startingSlide==s.randomMap[w]&&(s.randomIndex=w);else s.randomIndex=1,s.startingSlide=s.randomMap[1]}else s.startingSlide>=h.length&&(s.startingSlide=0);s.currSlide=s.startingSlide||0;var x=s.startingSlide;f.css({position:"absolute",top:0,left:0}).hide().each(function(b){var c;c=s.backwards?x?b<=x?h.length+(b-x):x-b:h.length-b:x?b>=x?h.length-(b-x):x-b:h.length-b,a(this).css("z-index",c)}),a(h[x]).css("opacity",1).show(),g(h[x],s),s.fit&&(s.aspect?f.each(function(){var b=a(this),c=s.aspect===!0?b.width()/b.height():s.aspect;s.width&&b.width()!=s.width&&(b.width(s.width),b.height(s.width/c)),s.height&&b.height()<s.height&&(b.height(s.height),b.width(s.height*c))}):(s.width&&f.width(s.width),s.height&&"auto"!=s.height&&f.height(s.height))),!s.center||s.fit&&!s.aspect||f.each(function(){var b=a(this);b.css({"margin-left":s.width?(s.width-b.width())/2+"px":0,"margin-top":s.height?(s.height-b.height())/2+"px":0})}),!s.center||s.fit||s.slideResize||f.each(function(){var b=a(this);b.css({"margin-left":s.width?(s.width-b.width())/2+"px":0,"margin-top":s.height?(s.height-b.height())/2+"px":0})});var y=(s.containerResize||s.containerResizeHeight)&&!c.innerHeight();if(y){for(var z=0,A=0,B=0;B<h.length;B++){var C=a(h[B]),D=C[0],E=C.outerWidth(),F=C.outerHeight();E||(E=D.offsetWidth||D.width||C.attr("width")),F||(F=D.offsetHeight||D.height||C.attr("height")),z=E>z?E:z,A=F>A?F:A}s.containerResize&&z>0&&A>0&&c.css({width:z+"px",height:A+"px"}),s.containerResizeHeight&&A>0&&c.css({height:A+"px"})}var G=!1;if(s.pause&&c.bind("mouseenter.cycle",function(){G=!0,this.cyclePause++,e(u,!0)}).bind("mouseleave.cycle",function(){G&&this.cyclePause--,e(u,!0)}),k(s)===!1)return!1;var H=!1;if(i.requeueAttempts=i.requeueAttempts||0,f.each(function(){var b=a(this);if(this.cycleH=s.fit&&s.height?s.height:b.height()||this.offsetHeight||this.height||b.attr("height")||0,this.cycleW=s.fit&&s.width?s.width:b.width()||this.offsetWidth||this.width||b.attr("width")||0,b.is("img")){var c=0===this.cycleH&&0===this.cycleW&&!this.complete;if(c){if(n.s&&s.requeueOnImageNotLoaded&&++i.requeueAttempts<100)return d(i.requeueAttempts," - img slide not loaded, requeuing slideshow: ",this.src,this.cycleW,this.cycleH),setTimeout(function(){a(n.s,n.c).cycle(i)},s.requeueTimeout),H=!0,!1;d("could not determine size of image: "+this.src,this.cycleW,this.cycleH)}}return!0}),H)return!1;if(s.cssBefore=s.cssBefore||{},s.cssAfter=s.cssAfter||{},s.cssFirst=s.cssFirst||{},s.animIn=s.animIn||{},s.animOut=s.animOut||{},f.not(":eq("+x+")").css(s.cssBefore),a(f[x]).css(s.cssFirst),s.timeout){s.timeout=parseInt(s.timeout,10),s.speed.constructor==String&&(s.speed=a.fx.speeds[s.speed]||parseInt(s.speed,10)),s.sync||(s.speed=s.speed/2);for(var I="none"==s.fx?0:"shuffle"==s.fx?500:250;s.timeout-s.speed<I;)s.timeout+=s.speed}if(s.easing&&(s.easeIn=s.easeOut=s.easing),s.speedIn||(s.speedIn=s.speed),s.speedOut||(s.speedOut=s.speed),s.slideCount=h.length,s.currSlide=s.lastSlide=x,s.random?(++s.randomIndex==h.length&&(s.randomIndex=0),s.nextSlide=s.randomMap[s.randomIndex]):s.backwards?s.nextSlide=0===s.startingSlide?h.length-1:s.startingSlide-1:s.nextSlide=s.startingSlide>=h.length-1?0:s.startingSlide+1,!s.multiFx){var J=a.fn.cycle.transitions[s.fx];if(a.isFunction(J))J(c,f,s);else if("custom"!=s.fx&&!s.multiFx)return d("unknown transition: "+s.fx,"; slideshow terminating"),!1}var K=f[x];return s.skipInitializationCallbacks||(s.before.length&&s.before[0].apply(K,[K,K,s,!0]),s.after.length&&s.after[0].apply(K,[K,K,s,!0])),s.next&&a(s.next).bind(s.prevNextEvent,function(){return o(s,1)}),s.prev&&a(s.prev).bind(s.prevNextEvent,function(){return o(s,0)}),(s.pager||s.pagerAnchorBuilder)&&p(h,s),l(s,h),s}function j(b){b.original={before:[],after:[]},b.original.cssBefore=a.extend({},b.cssBefore),b.original.cssAfter=a.extend({},b.cssAfter),b.original.animIn=a.extend({},b.animIn),b.original.animOut=a.extend({},b.animOut),a.each(b.before,function(){b.original.before.push(this)}),a.each(b.after,function(){b.original.after.push(this)})}function k(b){var e,f,g=a.fn.cycle.transitions;if(b.fx.indexOf(",")>0){for(b.multiFx=!0,b.fxs=b.fx.replace(/\s*/g,"").split(","),e=0;e<b.fxs.length;e++){var h=b.fxs[e];f=g[h],f&&g.hasOwnProperty(h)&&a.isFunction(f)||(d("discarding unknown transition: ",h),b.fxs.splice(e,1),e--)}if(!b.fxs.length)return d("No valid transitions named; slideshow terminating."),!1}else if("all"==b.fx){b.multiFx=!0,b.fxs=[];for(var i in g)g.hasOwnProperty(i)&&(f=g[i],g.hasOwnProperty(i)&&a.isFunction(f)&&b.fxs.push(i))}if(b.multiFx&&b.randomizeEffects){var j=Math.floor(20*Math.random())+30;for(e=0;e<j;e++){var k=Math.floor(Math.random()*b.fxs.length);b.fxs.push(b.fxs.splice(k,1)[0])}c("randomized fx sequence: ",b.fxs)}return!0}function l(b,c){b.addSlide=function(d,e){var f=a(d),g=f[0];b.autostopCount||b.countdown++,c[e?"unshift":"push"](g),b.els&&b.els[e?"unshift":"push"](g),b.slideCount=c.length,b.random&&(b.randomMap.push(b.slideCount-1),b.randomMap.sort(function(a,b){return Math.random()-.5})),f.css("position","absolute"),f[e?"prependTo":"appendTo"](b.$cont),e&&(b.currSlide++,b.nextSlide++),a.support.opacity||!b.cleartype||b.cleartypeNoBg||q(f),b.fit&&b.width&&f.width(b.width),b.fit&&b.height&&"auto"!=b.height&&f.height(b.height),g.cycleH=b.fit&&b.height?b.height:f.height(),g.cycleW=b.fit&&b.width?b.width:f.width(),f.css(b.cssBefore),(b.pager||b.pagerAnchorBuilder)&&a.fn.cycle.createPagerAnchor(c.length-1,g,a(b.pager),c,b),a.isFunction(b.onAddSlide)?b.onAddSlide(f):f.hide()}}function m(d,e,f,g){function h(){var a=0;e.timeout;e.timeout&&!e.continuous?(a=n(d[e.currSlide],d[e.nextSlide],e,g),"shuffle"==e.fx&&(a-=e.speedOut)):e.continuous&&i.cyclePause&&(a=10),a>0&&(i.cycleTimeout=setTimeout(function(){m(d,e,0,!e.backwards)},a))}var i=e.$cont[0],j=d[e.currSlide],k=d[e.nextSlide];if(f&&e.busy&&e.manualTrump&&(c("manualTrump in go(), stopping active transition"),a(d).stop(!0,!0),e.busy=0,clearTimeout(i.cycleTimeout)),e.busy)return c("transition active, ignoring new tx request"),b;if(i.cycleStop==e.stopCount&&(0!==i.cycleTimeout||f)){if(!f&&!i.cyclePause&&!e.bounce&&(e.autostop&&--e.countdown<=0||e.nowrap&&!e.random&&e.nextSlide<e.currSlide))return e.end&&e.end(e),b;var l=!1;if(!f&&i.cyclePause||e.nextSlide==e.currSlide)h();else{l=!0;var o=e.fx;j.cycleH=j.cycleH||a(j).height(),j.cycleW=j.cycleW||a(j).width(),k.cycleH=k.cycleH||a(k).height(),k.cycleW=k.cycleW||a(k).width(),e.multiFx&&(g&&(e.lastFx===b||++e.lastFx>=e.fxs.length)?e.lastFx=0:!g&&(e.lastFx===b||--e.lastFx<0)&&(e.lastFx=e.fxs.length-1),o=e.fxs[e.lastFx]),e.oneTimeFx&&(o=e.oneTimeFx,e.oneTimeFx=null),a.fn.cycle.resetState(e,o),e.before.length&&a.each(e.before,function(a,b){i.cycleStop==e.stopCount&&b.apply(k,[j,k,e,g])});var p=function(){e.busy=0,a.each(e.after,function(a,b){i.cycleStop==e.stopCount&&b.apply(k,[j,k,e,g])}),i.cycleStop||h()};c("tx firing("+o+"); currSlide: "+e.currSlide+"; nextSlide: "+e.nextSlide),e.busy=1,e.fxFn?e.fxFn(j,k,e,p,g,f&&e.fastOnEvent):a.isFunction(a.fn.cycle[e.fx])?a.fn.cycle[e.fx](j,k,e,p,g,f&&e.fastOnEvent):a.fn.cycle.custom(j,k,e,p,g,f&&e.fastOnEvent)}if(l||e.nextSlide==e.currSlide){var q;e.lastSlide=e.currSlide,e.random?(e.currSlide=e.nextSlide,++e.randomIndex==d.length&&(e.randomIndex=0,e.randomMap.sort(function(a,b){return Math.random()-.5})),e.nextSlide=e.randomMap[e.randomIndex],e.nextSlide==e.currSlide&&(e.nextSlide=e.currSlide==e.slideCount-1?0:e.currSlide+1)):e.backwards?(q=e.nextSlide-1<0,q&&e.bounce?(e.backwards=!e.backwards,e.nextSlide=1,e.currSlide=0):(e.nextSlide=q?d.length-1:e.nextSlide-1,e.currSlide=q?0:e.nextSlide+1)):(q=e.nextSlide+1==d.length,q&&e.bounce?(e.backwards=!e.backwards,e.nextSlide=d.length-2,e.currSlide=d.length-1):(e.nextSlide=q?0:e.nextSlide+1,e.currSlide=q?d.length-1:e.nextSlide-1))}l&&e.pager&&e.updateActivePagerLink(e.pager,e.currSlide,e.activePagerClass)}}function n(a,b,d,e){if(d.timeoutFn){for(var f=d.timeoutFn.call(a,a,b,d,e);"none"!=d.fx&&f-d.speed<250;)f+=d.speed;if(c("calculated timeout: "+f+"; speed: "+d.speed),f!==!1)return f}return d.timeout}function o(b,c){var d=c?1:-1,e=b.elements,f=b.$cont[0],g=f.cycleTimeout;if(g&&(clearTimeout(g),f.cycleTimeout=0),b.random&&d<0)b.randomIndex--,--b.randomIndex==-2?b.randomIndex=e.length-2:b.randomIndex==-1&&(b.randomIndex=e.length-1),b.nextSlide=b.randomMap[b.randomIndex];else if(b.random)b.nextSlide=b.randomMap[b.randomIndex];else if(b.nextSlide=b.currSlide+d,b.nextSlide<0){if(b.nowrap)return!1;b.nextSlide=e.length-1}else if(b.nextSlide>=e.length){if(b.nowrap)return!1;b.nextSlide=0}var h=b.onPrevNextEvent||b.prevNextClick;return a.isFunction(h)&&h(d>0,b.nextSlide,e[b.nextSlide]),m(e,b,1,c),!1}function p(b,c){var d=a(c.pager);a.each(b,function(e,f){a.fn.cycle.createPagerAnchor(e,f,d,b,c)}),c.updateActivePagerLink(c.pager,c.startingSlide,c.activePagerClass)}function q(b){function d(a){return a=parseInt(a,10).toString(16),a.length<2?"0"+a:a}function e(b){for(;b&&"html"!=b.nodeName.toLowerCase();b=b.parentNode){var c=a.css(b,"background-color");if(c&&c.indexOf("rgb")>=0){var e=c.match(/\d+/g);return"#"+d(e[0])+d(e[1])+d(e[2])}if(c&&"transparent"!=c)return c}return"#ffffff"}c("applying clearType background-color hack"),b.each(function(){a(this).css("background-color",e(this))})}var r="3.0.1";a.expr[":"].paused=function(a){return a.cyclePause},a.fn.cycle=function(e,g){var h={s:this.selector,c:this.context};return 0===this.length&&"stop"!=e?!a.isReady&&h.s?(d("DOM not ready, queuing slideshow"),a(function(){a(h.s,h.c).cycle(e,g)}),this):(d("terminating; zero elements found by selector"+(a.isReady?"":" (DOM not ready)")),this):this.each(function(){var j=f(this,e,g);if(j!==!1){j.updateActivePagerLink=j.updateActivePagerLink||a.fn.cycle.updateActivePagerLink,this.cycleTimeout&&clearTimeout(this.cycleTimeout),this.cycleTimeout=this.cyclePause=0,this.cycleStop=0;var k=a(this),l=j.slideExpr?a(j.slideExpr,this):k.children(),o=l.get();if(o.length<2)return d("terminating; too few slides: "+o.length),b;var p=i(k,l,o,j,h);if(p!==!1){var q=p.continuous?10:n(o[p.currSlide],o[p.nextSlide],p,!p.backwards);q&&(q+=p.delay||0,q<10&&(q=10),c("first timeout: "+q),this.cycleTimeout=setTimeout(function(){m(o,p,0,!j.backwards)},q))}}})},a.fn.cycle.resetState=function(b,c){c=c||b.fx,b.before=[],b.after=[],b.cssBefore=a.extend({},b.original.cssBefore),b.cssAfter=a.extend({},b.original.cssAfter),b.animIn=a.extend({},b.original.animIn),b.animOut=a.extend({},b.original.animOut),b.fxFn=null,a.each(b.original.before,function(){b.before.push(this)}),a.each(b.original.after,function(){b.after.push(this)});var d=a.fn.cycle.transitions[c];a.isFunction(d)&&d(b.$cont,a(b.elements),b)},a.fn.cycle.updateActivePagerLink=function(b,c,d){a(b).each(function(){a(this).children().removeClass(d).eq(c).addClass(d)})},a.fn.cycle.next=function(a){o(a,1)},a.fn.cycle.prev=function(a){o(a,0)},a.fn.cycle.createPagerAnchor=function(b,d,f,g,h){var i;if(a.isFunction(h.pagerAnchorBuilder)?(i=h.pagerAnchorBuilder(b,d),c("pagerAnchorBuilder("+b+", el) returned: "+i)):i='<a href="#">'+(b+1)+"</a>",i){var j=a(i);if(0===j.parents("body").length){var k=[];f.length>1?(f.each(function(){var b=j.clone(!0);a(this).append(b),k.push(b[0])}),j=a(k)):j.appendTo(f)}h.pagerAnchors=h.pagerAnchors||[],h.pagerAnchors.push(j);var l=function(c){c.preventDefault(),h.nextSlide=b;var d=h.$cont[0],e=d.cycleTimeout;e&&(clearTimeout(e),d.cycleTimeout=0);var f=h.onPagerEvent||h.pagerClick;a.isFunction(f)&&f(h.nextSlide,g[h.nextSlide]),m(g,h,1,h.currSlide<b)};/mouseenter|mouseover/i.test(h.pagerEvent)?j.hover(l,function(){}):j.bind(h.pagerEvent,l),/^click/.test(h.pagerEvent)||h.allowPagerClickBubble||j.bind("click.cycle",function(){return!1});var n=h.$cont[0],o=!1;h.pauseOnPagerHover&&j.hover(function(){o=!0,n.cyclePause++,e(n,!0,!0)},function(){o&&n.cyclePause--,e(n,!0,!0)})}},a.fn.cycle.hopsFromLast=function(a,b){var c,d=a.lastSlide,e=a.currSlide;return c=b?e>d?e-d:a.slideCount-d:e<d?d-e:d+a.slideCount-e},a.fn.cycle.commonReset=function(c,d,e,f,g,h){a(e.elements).not(c).hide(),b===e.cssBefore.opacity&&(e.cssBefore.opacity=1),e.cssBefore.display="block",e.slideResize&&f!==!1&&d.cycleW>0&&(e.cssBefore.width=d.cycleW),e.slideResize&&g!==!1&&d.cycleH>0&&(e.cssBefore.height=d.cycleH),e.cssAfter=e.cssAfter||{},e.cssAfter.display="none",a(c).css("zIndex",e.slideCount+(h===!0?1:0)),a(d).css("zIndex",e.slideCount+(h===!0?0:1))},a.fn.cycle.custom=function(b,c,d,e,f,g){var h=a(b),i=a(c),j=d.speedIn,k=d.speedOut,l=d.easeIn,m=d.easeOut;i.css(d.cssBefore),g&&(j=k="number"==typeof g?g:1,l=m=null);var n=function(){i.animate(d.animIn,j,l,function(){e()})};h.animate(d.animOut,k,m,function(){h.css(d.cssAfter),d.sync||n()}),d.sync&&n()},a.fn.cycle.transitions={fade:function(b,c,d){c.not(":eq("+d.currSlide+")").css("opacity",0),d.before.push(function(b,c,d){a.fn.cycle.commonReset(b,c,d),d.cssBefore.opacity=0}),d.animIn={opacity:1},d.animOut={opacity:0},d.cssBefore={top:0,left:0}}},a.fn.cycle.ver=function(){return r},a.fn.cycle.defaults={activePagerClass:"activeSlide",after:null,allowPagerClickBubble:!1,animIn:null,animOut:null,aspect:!1,autostop:0,autostopCount:0,backwards:!1,before:null,center:null,cleartype:!a.support.opacity,cleartypeNoBg:!1,containerResize:1,containerResizeHeight:0,continuous:0,cssAfter:null,cssBefore:null,delay:0,easeIn:null,easeOut:null,easing:null,end:null,fastOnEvent:0,fit:0,fx:"fade",fxFn:null,height:"auto",manualTrump:!0,metaAttr:"cycle",next:null,nowrap:0,onPagerEvent:null,onPrevNextEvent:null,pager:null,pagerAnchorBuilder:null,pagerEvent:"click.cycle",pause:0,pauseOnPagerHover:0,prev:null,prevNextEvent:"click.cycle",random:0,randomizeEffects:1,requeueOnImageNotLoaded:!0,requeueTimeout:250,rev:0,shuffle:null,skipInitializationCallbacks:!1,slideExpr:null,slideResize:1,speed:1e3,speedIn:null,speedOut:null,startingSlide:b,sync:1,timeout:4e3,timeoutFn:null,updateActivePagerLink:null,width:null}}(jQuery),function(a){"use strict";a.fn.cycle.transitions.none=function(b,c,d){d.fxFn=function(b,c,d,e){a(c).show(),a(b).hide(),e()}},a.fn.cycle.transitions.fadeout=function(b,c,d){c.not(":eq("+d.currSlide+")").css({display:"block",opacity:1}),d.before.push(function(b,c,d,e,f,g){a(b).css("zIndex",d.slideCount+(g!==!0?1:0)),a(c).css("zIndex",d.slideCount+(g!==!0?0:1))}),d.animIn.opacity=1,d.animOut.opacity=0,d.cssBefore.opacity=1,d.cssBefore.display="block",d.cssAfter.zIndex=0},a.fn.cycle.transitions.scrollUp=function(b,c,d){b.css("overflow","hidden"),d.before.push(a.fn.cycle.commonReset);var e=b.height();d.cssBefore.top=e,d.cssBefore.left=0,d.cssFirst.top=0,d.animIn.top=0,d.animOut.top=-e},a.fn.cycle.transitions.scrollDown=function(b,c,d){b.css("overflow","hidden"),d.before.push(a.fn.cycle.commonReset);var e=b.height();d.cssFirst.top=0,d.cssBefore.top=-e,d.cssBefore.left=0,d.animIn.top=0,d.animOut.top=e},a.fn.cycle.transitions.scrollLeft=function(b,c,d){b.css("overflow","hidden"),d.before.push(a.fn.cycle.commonReset);var e=b.width();d.cssFirst.left=0,d.cssBefore.left=e,d.cssBefore.top=0,d.animIn.left=0,d.animOut.left=0-e},a.fn.cycle.transitions.scrollRight=function(b,c,d){b.css("overflow","hidden"),d.before.push(a.fn.cycle.commonReset);var e=b.width();d.cssFirst.left=0,d.cssBefore.left=-e,d.cssBefore.top=0,d.animIn.left=0,d.animOut.left=e},a.fn.cycle.transitions.scrollHorz=function(b,c,d){b.css("overflow","hidden").width(),d.before.push(function(b,c,d,e){d.rev&&(e=!e),a.fn.cycle.commonReset(b,c,d),d.cssBefore.left=e?c.cycleW-1:1-c.cycleW,d.animOut.left=e?-b.cycleW:b.cycleW}),d.cssFirst.left=0,d.cssBefore.top=0,d.animIn.left=0,d.animOut.top=0},a.fn.cycle.transitions.scrollVert=function(b,c,d){b.css("overflow","hidden"),d.before.push(function(b,c,d,e){d.rev&&(e=!e),a.fn.cycle.commonReset(b,c,d),d.cssBefore.top=e?1-c.cycleH:c.cycleH-1,d.animOut.top=e?b.cycleH:-b.cycleH}),d.cssFirst.top=0,d.cssBefore.left=0,d.animIn.top=0,d.animOut.left=0},a.fn.cycle.transitions.slideX=function(b,c,d){d.before.push(function(b,c,d){a(d.elements).not(b).hide(),a.fn.cycle.commonReset(b,c,d,!1,!0),d.animIn.width=c.cycleW}),d.cssBefore.left=0,d.cssBefore.top=0,d.cssBefore.width=0,d.animIn.width="show",d.animOut.width=0},a.fn.cycle.transitions.slideY=function(b,c,d){d.before.push(function(b,c,d){a(d.elements).not(b).hide(),a.fn.cycle.commonReset(b,c,d,!0,!1),d.animIn.height=c.cycleH}),d.cssBefore.left=0,d.cssBefore.top=0,d.cssBefore.height=0,d.animIn.height="show",d.animOut.height=0},a.fn.cycle.transitions.shuffle=function(b,c,d){var e,f=b.css("overflow","visible").width();for(c.css({left:0,top:0}),d.before.push(function(b,c,d){a.fn.cycle.commonReset(b,c,d,!0,!0,!0)}),d.speedAdjusted||(d.speed=d.speed/2,d.speedAdjusted=!0),d.random=0,d.shuffle=d.shuffle||{left:-f,top:15},d.els=[],e=0;e<c.length;e++)d.els.push(c[e]);for(e=0;e<d.currSlide;e++)d.els.push(d.els.shift());d.fxFn=function(b,c,d,e,f){d.rev&&(f=!f);var g=a(f?b:c);a(c).css(d.cssBefore);var h=d.slideCount;g.animate(d.shuffle,d.speedIn,d.easeIn,function(){
for(var c=a.fn.cycle.hopsFromLast(d,f),i=0;i<c;i++)f?d.els.push(d.els.shift()):d.els.unshift(d.els.pop());if(f)for(var j=0,k=d.els.length;j<k;j++)a(d.els[j]).css("z-index",k-j+h);else{var l=a(b).css("z-index");g.css("z-index",parseInt(l,10)+1+h)}g.animate({left:0,top:0},d.speedOut,d.easeOut,function(){a(f?this:b).hide(),e&&e()})})},a.extend(d.cssBefore,{display:"block",opacity:1,top:0,left:0})},a.fn.cycle.transitions.turnUp=function(b,c,d){d.before.push(function(b,c,d){a.fn.cycle.commonReset(b,c,d,!0,!1),d.cssBefore.top=c.cycleH,d.animIn.height=c.cycleH,d.animOut.width=c.cycleW}),d.cssFirst.top=0,d.cssBefore.left=0,d.cssBefore.height=0,d.animIn.top=0,d.animOut.height=0},a.fn.cycle.transitions.turnDown=function(b,c,d){d.before.push(function(b,c,d){a.fn.cycle.commonReset(b,c,d,!0,!1),d.animIn.height=c.cycleH,d.animOut.top=b.cycleH}),d.cssFirst.top=0,d.cssBefore.left=0,d.cssBefore.top=0,d.cssBefore.height=0,d.animOut.height=0},a.fn.cycle.transitions.turnLeft=function(b,c,d){d.before.push(function(b,c,d){a.fn.cycle.commonReset(b,c,d,!1,!0),d.cssBefore.left=c.cycleW,d.animIn.width=c.cycleW}),d.cssBefore.top=0,d.cssBefore.width=0,d.animIn.left=0,d.animOut.width=0},a.fn.cycle.transitions.turnRight=function(b,c,d){d.before.push(function(b,c,d){a.fn.cycle.commonReset(b,c,d,!1,!0),d.animIn.width=c.cycleW,d.animOut.left=b.cycleW}),a.extend(d.cssBefore,{top:0,left:0,width:0}),d.animIn.left=0,d.animOut.width=0},a.fn.cycle.transitions.zoom=function(b,c,d){d.before.push(function(b,c,d){a.fn.cycle.commonReset(b,c,d,!1,!1,!0),d.cssBefore.top=c.cycleH/2,d.cssBefore.left=c.cycleW/2,a.extend(d.animIn,{top:0,left:0,width:c.cycleW,height:c.cycleH}),a.extend(d.animOut,{width:0,height:0,top:b.cycleH/2,left:b.cycleW/2})}),d.cssFirst.top=0,d.cssFirst.left=0,d.cssBefore.width=0,d.cssBefore.height=0},a.fn.cycle.transitions.fadeZoom=function(b,c,d){d.before.push(function(b,c,d){a.fn.cycle.commonReset(b,c,d,!1,!1),d.cssBefore.left=c.cycleW/2,d.cssBefore.top=c.cycleH/2,a.extend(d.animIn,{top:0,left:0,width:c.cycleW,height:c.cycleH})}),d.cssBefore.width=0,d.cssBefore.height=0,d.animOut.opacity=0},a.fn.cycle.transitions.blindX=function(b,c,d){var e=b.css("overflow","hidden").width();d.before.push(function(b,c,d){a.fn.cycle.commonReset(b,c,d),d.animIn.width=c.cycleW,d.animOut.left=b.cycleW}),d.cssBefore.left=e,d.cssBefore.top=0,d.animIn.left=0,d.animOut.left=e},a.fn.cycle.transitions.blindY=function(b,c,d){var e=b.css("overflow","hidden").height();d.before.push(function(b,c,d){a.fn.cycle.commonReset(b,c,d),d.animIn.height=c.cycleH,d.animOut.top=b.cycleH}),d.cssBefore.top=e,d.cssBefore.left=0,d.animIn.top=0,d.animOut.top=e},a.fn.cycle.transitions.blindZ=function(b,c,d){var e=b.css("overflow","hidden").height(),f=b.width();d.before.push(function(b,c,d){a.fn.cycle.commonReset(b,c,d),d.animIn.height=c.cycleH,d.animOut.top=b.cycleH}),d.cssBefore.top=e,d.cssBefore.left=f,d.animIn.top=0,d.animIn.left=0,d.animOut.top=e,d.animOut.left=f},a.fn.cycle.transitions.growX=function(b,c,d){d.before.push(function(b,c,d){a.fn.cycle.commonReset(b,c,d,!1,!0),d.cssBefore.left=this.cycleW/2,d.animIn.left=0,d.animIn.width=this.cycleW,d.animOut.left=0}),d.cssBefore.top=0,d.cssBefore.width=0},a.fn.cycle.transitions.growY=function(b,c,d){d.before.push(function(b,c,d){a.fn.cycle.commonReset(b,c,d,!0,!1),d.cssBefore.top=this.cycleH/2,d.animIn.top=0,d.animIn.height=this.cycleH,d.animOut.top=0}),d.cssBefore.height=0,d.cssBefore.left=0},a.fn.cycle.transitions.curtainX=function(b,c,d){d.before.push(function(b,c,d){a.fn.cycle.commonReset(b,c,d,!1,!0,!0),d.cssBefore.left=c.cycleW/2,d.animIn.left=0,d.animIn.width=this.cycleW,d.animOut.left=b.cycleW/2,d.animOut.width=0}),d.cssBefore.top=0,d.cssBefore.width=0},a.fn.cycle.transitions.curtainY=function(b,c,d){d.before.push(function(b,c,d){a.fn.cycle.commonReset(b,c,d,!0,!1,!0),d.cssBefore.top=c.cycleH/2,d.animIn.top=0,d.animIn.height=c.cycleH,d.animOut.top=b.cycleH/2,d.animOut.height=0}),d.cssBefore.height=0,d.cssBefore.left=0},a.fn.cycle.transitions.cover=function(b,c,d){var e=d.direction||"left",f=b.css("overflow","hidden").width(),g=b.height();d.before.push(function(b,c,d){a.fn.cycle.commonReset(b,c,d),d.cssAfter.display="","right"==e?d.cssBefore.left=-f:"up"==e?d.cssBefore.top=g:"down"==e?d.cssBefore.top=-g:d.cssBefore.left=f}),d.animIn.left=0,d.animIn.top=0,d.cssBefore.top=0,d.cssBefore.left=0},a.fn.cycle.transitions.uncover=function(b,c,d){var e=d.direction||"left",f=b.css("overflow","hidden").width(),g=b.height();d.before.push(function(b,c,d){a.fn.cycle.commonReset(b,c,d,!0,!0,!0),"right"==e?d.animOut.left=f:"up"==e?d.animOut.top=-g:"down"==e?d.animOut.top=g:d.animOut.left=-f}),d.animIn.left=0,d.animIn.top=0,d.cssBefore.top=0,d.cssBefore.left=0},a.fn.cycle.transitions.toss=function(b,c,d){var e=b.css("overflow","visible").width(),f=b.height();d.before.push(function(b,c,d){a.fn.cycle.commonReset(b,c,d,!0,!0,!0),d.animOut.left||d.animOut.top?d.animOut.opacity=0:a.extend(d.animOut,{left:2*e,top:-f/2,opacity:0})}),d.cssBefore.left=0,d.cssBefore.top=0,d.animIn.left=0},a.fn.cycle.transitions.wipe=function(b,c,d){var e=b.css("overflow","hidden").width(),f=b.height();d.cssBefore=d.cssBefore||{};var g;if(d.clip)if(/l2r/.test(d.clip))g="rect(0px 0px "+f+"px 0px)";else if(/r2l/.test(d.clip))g="rect(0px "+e+"px "+f+"px "+e+"px)";else if(/t2b/.test(d.clip))g="rect(0px "+e+"px 0px 0px)";else if(/b2t/.test(d.clip))g="rect("+f+"px "+e+"px "+f+"px 0px)";else if(/zoom/.test(d.clip)){var h=parseInt(f/2,10),i=parseInt(e/2,10);g="rect("+h+"px "+i+"px "+h+"px "+i+"px)"}d.cssBefore.clip=d.cssBefore.clip||g||"rect(0px 0px 0px 0px)";var j=d.cssBefore.clip.match(/(\d+)/g),k=parseInt(j[0],10),l=parseInt(j[1],10),m=parseInt(j[2],10),n=parseInt(j[3],10);d.before.push(function(b,c,d){if(b!=c){var g=a(b),h=a(c);a.fn.cycle.commonReset(b,c,d,!0,!0,!1),d.cssAfter.display="block";var i=1,j=parseInt(d.speedIn/13,10)-1;!function o(){var a=k?k-parseInt(i*(k/j),10):0,b=n?n-parseInt(i*(n/j),10):0,c=m<f?m+parseInt(i*((f-m)/j||1),10):f,d=l<e?l+parseInt(i*((e-l)/j||1),10):e;h.css({clip:"rect("+a+"px "+d+"px "+c+"px "+b+"px)"}),i++<=j?setTimeout(o,13):g.css("display","none")}()}}),a.extend(d.cssBefore,{display:"block",opacity:1,top:0,left:0}),d.animIn={left:0},d.animOut={left:0}}}(jQuery),function(a){a.fn.PlayScroller=function(){this.children().stop(),this.children().trigger("marquee",["resume"])},a.fn.PauseScroller=function(){this.children().stop()},a.fn.ResetScroller=function(b){this.children().stop(),this.children().unbind("marquee"),b=a.extend(this.data(),b),this.SetScroller(b)},a.fn.RemoveScroller=function(){this.children().stop(),this.children().css({top:0,left:0}),this.children().unbind("marquee")},a.fn.SetScroller=function(b){function c(){f.me.css("cursor",o),"horizontal"==h?("right"!=i&&"left"!=i&&(i="right"),e()):("bottom"!=i&&"top"!=i&&(i="bottom"),d()),"play"==l?f.me.mouseover(function(){a(this).children().stop(),a(this).children().trigger("marquee",["resume"])}):f.me.mouseover(function(){a(this).children().stop()}),"play"==m?f.me.mouseout(function(){a(this).children().stop(),a(this).children().trigger("marquee",["resume"])}):f.me.mouseout(function(){a(this).children().stop()}),"play"!=n&&f.me.children().stop()}function d(){f.me.children().bind("marquee",function(b,c){var d=a(this),e=parseInt(d.parent().height()),f=parseInt(d.height()),h=parseInt(d.position().top),l=g>0&&g<100?100*(100-g):5e3,m=parseInt(l*f/100)+l;if("pingpong"==k)switch(i){case"bottom":void 0===c&&d.css({top:e-f}),e=h-(f+e);break;default:void 0===c&&d.css({top:0}),e+=h+f}else switch(i){case"bottom":void 0===c?(d.css({top:e}),e=-f):e=h-(f+e);break;default:void 0===c?d.css({top:-f}):e+=h+f}(j<0||j>0)&&(j>0&&j--,d.animate({top:e},{duration:m,easing:"linear",complete:function(){d.trigger("marquee")},step:function(){switch(k){case"pingpong":"bottom"==i?parseInt(d.position().top)<=0&&(i="top",d.stop(),d.trigger("marquee")):parseInt(d.position().top)+parseInt(d.height())>=parseInt(d.parent().height())&&(i="bottom",d.stop(),d.trigger("marquee"));break;default:"bottom"==i?parseInt(d.position().top)<-parseInt(d.height())&&(d.stop(),d.trigger("marquee")):parseInt(d.position().top)>parseInt(d.parent().height())&&(d.stop(),d.trigger("marquee"))}}}))}).trigger("marquee")}function e(){f.me.children().bind("marquee",function(b,c){var d=a(this),e=parseInt(d.parent().width()),f=parseInt(d.width()),h=parseInt(d.position().left),l=g>0&&g<100?100*(100-g):5e3,m=parseInt(l*f/100)+l;if("pingpong"==k)switch(i){case"right":void 0===c&&d.css({left:e-f}),e=h-(f+e);break;default:void 0===c&&d.css({left:0}),e+=h+f}else switch(i){case"right":void 0===c?(d.css({left:e}),e=-f):e=h-(f+e);break;default:void 0===c?d.css({left:-f}):e+=h+f}(j<0||j>0)&&(j>0&&j--,d.animate({left:e},{duration:m,easing:"linear",complete:function(){d.trigger("marquee")},step:function(){switch(k){case"pingpong":"right"==i?parseInt(d.position().left)<=0&&(i="left",d.stop(),d.trigger("marquee")):parseInt(d.position().left)+parseInt(d.width())>=parseInt(d.parent().width())&&(i="right",d.stop(),d.trigger("marquee"));break;default:"right"==i?parseInt(d.position().left)<-parseInt(d.width())&&(d.stop(),d.trigger("marquee")):parseInt(d.position().left)>parseInt(d.parent().width())&&(d.stop(),d.trigger("marquee"))}}}))}).trigger("marquee")}var f={me:this};b=a.extend({velocity:50,direction:"horizontal",startfrom:"right",loop:"infinite",movetype:"linear",onmouseover:"pause",onmouseout:"play",onstartup:"play",cursor:"pointer"},b);var g="number"==typeof b.velocity?parseInt(b.velocity):50,h=b.direction.toLowerCase(),i=b.startfrom.toLowerCase(),j="number"==typeof b.loop&&b.loop>0?parseInt(b.loop):-1,k=b.movetype.toLowerCase(),l=b.onmouseover.toLowerCase(),m=b.onmouseout.toLowerCase(),n=b.onstartup.toLowerCase(),o=b.cursor.toLowerCase();return f.me.data(b),c(),this}}(jQuery),function(a){var b,c,d,e,f,g,h,i="Close",j="BeforeClose",k="AfterClose",l="BeforeAppend",m="MarkupParse",n="Open",o="Change",p="mfp",q="."+p,r="mfp-ready",s="mfp-removing",t="mfp-prevent-close",u=function(){},v=!!window.jQuery,w=a(window),x=function(a,c){b.ev.on(p+a+q,c)},y=function(b,c,d,e){var f=document.createElement("div");return f.className="mfp-"+b,d&&(f.innerHTML=d),e?c&&c.appendChild(f):(f=a(f),c&&f.appendTo(c)),f},z=function(c,d){b.ev.triggerHandler(p+c,d),b.st.callbacks&&(c=c.charAt(0).toLowerCase()+c.slice(1),b.st.callbacks[c]&&b.st.callbacks[c].apply(b,a.isArray(d)?d:[d]))},A=function(){(b.st.focus?b.content.find(b.st.focus).eq(0):b.wrap).focus()},B=function(c){return c===h&&b.currTemplate.closeBtn||(b.currTemplate.closeBtn=a(b.st.closeMarkup.replace("%title%",b.st.tClose)),h=c),b.currTemplate.closeBtn},C=function(){a.magnificPopup.instance||(b=new u,b.init(),a.magnificPopup.instance=b)},D=function(c){if(!a(c).hasClass(t)){var d=b.st.closeOnContentClick,e=b.st.closeOnBgClick;if(d&&e)return!0;if(!b.content||a(c).hasClass("mfp-close")||b.preloader&&c===b.preloader[0])return!0;if(c===b.content[0]||a.contains(b.content[0],c)){if(d)return!0}else if(e)return!0;return!1}};u.prototype={constructor:u,init:function(){var c=navigator.appVersion;b.isIE7=c.indexOf("MSIE 7.")!==-1,b.isIE8=c.indexOf("MSIE 8.")!==-1,b.isLowIE=b.isIE7||b.isIE8,b.isAndroid=/android/gi.test(c),b.isIOS=/iphone|ipad|ipod/gi.test(c),b.probablyMobile=b.isAndroid||b.isIOS||/(Opera Mini)|Kindle|webOS|BlackBerry|(Opera Mobi)|(Windows Phone)|IEMobile/i.test(navigator.userAgent),d=a(document.body),e=a(document),b.popupsCache={}},open:function(c){var f;if(c.isObj===!1){b.items=c.items.toArray(),b.index=0;var h,i=c.items;for(f=0;f<i.length;f++)if(h=i[f],h.parsed&&(h=h.el[0]),h===c.el[0]){b.index=f;break}}else b.items=a.isArray(c.items)?c.items:[c.items],b.index=c.index||0;if(b.isOpen)return void b.updateItemHTML();b.types=[],g="",b.ev=c.mainEl||e,c.key?(b.popupsCache[c.key]||(b.popupsCache[c.key]={}),b.currTemplate=b.popupsCache[c.key]):b.currTemplate={},b.st=a.extend(!0,{},a.magnificPopup.defaults,c),b.fixedContentPos="auto"===b.st.fixedContentPos?!b.probablyMobile:b.st.fixedContentPos,b.bgOverlay||(b.bgOverlay=y("bg").on("click"+q,function(){b.close()}),b.wrap=y("wrap").attr("tabindex",-1).on("click"+q,function(a){D(a.target)&&b.close()}),b.container=y("container",b.wrap)),b.contentContainer=y("content"),b.st.preloader&&(b.preloader=y("preloader",b.container,b.st.tLoading));var j=a.magnificPopup.modules;for(f=0;f<j.length;f++){var k=j[f];k=k.charAt(0).toUpperCase()+k.slice(1),b["init"+k].call(b)}z("BeforeOpen"),b.st.closeBtnInside?(x(m,function(a,b,c,d){c.close_replaceWith=B(d.type)}),g+=" mfp-close-btn-in"):b.wrap.append(B()),b.st.alignTop&&(g+=" mfp-align-top"),b.fixedContentPos?b.wrap.css({overflow:b.st.overflowY,overflowX:"hidden",overflowY:b.st.overflowY}):b.wrap.css({top:w.scrollTop(),position:"absolute"}),(b.st.fixedBgPos===!1||"auto"===b.st.fixedBgPos&&!b.fixedContentPos)&&b.bgOverlay.css({height:e.height(),position:"absolute"}),e.on("keyup"+q,function(a){27===a.keyCode&&b.close()}),w.on("resize"+q,function(){b.updateSize()}),b.st.closeOnContentClick||(g+=" mfp-auto-cursor"),g&&b.wrap.addClass(g);var l=b.wH=w.height(),o={};if(b.fixedContentPos&&b._hasScrollBar(l)){var p=b._getScrollbarSize();p&&(o.paddingRight=p)}b.fixedContentPos&&(b.isIE7?a("body, html").css("overflow","hidden"):o.overflow="hidden");var s=b.st.mainClass;b.isIE7&&(s+=" mfp-ie7"),s&&b._addClassToMFP(s),b.updateItemHTML(),z("BuildControls"),d.css(o),b.bgOverlay.add(b.wrap).prependTo(document.body),b._lastFocusedEl=document.activeElement,setTimeout(function(){b.content?(b._addClassToMFP(r),A()):b.bgOverlay.addClass(r),e.on("focusin"+q,function(c){if(c.target!==b.wrap[0]&&!a.contains(b.wrap[0],c.target))return A(),!1})},16),b.isOpen=!0,b.updateSize(l),z(n)},close:function(){b.isOpen&&(z(j),b.isOpen=!1,b.st.removalDelay&&!b.isLowIE?(b._addClassToMFP(s),setTimeout(function(){b._close()},b.st.removalDelay)):b._close())},_close:function(){z(i);var c=s+" "+r+" ";if(b.bgOverlay.detach(),b.wrap.detach(),b.container.empty(),b.st.mainClass&&(c+=b.st.mainClass+" "),b._removeClassFromMFP(c),b.fixedContentPos){var f={paddingRight:""};b.isIE7?a("body, html").css("overflow",""):f.overflow="",d.css(f)}e.off("keyup"+q+" focusin"+q),b.ev.off(q),b.wrap.attr("class","mfp-wrap").removeAttr("style"),b.bgOverlay.attr("class","mfp-bg"),b.container.attr("class","mfp-container"),b.st.closeBtnInside&&b.currTemplate[b.currItem.type]!==!0||b.currTemplate.closeBtn&&b.currTemplate.closeBtn.detach(),b._lastFocusedEl&&a(b._lastFocusedEl).focus(),b.currItem=null,b.content=null,b.currTemplate=null,b.prevHeight=0,z(k)},updateSize:function(a){if(b.isIOS){var c=document.documentElement.clientWidth/window.innerWidth,d=window.innerHeight*c;b.wrap.css("height",d),b.wH=d}else b.wH=a||w.height();b.fixedContentPos||b.wrap.css("height",b.wH),z("Resize")},updateItemHTML:function(){var c=b.items[b.index];b.contentContainer.detach(),b.content&&b.content.detach(),c.parsed||(c=b.parseEl(b.index));var d=c.type;if(z("BeforeChange",[b.currItem?b.currItem.type:"",d]),b.currItem=c,!b.currTemplate[d]){var e=!!b.st[d]&&b.st[d].markup;z("FirstMarkupParse",e),e?b.currTemplate[d]=a(e):b.currTemplate[d]=!0}f&&f!==c.type&&b.container.removeClass("mfp-"+f+"-holder");var g=b["get"+d.charAt(0).toUpperCase()+d.slice(1)](c,b.currTemplate[d]);b.appendContent(g,d),c.preloaded=!0,z(o,c),f=c.type,b.container.prepend(b.contentContainer),z("AfterChange")},appendContent:function(a,c){b.content=a,a?b.st.closeBtnInside&&b.currTemplate[c]===!0?b.content.find(".mfp-close").length||b.content.append(B()):b.content=a:b.content="",z(l),b.container.addClass("mfp-"+c+"-holder"),b.contentContainer.append(b.content)},parseEl:function(c){var d=b.items[c],e=d.type;if(d=d.tagName?{el:a(d)}:{data:d,src:d.src},d.el){for(var f=b.types,g=0;g<f.length;g++)if(d.el.hasClass("mfp-"+f[g])){e=f[g];break}d.src=d.el.attr("data-mfp-src"),d.src||(d.src=d.el.attr("href"))}return d.type=e||b.st.type||"inline",d.index=c,d.parsed=!0,b.items[c]=d,z("ElementParse",d),b.items[c]},addGroup:function(a,c){var d=function(d){d.mfpEl=this,b._openClick(d,a,c)};c||(c={});var e="click.magnificPopup";c.mainEl=a,c.items?(c.isObj=!0,a.off(e).on(e,d)):(c.isObj=!1,c.delegate?a.off(e).on(e,c.delegate,d):(c.items=a,a.off(e).on(e,d)))},_openClick:function(c,d,e){var f=void 0!==e.midClick?e.midClick:a.magnificPopup.defaults.midClick;if(f||2!==c.which){var g=void 0!==e.disableOn?e.disableOn:a.magnificPopup.defaults.disableOn;if(g)if(a.isFunction(g)){if(!g.call(b))return!0}else if(w.width()<g)return!0;c.type&&(c.preventDefault(),b.isOpen&&c.stopPropagation()),e.el=a(c.mfpEl),e.delegate&&(e.items=d.find(e.delegate)),b.open(e)}},updateStatus:function(a,d){if(b.preloader){c!==a&&b.container.removeClass("mfp-s-"+c),d||"loading"!==a||(d=b.st.tLoading);var e={status:a,text:d};z("UpdateStatus",e),a=e.status,d=e.text,b.preloader.html(d),b.preloader.find("a").click(function(a){a.stopImmediatePropagation()}),b.container.addClass("mfp-s-"+a),c=a}},_addClassToMFP:function(a){b.bgOverlay.addClass(a),b.wrap.addClass(a)},_removeClassFromMFP:function(a){this.bgOverlay.removeClass(a),b.wrap.removeClass(a)},_hasScrollBar:function(a){return(b.isIE7?e.height():document.body.scrollHeight)>(a||w.height())},_parseMarkup:function(b,c,d){var e;d.data&&(c=a.extend(d.data,c)),z(m,[b,c,d]),a.each(c,function(a,c){if(void 0===c||c===!1)return!0;if(e=a.split("_"),e.length>1){var d=b.find(q+"-"+e[0]);if(d.length>0){var f=e[1];"replaceWith"===f?d[0]!==c[0]&&d.replaceWith(c):"img"===f?d.is("img")?d.attr("src",c):d.replaceWith('<img src="'+c+'" class="'+d.attr("class")+'" />'):d.attr(e[1],c)}}else b.find(q+"-"+a).html(c)})},_getScrollbarSize:function(){if(void 0===b.scrollbarSize){var a=document.createElement("div");a.id="mfp-sbm",a.style.cssText="width: 99px; height: 99px; overflow: scroll; position: absolute; top: -9999px;",document.body.appendChild(a),b.scrollbarSize=a.offsetWidth-a.clientWidth,document.body.removeChild(a)}return b.scrollbarSize}},a.magnificPopup={instance:null,proto:u.prototype,modules:[],open:function(a,b){return C(),a||(a={}),a.isObj=!0,a.index=b||0,this.instance.open(a)},close:function(){return a.magnificPopup.instance.close()},registerModule:function(b,c){c.options&&(a.magnificPopup.defaults[b]=c.options),a.extend(this.proto,c.proto),this.modules.push(b)},defaults:{disableOn:0,key:null,midClick:!1,mainClass:"",preloader:!0,focus:"",closeOnContentClick:!1,closeOnBgClick:!0,closeBtnInside:!0,alignTop:!1,removalDelay:0,fixedContentPos:"auto",fixedBgPos:"auto",overflowY:"auto",closeMarkup:'<button title="%title%" type="button" class="mfp-close">&times;</button>',tClose:"Close (Esc)",tLoading:"Loading..."}},a.fn.magnificPopup=function(c){C();var d=a(this);if("string"==typeof c)if("open"===c){var e,f=v?d.data("magnificPopup"):d[0].magnificPopup,g=parseInt(arguments[1],10)||0;f.items?e=f.items[g]:(e=d,f.delegate&&(e=e.find(f.delegate)),e=e.eq(g)),b._openClick({mfpEl:e},d,f)}else b.isOpen&&b[c].apply(b,Array.prototype.slice.call(arguments,1));else v?d.data("magnificPopup",c):d[0].magnificPopup=c,b.addGroup(d,c);return d};var E,F,G,H="inline",I=function(){G&&(F.after(G.addClass(E)).detach(),G=null)};a.magnificPopup.registerModule(H,{options:{hiddenClass:"hide",markup:"",tNotFound:"Content not found"},proto:{initInline:function(){b.types.push(H),x(i+"."+H,function(){I()})},getInline:function(c,d){if(I(),c.src){var e=b.st.inline,f=a(c.src);if(f.length){var g=f[0].parentNode;g&&g.tagName&&(F||(E=e.hiddenClass,F=y(E),E="mfp-"+E),G=f.after(F).detach().removeClass(E)),b.updateStatus("ready")}else b.updateStatus("error",e.tNotFound),f=a("<div>");return c.inlineElement=f,f}return b.updateStatus("ready"),b._parseMarkup(d,{},c),d}}});var J,K="ajax",L=function(){J&&d.removeClass(J)};a.magnificPopup.registerModule(K,{options:{settings:null,cursor:"mfp-ajax-cur",tError:'<a href="%url%">The content</a> could not be loaded.'},proto:{initAjax:function(){b.types.push(K),J=b.st.ajax.cursor,x(i+"."+K,function(){L(),b.req&&b.req.abort()})},getAjax:function(c){J&&d.addClass(J),b.updateStatus("loading");var e=a.extend({url:c.src,success:function(d,e,f){var g={data:d,xhr:f};z("ParseAjax",g),b.appendContent(a(g.data),K),c.finished=!0,L(),A(),setTimeout(function(){b.wrap.addClass(r)},16),b.updateStatus("ready"),z("AjaxContentAdded")},error:function(){L(),c.finished=c.loadError=!0,b.updateStatus("error",b.st.ajax.tError.replace("%url%",c.src))}},b.st.ajax.settings);return b.req=a.ajax(e),""}}});var M,N=function(c){if(c.data&&void 0!==c.data.title)return c.data.title;var d=b.st.image.titleSrc;if(d){if(a.isFunction(d))return d.call(b,c);if(c.el)return c.el.attr(d)||""}return""};a.magnificPopup.registerModule("image",{options:{markup:'<div class="mfp-figure"><div class="mfp-close"></div><div class="mfp-img"></div><div class="mfp-bottom-bar"><div class="mfp-title"></div><div class="mfp-counter"></div></div></div>',cursor:"mfp-zoom-out-cur",titleSrc:"title",verticalFit:!0,tError:'<a href="%url%">The image</a> could not be loaded.'},proto:{initImage:function(){var a=b.st.image,c=".image";b.types.push("image"),x(n+c,function(){"image"===b.currItem.type&&a.cursor&&d.addClass(a.cursor)}),x(i+c,function(){a.cursor&&d.removeClass(a.cursor),w.off("resize"+q)}),x("Resize"+c,b.resizeImage),b.isLowIE&&x("AfterChange",b.resizeImage)},resizeImage:function(){var a=b.currItem;if(a.img&&b.st.image.verticalFit){var c=0;b.isLowIE&&(c=parseInt(a.img.css("padding-top"),10)+parseInt(a.img.css("padding-bottom"),10)),a.img.css("max-height",b.wH-c)}},_onImageHasSize:function(a){a.img&&(a.hasSize=!0,M&&clearInterval(M),a.isCheckingImgSize=!1,z("ImageHasSize",a),a.imgHidden&&(b.content&&b.content.removeClass("mfp-loading"),a.imgHidden=!1))},findImageSize:function(a){var c=0,d=a.img[0],e=function(f){M&&clearInterval(M),M=setInterval(function(){return d.naturalWidth>0?void b._onImageHasSize(a):(c>200&&clearInterval(M),c++,void(3===c?e(10):40===c?e(50):100===c&&e(500)))},f)};e(1)},getImage:function(c,d){var e=0,f=function(){c&&(c.img[0].complete?(c.img.off(".mfploader"),c===b.currItem&&(b._onImageHasSize(c),b.updateStatus("ready")),c.hasSize=!0,c.loaded=!0,z("ImageLoadComplete")):(e++,e<200?setTimeout(f,100):g()))},g=function(){c&&(c.img.off(".mfploader"),c===b.currItem&&(b._onImageHasSize(c),b.updateStatus("error",h.tError.replace("%url%",c.src))),c.hasSize=!0,c.loaded=!0,c.loadError=!0)},h=b.st.image,i=d.find(".mfp-img");if(i.length){var j=new Image;j.className="mfp-img",c.img=a(j).on("load.mfploader",f).on("error.mfploader",g),j.src=c.src,i.is("img")&&(c.img=c.img.clone())}return b._parseMarkup(d,{title:N(c),img_replaceWith:c.img},c),b.resizeImage(),c.hasSize?(M&&clearInterval(M),c.loadError?(d.addClass("mfp-loading"),b.updateStatus("error",h.tError.replace("%url%",c.src))):(d.removeClass("mfp-loading"),b.updateStatus("ready")),d):(b.updateStatus("loading"),c.loading=!0,c.hasSize||(c.imgHidden=!0,d.addClass("mfp-loading"),b.findImageSize(c)),d)}}});var O="iframe",P="//about:blank",Q=function(a){if(b.currTemplate[O]){var c=b.currTemplate[O].find("iframe");c.length&&(a||(c[0].src=P),b.isIE8&&c.css("display",a?"block":"none"))}};a.magnificPopup.registerModule(O,{options:{markup:'<div class="mfp-iframe-scaler"><div class="mfp-close"></div><iframe class="mfp-iframe" src="//about:blank" frameborder="0" allowfullscreen></iframe></div>',srcAction:"iframe_src",patterns:{youtube:{index:"youtube.com",id:"v=",src:"//www.youtube.com/embed/%id%?autoplay=1"},vimeo:{index:"vimeo.com/",id:"/",src:"//player.vimeo.com/video/%id%?autoplay=1"},gmaps:{index:"//maps.google.",src:"%id%&output=embed"}}},proto:{initIframe:function(){b.types.push(O),x("BeforeChange",function(a,b,c){b!==c&&(b===O?Q():c===O&&Q(!0))}),x(i+"."+O,function(){Q()})},getIframe:function(c,d){var e=c.src,f=b.st.iframe;a.each(f.patterns,function(){if(e.indexOf(this.index)>-1)return this.id&&(e="string"==typeof this.id?e.substr(e.lastIndexOf(this.id)+this.id.length,e.length):this.id.call(this,e)),e=this.src.replace("%id%",e),!1});var g={};return f.srcAction&&(g[f.srcAction]=e),b._parseMarkup(d,g,c),b.updateStatus("ready"),d}}});var R=function(a){var c=b.items.length;return a>c-1?a-c:a<0?c+a:a},S=function(a,b,c){return a.replace("%curr%",b+1).replace("%total%",c)};a.magnificPopup.registerModule("gallery",{options:{enabled:!1,arrowMarkup:'<button title="%title%" type="button" class="mfp-arrow mfp-arrow-%dir%"></button>',preload:[0,2],navigateByImgClick:!0,arrows:!0,tPrev:"Previous (Left arrow key)",tNext:"Next (Right arrow key)",tCounter:"%curr% of %total%"},proto:{initGallery:function(){var c=b.st.gallery,d=".mfp-gallery",f=!!a.fn.mfpFastClick;return b.direction=!0,!(!c||!c.enabled)&&(g+=" mfp-gallery",x(n+d,function(){c.navigateByImgClick&&b.wrap.on("click"+d,".mfp-img",function(){if(b.items.length>1)return b.next(),!1}),e.on("keydown"+d,function(a){37===a.keyCode?b.prev():39===a.keyCode&&b.next()})}),x("UpdateStatus"+d,function(a,c){c.text&&(c.text=S(c.text,b.currItem.index,b.items.length))}),x(m+d,function(a,d,e,f){var g=b.items.length;e.counter=g>1?S(c.tCounter,f.index,g):""}),x("BuildControls"+d,function(){if(b.items.length>1&&c.arrows&&!b.arrowLeft){var d=c.arrowMarkup,e=b.arrowLeft=a(d.replace("%title%",c.tPrev).replace("%dir%","left")).addClass(t),g=b.arrowRight=a(d.replace("%title%",c.tNext).replace("%dir%","right")).addClass(t),h=f?"mfpFastClick":"click";e[h](function(){b.prev()}),g[h](function(){b.next()}),b.isIE7&&(y("b",e[0],!1,!0),y("a",e[0],!1,!0),y("b",g[0],!1,!0),y("a",g[0],!1,!0)),b.container.append(e.add(g))}}),x(o+d,function(){b._preloadTimeout&&clearTimeout(b._preloadTimeout),b._preloadTimeout=setTimeout(function(){b.preloadNearbyImages(),b._preloadTimeout=null},16)}),void x(i+d,function(){e.off(d),b.wrap.off("click"+d),b.arrowLeft&&f&&b.arrowLeft.add(b.arrowRight).destroyMfpFastClick(),b.arrowRight=b.arrowLeft=null}))},next:function(){b.direction=!0,b.index=R(b.index+1),b.updateItemHTML()},prev:function(){b.direction=!1,b.index=R(b.index-1),b.updateItemHTML()},goTo:function(a){b.direction=a>=b.index,b.index=a,b.updateItemHTML()},preloadNearbyImages:function(){var a,c=b.st.gallery.preload,d=Math.min(c[0],b.items.length),e=Math.min(c[1],b.items.length);for(a=1;a<=(b.direction?e:d);a++)b._preloadItem(b.index+a);for(a=1;a<=(b.direction?d:e);a++)b._preloadItem(b.index-a)},_preloadItem:function(c){if(c=R(c),!b.items[c].preloaded){var d=b.items[c];d.parsed||(d=b.parseEl(c)),z("LazyLoad",d),"image"===d.type&&(d.img=a('<img class="mfp-img" />').on("load.mfploader",function(){d.hasSize=!0}).on("error.mfploader",function(){d.hasSize=!0,d.loadError=!0}).attr("src",d.src)),d.preloaded=!0}}}});var T="retina";a.magnificPopup.registerModule(T,{options:{replaceSrc:function(a){return a.src.replace(/\.\w+$/,function(a){return"@2x"+a})},ratio:1},proto:{initRetina:function(){if(window.devicePixelRatio>1){var a=b.st.retina,c=a.ratio;c=isNaN(c)?c():c,c>1&&(x("ImageHasSize."+T,function(a,b){b.img.css({"max-width":b.img[0].naturalWidth/c,width:"100%"})}),x("ElementParse."+T,function(b,d){d.src=a.replaceSrc(d,c)}))}}}}),function(){var b=1e3,c="ontouchstart"in window,d=function(){w.off("touchmove"+f+" touchend"+f)},e="mfpFastClick",f="."+e;a.fn.mfpFastClick=function(e){return a(this).each(function(){var g,h=a(this);if(c){var i,j,k,l,m,n;h.on("touchstart"+f,function(a){l=!1,n=1,m=a.originalEvent?a.originalEvent.touches[0]:a.touches[0],j=m.clientX,k=m.clientY,w.on("touchmove"+f,function(a){m=a.originalEvent?a.originalEvent.touches:a.touches,n=m.length,m=m[0],(Math.abs(m.clientX-j)>10||Math.abs(m.clientY-k)>10)&&(l=!0,d())}).on("touchend"+f,function(a){d(),l||n>1||(g=!0,a.preventDefault(),clearTimeout(i),i=setTimeout(function(){g=!1},b),e())})})}h.on("click"+f,function(){g||e()})})},a.fn.destroyMfpFastClick=function(){a(this).off("touchstart"+f+" click"+f),c&&w.off("touchmove"+f+" touchend"+f)}}()}(window.jQuery||window.Zepto),function(a){a.extend(a.fn,{validate:function(b){if(!this.length)return void(b&&b.debug&&window.console);var c=a.data(this[0],"validator");return c?c:(this.attr("novalidate","novalidate"),c=new a.validator(b,this[0]),a.data(this[0],"validator",c),c.settings.onsubmit&&(this.validateDelegate(":submit","click",function(b){c.settings.submitHandler&&(c.submitButton=b.target),a(b.target).hasClass("cancel")&&(c.cancelSubmit=!0),void 0!==a(b.target).attr("formnovalidate")&&(c.cancelSubmit=!0)}),this.submit(function(b){function d(){var d;return!c.settings.submitHandler||(c.submitButton&&(d=a("<input type='hidden'/>").attr("name",c.submitButton.name).val(a(c.submitButton).val()).appendTo(c.currentForm)),c.settings.submitHandler.call(c,c.currentForm,b),c.submitButton&&d.remove(),!1)}return c.settings.debug&&b.preventDefault(),c.cancelSubmit?(c.cancelSubmit=!1,d()):c.form()?c.pendingRequest?(c.formSubmitted=!0,!1):d():(c.focusInvalid(),!1)})),c)},valid:function(){if(a(this[0]).is("form"))return this.validate().form();var b=!0,c=a(this[0].form).validate();return this.each(function(){b=b&&c.element(this)}),b},removeAttrs:function(b){var c={},d=this;return a.each(b.split(/\s/),function(a,b){c[b]=d.attr(b),d.removeAttr(b)}),c},rules:function(b,c){var d=this[0];if(b){var e=a.data(d.form,"validator").settings,f=e.rules,g=a.validator.staticRules(d);switch(b){case"add":a.extend(g,a.validator.normalizeRule(c)),delete g.messages,f[d.name]=g,c.messages&&(e.messages[d.name]=a.extend(e.messages[d.name],c.messages));break;case"remove":if(!c)return delete f[d.name],g;var h={};return a.each(c.split(/\s/),function(a,b){h[b]=g[b],delete g[b]}),h}}var i=a.validator.normalizeRules(a.extend({},a.validator.classRules(d),a.validator.attributeRules(d),a.validator.dataRules(d),a.validator.staticRules(d)),d);if(i.required){var j=i.required;delete i.required,i=a.extend({required:j},i)}return i}}),a.extend(a.expr[":"],{blank:function(b){return!a.trim(""+a(b).val())},filled:function(b){return!!a.trim(""+a(b).val())},unchecked:function(b){return!a(b).prop("checked")}}),a.validator=function(b,c){this.settings=a.extend(!0,{},a.validator.defaults,b),this.currentForm=c,this.init()},a.validator.format=function(b,c){return 1===arguments.length?function(){var c=a.makeArray(arguments);return c.unshift(b),a.validator.format.apply(this,c)}:(arguments.length>2&&c.constructor!==Array&&(c=a.makeArray(arguments).slice(1)),c.constructor!==Array&&(c=[c]),a.each(c,function(a,c){b=b.replace(RegExp("\\{"+a+"\\}","g"),function(){return c})}),b)},a.extend(a.validator,{defaults:{messages:{},groups:{},rules:{},errorClass:"error",validClass:"valid",errorElement:"label",focusInvalid:!0,errorContainer:a([]),errorLabelContainer:a([]),onsubmit:!0,ignore:":hidden",ignoreTitle:!1,onfocusin:function(a,b){this.lastActive=a,this.settings.focusCleanup&&!this.blockFocusCleanup&&(this.settings.unhighlight&&this.settings.unhighlight.call(this,a,this.settings.errorClass,this.settings.validClass),this.addWrapper(this.errorsFor(a)).hide())},onfocusout:function(a,b){this.checkable(a)||!(a.name in this.submitted)&&this.optional(a)||this.element(a)},onkeyup:function(a,b){9===b.which&&""===this.elementValue(a)||(a.name in this.submitted||a===this.lastElement)&&this.element(a)},onclick:function(a,b){a.name in this.submitted?this.element(a):a.parentNode.name in this.submitted&&this.element(a.parentNode)},highlight:function(b,c,d){"radio"===b.type?this.findByName(b.name).addClass(c).removeClass(d):a(b).addClass(c).removeClass(d)},unhighlight:function(b,c,d){"radio"===b.type?this.findByName(b.name).removeClass(c).addClass(d):a(b).removeClass(c).addClass(d)}},setDefaults:function(b){a.extend(a.validator.defaults,b)},messages:{required:"This field is required.",remote:"Please fix this field.",email:"Please enter a valid email address.",url:"Please enter a valid URL.",date:"Please enter a valid date.",dateISO:"Please enter a valid date (ISO).",number:"Please enter a valid number.",digits:"Please enter only digits.",creditcard:"Please enter a valid credit card number.",equalTo:"Please enter the same value again.",maxlength:a.validator.format("Please enter no more than {0} characters."),minlength:a.validator.format("Please enter at least {0} characters."),rangelength:a.validator.format("Please enter a value between {0} and {1} characters long."),
range:a.validator.format("Please enter a value between {0} and {1}."),max:a.validator.format("Please enter a value less than or equal to {0}."),min:a.validator.format("Please enter a value greater than or equal to {0}.")},autoCreateRanges:!1,prototype:{init:function(){function b(b){var c=a.data(this[0].form,"validator"),d="on"+b.type.replace(/^validate/,"");c.settings[d]&&c.settings[d].call(c,this[0],b)}this.labelContainer=a(this.settings.errorLabelContainer),this.errorContext=this.labelContainer.length&&this.labelContainer||a(this.currentForm),this.containers=a(this.settings.errorContainer).add(this.settings.errorLabelContainer),this.submitted={},this.valueCache={},this.pendingRequest=0,this.pending={},this.invalid={},this.reset();var c=this.groups={};a.each(this.settings.groups,function(b,d){"string"==typeof d&&(d=d.split(/\s/)),a.each(d,function(a,d){c[d]=b})});var d=this.settings.rules;a.each(d,function(b,c){d[b]=a.validator.normalizeRule(c)}),a(this.currentForm).validateDelegate(":text, [type='password'], [type='file'], select, textarea, [type='number'], [type='search'] ,[type='tel'], [type='url'], [type='email'], [type='datetime'], [type='date'], [type='month'], [type='week'], [type='time'], [type='datetime-local'], [type='range'], [type='color'] ","focusin focusout keyup",b).validateDelegate("[type='radio'], [type='checkbox'], select, option","click",b),this.settings.invalidHandler&&a(this.currentForm).bind("invalid-form.validate",this.settings.invalidHandler)},form:function(){return this.checkForm(),a.extend(this.submitted,this.errorMap),this.invalid=a.extend({},this.errorMap),this.valid()||a(this.currentForm).triggerHandler("invalid-form",[this]),this.showErrors(),this.valid()},checkForm:function(){this.prepareForm();for(var a=0,b=this.currentElements=this.elements();b[a];a++)this.check(b[a]);return this.valid()},element:function(b){b=this.validationTargetFor(this.clean(b)),this.lastElement=b,this.prepareElement(b),this.currentElements=a(b);var c=this.check(b)!==!1;return c?delete this.invalid[b.name]:this.invalid[b.name]=!0,this.numberOfInvalids()||(this.toHide=this.toHide.add(this.containers)),this.showErrors(),c},showErrors:function(b){if(b){a.extend(this.errorMap,b),this.errorList=[];for(var c in b)this.errorList.push({message:b[c],element:this.findByName(c)[0]});this.successList=a.grep(this.successList,function(a){return!(a.name in b)})}this.settings.showErrors?this.settings.showErrors.call(this,this.errorMap,this.errorList):this.defaultShowErrors()},resetForm:function(){a.fn.resetForm&&a(this.currentForm).resetForm(),this.submitted={},this.lastElement=null,this.prepareForm(),this.hideErrors(),this.elements().removeClass(this.settings.errorClass).removeData("previousValue")},numberOfInvalids:function(){return this.objectLength(this.invalid)},objectLength:function(a){var b=0;for(var c in a)b++;return b},hideErrors:function(){this.addWrapper(this.toHide).hide()},valid:function(){return 0===this.size()},size:function(){return this.errorList.length},focusInvalid:function(){if(this.settings.focusInvalid)try{a(this.findLastActive()||this.errorList.length&&this.errorList[0].element||[]).filter(":visible").focus().trigger("focusin")}catch(b){}},findLastActive:function(){var b=this.lastActive;return b&&1===a.grep(this.errorList,function(a){return a.element.name===b.name}).length&&b},elements:function(){var b=this,c={};return a(this.currentForm).find("input, select, textarea").not(":submit, :reset, :image, [disabled]").not(this.settings.ignore).filter(function(){return!this.name&&b.settings.debug&&window.console,!(this.name in c||!b.objectLength(a(this).rules()))&&(c[this.name]=!0,!0)})},clean:function(b){return a(b)[0]},errors:function(){var b=this.settings.errorClass.replace(" ",".");return a(this.settings.errorElement+"."+b,this.errorContext)},reset:function(){this.successList=[],this.errorList=[],this.errorMap={},this.toShow=a([]),this.toHide=a([]),this.currentElements=a([])},prepareForm:function(){this.reset(),this.toHide=this.errors().add(this.containers)},prepareElement:function(a){this.reset(),this.toHide=this.errorsFor(a)},elementValue:function(b){var c=a(b).attr("type"),d=a(b).val();return"radio"===c||"checkbox"===c?a("input[name='"+a(b).attr("name")+"']:checked").val():"string"==typeof d?d.replace(/\r/g,""):d},check:function(b){b=this.validationTargetFor(this.clean(b));var c,d=a(b).rules(),e=!1,f=this.elementValue(b);for(var g in d){var h={method:g,parameters:d[g]};try{if(c=a.validator.methods[g].call(this,f,b,h.parameters),"dependency-mismatch"===c){e=!0;continue}if(e=!1,"pending"===c)return void(this.toHide=this.toHide.not(this.errorsFor(b)));if(!c)return this.formatAndAdd(b,h),!1}catch(i){throw this.settings.debug&&window.console,i}}if(!e)return this.objectLength(d)&&this.successList.push(b),!0},customDataMessage:function(b,c){return a(b).data("msg-"+c.toLowerCase())||b.attributes&&a(b).attr("data-msg-"+c.toLowerCase())},customMessage:function(a,b){var c=this.settings.messages[a];return c&&(c.constructor===String?c:c[b])},findDefined:function(){for(var a=0;a<arguments.length;a++)if(void 0!==arguments[a])return arguments[a]},defaultMessage:function(b,c){return this.findDefined(this.customMessage(b.name,c),this.customDataMessage(b,c),!this.settings.ignoreTitle&&b.title||void 0,a.validator.messages[c],"<strong>Warning: No message defined for "+b.name+"</strong>")},formatAndAdd:function(b,c){var d=this.defaultMessage(b,c.method),e=/\$?\{(\d+)\}/g;"function"==typeof d?d=d.call(this,c.parameters,b):e.test(d)&&(d=a.validator.format(d.replace(e,"{$1}"),c.parameters)),this.errorList.push({message:d,element:b}),this.errorMap[b.name]=d,this.submitted[b.name]=d},addWrapper:function(a){return this.settings.wrapper&&(a=a.add(a.parent(this.settings.wrapper))),a},defaultShowErrors:function(){var a,b;for(a=0;this.errorList[a];a++){var c=this.errorList[a];this.settings.highlight&&this.settings.highlight.call(this,c.element,this.settings.errorClass,this.settings.validClass),this.showLabel(c.element,c.message)}if(this.errorList.length&&(this.toShow=this.toShow.add(this.containers)),this.settings.success)for(a=0;this.successList[a];a++)this.showLabel(this.successList[a]);if(this.settings.unhighlight)for(a=0,b=this.validElements();b[a];a++)this.settings.unhighlight.call(this,b[a],this.settings.errorClass,this.settings.validClass);this.toHide=this.toHide.not(this.toShow),this.hideErrors(),this.addWrapper(this.toShow).show()},validElements:function(){return this.currentElements.not(this.invalidElements())},invalidElements:function(){return a(this.errorList).map(function(){return this.element})},showLabel:function(b,c){var d=this.errorsFor(b);d.length?(d.removeClass(this.settings.validClass).addClass(this.settings.errorClass),d.html(c)):(d=a("<"+this.settings.errorElement+">").attr("for",this.idOrName(b)).addClass(this.settings.errorClass).html(c||""),this.settings.wrapper&&(d=d.hide().show().wrap("<"+this.settings.wrapper+"/>").parent()),this.labelContainer.append(d).length||(this.settings.errorPlacement?this.settings.errorPlacement(d,a(b)):d.insertAfter(b))),!c&&this.settings.success&&(d.text(""),"string"==typeof this.settings.success?d.addClass(this.settings.success):this.settings.success(d,b)),this.toShow=this.toShow.add(d)},errorsFor:function(b){var c=this.idOrName(b);return this.errors().filter(function(){return a(this).attr("for")===c})},idOrName:function(a){return this.groups[a.name]||(this.checkable(a)?a.name:a.id||a.name)},validationTargetFor:function(a){return this.checkable(a)&&(a=this.findByName(a.name).not(this.settings.ignore)[0]),a},checkable:function(a){return/radio|checkbox/i.test(a.type)},findByName:function(b){return a(this.currentForm).find("[name='"+b+"']")},getLength:function(b,c){switch(c.nodeName.toLowerCase()){case"select":return a("option:selected",c).length;case"input":if(this.checkable(c))return this.findByName(c.name).filter(":checked").length}return b.length},depend:function(a,b){return!this.dependTypes[typeof a]||this.dependTypes[typeof a](a,b)},dependTypes:{"boolean":function(a,b){return a},string:function(b,c){return!!a(b,c.form).length},"function":function(a,b){return a(b)}},optional:function(b){var c=this.elementValue(b);return!a.validator.methods.required.call(this,c,b)&&"dependency-mismatch"},startRequest:function(a){this.pending[a.name]||(this.pendingRequest++,this.pending[a.name]=!0)},stopRequest:function(b,c){this.pendingRequest--,this.pendingRequest<0&&(this.pendingRequest=0),delete this.pending[b.name],c&&0===this.pendingRequest&&this.formSubmitted&&this.form()?(a(this.currentForm).submit(),this.formSubmitted=!1):!c&&0===this.pendingRequest&&this.formSubmitted&&(a(this.currentForm).triggerHandler("invalid-form",[this]),this.formSubmitted=!1)},previousValue:function(b){return a.data(b,"previousValue")||a.data(b,"previousValue",{old:null,valid:!0,message:this.defaultMessage(b,"remote")})}},classRuleSettings:{required:{required:!0},email:{email:!0},url:{url:!0},date:{date:!0},dateISO:{dateISO:!0},number:{number:!0},digits:{digits:!0},creditcard:{creditcard:!0}},addClassRules:function(b,c){b.constructor===String?this.classRuleSettings[b]=c:a.extend(this.classRuleSettings,b)},classRules:function(b){var c={},d=a(b).attr("class");return d&&a.each(d.split(" "),function(){this in a.validator.classRuleSettings&&a.extend(c,a.validator.classRuleSettings[this])}),c},attributeRules:function(b){var c={},d=a(b),e=d[0].getAttribute("type");for(var f in a.validator.methods){var g;"required"===f?(g=d.get(0).getAttribute(f),""===g&&(g=!0),g=!!g):g=d.attr(f),/min|max/.test(f)&&(null===e||/number|range|text/.test(e))&&(g=+g),g?c[f]=g:e===f&&"range"!==e&&(c[f]=!0)}return c.maxlength&&/-1|2147483647|524288/.test(c.maxlength)&&delete c.maxlength,c},dataRules:function(b){var c,d,e={},f=a(b);for(c in a.validator.methods)d=f.data("rule-"+c.toLowerCase()),void 0!==d&&(e[c]=d);return e},staticRules:function(b){var c={},d=a.data(b.form,"validator");return d.settings.rules&&(c=a.validator.normalizeRule(d.settings.rules[b.name])||{}),c},normalizeRules:function(b,c){return a.each(b,function(d,e){if(e===!1)return void delete b[d];if(e.param||e.depends){var f=!0;switch(typeof e.depends){case"string":f=!!a(e.depends,c.form).length;break;case"function":f=e.depends.call(c,c)}f?b[d]=void 0===e.param||e.param:delete b[d]}}),a.each(b,function(d,e){b[d]=a.isFunction(e)?e(c):e}),a.each(["minlength","maxlength"],function(){b[this]&&(b[this]=+b[this])}),a.each(["rangelength","range"],function(){var c;b[this]&&(a.isArray(b[this])?b[this]=[+b[this][0],+b[this][1]]:"string"==typeof b[this]&&(c=b[this].split(/[\s,]+/),b[this]=[+c[0],+c[1]]))}),a.validator.autoCreateRanges&&(b.min&&b.max&&(b.range=[b.min,b.max],delete b.min,delete b.max),b.minlength&&b.maxlength&&(b.rangelength=[b.minlength,b.maxlength],delete b.minlength,delete b.maxlength)),b},normalizeRule:function(b){if("string"==typeof b){var c={};a.each(b.split(/\s/),function(){c[this]=!0}),b=c}return b},addMethod:function(b,c,d){a.validator.methods[b]=c,a.validator.messages[b]=void 0!==d?d:a.validator.messages[b],c.length<3&&a.validator.addClassRules(b,a.validator.normalizeRule(b))},methods:{required:function(b,c,d){if(!this.depend(d,c))return"dependency-mismatch";if("select"===c.nodeName.toLowerCase()){var e=a(c).val();return e&&e.length>0}return this.checkable(c)?this.getLength(b,c)>0:a.trim(b).length>0},email:function(a,b){return this.optional(b)||/^((([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+(\.([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+)*)|((\x22)((((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(([\x01-\x08\x0b\x0c\x0e-\x1f\x7f]|\x21|[\x23-\x5b]|[\x5d-\x7e]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(\\([\x01-\x09\x0b\x0c\x0d-\x7f]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))))*(((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(\x22)))@((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))$/i.test(a)},url:function(a,b){return this.optional(b)||/^(https?|s?ftp):\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i.test(a)},date:function(a,b){return this.optional(b)||!/Invalid|NaN/.test(""+new Date(a))},dateISO:function(a,b){return this.optional(b)||/^\d{4}[\/\-]\d{1,2}[\/\-]\d{1,2}$/.test(a)},number:function(a,b){return this.optional(b)||/^-?(?:\d+|\d{1,3}(?:,\d{3})+)?(?:\.\d+)?$/.test(a)},digits:function(a,b){return this.optional(b)||/^\d+$/.test(a)},creditcard:function(a,b){if(this.optional(b))return"dependency-mismatch";if(/[^0-9 \-]+/.test(a))return!1;var c=0,d=0,e=!1;a=a.replace(/\D/g,"");for(var f=a.length-1;f>=0;f--){var g=a.charAt(f);d=parseInt(g,10),e&&(d*=2)>9&&(d-=9),c+=d,e=!e}return c%10===0},minlength:function(b,c,d){var e=a.isArray(b)?b.length:this.getLength(a.trim(b),c);return this.optional(c)||e>=d},maxlength:function(b,c,d){var e=a.isArray(b)?b.length:this.getLength(a.trim(b),c);return this.optional(c)||e<=d},rangelength:function(b,c,d){var e=a.isArray(b)?b.length:this.getLength(a.trim(b),c);return this.optional(c)||e>=d[0]&&e<=d[1]},min:function(a,b,c){return this.optional(b)||a>=c},max:function(a,b,c){return this.optional(b)||a<=c},range:function(a,b,c){return this.optional(b)||a>=c[0]&&a<=c[1]},equalTo:function(b,c,d){var e=a(d);return this.settings.onfocusout&&e.unbind(".validate-equalTo").bind("blur.validate-equalTo",function(){a(c).valid()}),b===e.val()},remote:function(b,c,d){if(this.optional(c))return"dependency-mismatch";var e=this.previousValue(c);if(this.settings.messages[c.name]||(this.settings.messages[c.name]={}),e.originalMessage=this.settings.messages[c.name].remote,this.settings.messages[c.name].remote=e.message,d="string"==typeof d&&{url:d}||d,e.old===b)return e.valid;e.old=b;var f=this;this.startRequest(c);var g={};return g[c.name]=b,a.ajax(a.extend(!0,{url:d,mode:"abort",port:"validate"+c.name,dataType:"json",data:g,success:function(d){f.settings.messages[c.name].remote=e.originalMessage;var g=d===!0||"true"===d;if(g){var h=f.formSubmitted;f.prepareElement(c),f.formSubmitted=h,f.successList.push(c),delete f.invalid[c.name],f.showErrors()}else{var i={},j=d||f.defaultMessage(c,"remote");i[c.name]=e.message=a.isFunction(j)?j(b):j,f.invalid[c.name]=!0,f.showErrors(i)}e.valid=g,f.stopRequest(c,g)}},d)),"pending"}}}),a.format=a.validator.format}(jQuery),function(a){var b={};if(a.ajaxPrefilter)a.ajaxPrefilter(function(a,c,d){var e=a.port;"abort"===a.mode&&(b[e]&&b[e].abort(),b[e]=d)});else{var c=a.ajax;a.ajax=function(d){var e=("mode"in d?d:a.ajaxSettings).mode,f=("port"in d?d:a.ajaxSettings).port;return"abort"===e?(b[f]&&b[f].abort(),b[f]=c.apply(this,arguments),b[f]):c.apply(this,arguments)}}}(jQuery),function(a){a.extend(a.fn,{validateDelegate:function(b,c,d){return this.bind(c,function(c){var e=a(c.target);if(e.is(b))return d.apply(e,arguments)})}})}(jQuery);var mejs=mejs||{};mejs.version="2.14.2",mejs.meIndex=0,mejs.plugins={silverlight:[{version:[3,0],types:["video/mp4","video/m4v","video/mov","video/wmv","audio/wma","audio/m4a","audio/mp3","audio/wav","audio/mpeg"]}],flash:[{version:[9,0,124],types:["video/mp4","video/m4v","video/mov","video/flv","video/rtmp","video/x-flv","audio/flv","audio/x-flv","audio/mp3","audio/m4a","audio/mpeg","video/youtube","video/x-youtube"]}],youtube:[{version:null,types:["video/youtube","video/x-youtube","audio/youtube","audio/x-youtube"]}],vimeo:[{version:null,types:["video/vimeo","video/x-vimeo"]}]},mejs.Utility={encodeUrl:function(a){return encodeURIComponent(a)},escapeHTML:function(a){return(""+a).split("&").join("&amp;").split("<").join("&lt;").split('"').join("&quot;")},absolutizeUrl:function(a){var b=document.createElement("div");return b.innerHTML='<a href="'+this.escapeHTML(a)+'">x</a>',b.firstChild.href},getScriptPath:function(a){for(var b,c,d,e=0,f="",g="",h=document.getElementsByTagName("script"),i=h.length,j=a.length;e<i;e++){for(c=h[e].src,b=c.lastIndexOf("/"),b>-1?(d=c.substring(b+1),c=c.substring(0,b+1)):(d=c,c=""),b=0;b<j;b++)if(g=a[b],g=d.indexOf(g),g>-1){f=c;break}if(""!==f)break}return f},secondsToTimeCode:function(a,b,c,d){void 0===c?c=!1:void 0===d&&(d=25);var e=Math.floor(a/3600)%24,f=Math.floor(a/60)%60,g=Math.floor(a%60);return a=Math.floor((a%1*d).toFixed(3)),(b||e>0?(e<10?"0"+e:e)+":":"")+(f<10?"0"+f:f)+":"+(g<10?"0"+g:g)+(c?":"+(a<10?"0"+a:a):"")},timeCodeToSeconds:function(a,b,c,d){void 0===c?c=!1:void 0===d&&(d=25),a=a.split(":"),b=parseInt(a[0],10);var e=parseInt(a[1],10),f=parseInt(a[2],10),g=0,h=0;return c&&(g=parseInt(a[3])/d),h=3600*b+60*e+f+g},convertSMPTEtoSeconds:function(a){if("string"!=typeof a)return!1;a=a.replace(",",".");var b=0,c=a.indexOf(".")!=-1?a.split(".")[1].length:0,d=1;a=a.split(":").reverse();for(var e=0;e<a.length;e++)d=1,e>0&&(d=Math.pow(60,e)),b+=+a[e]*d;return+b.toFixed(c)},removeSwf:function(a){var b=document.getElementById(a);b&&/object|embed/i.test(b.nodeName)&&(mejs.MediaFeatures.isIE?(b.style.display="none",function(){4==b.readyState?mejs.Utility.removeObjectInIE(a):setTimeout(arguments.callee,10)}()):b.parentNode.removeChild(b))},removeObjectInIE:function(a){if(a=document.getElementById(a)){for(var b in a)"function"==typeof a[b]&&(a[b]=null);a.parentNode.removeChild(a)}}},mejs.PluginDetector={hasPluginVersion:function(a,b){var c=this.plugins[a];return b[1]=b[1]||0,b[2]=b[2]||0,c[0]>b[0]||c[0]==b[0]&&c[1]>b[1]||c[0]==b[0]&&c[1]==b[1]&&c[2]>=b[2]},nav:window.navigator,ua:window.navigator.userAgent.toLowerCase(),plugins:[],addPlugin:function(a,b,c,d,e){this.plugins[a]=this.detectPlugin(b,c,d,e)},detectPlugin:function(a,b,c,d){var e,f=[0,0,0];if(void 0!==this.nav.plugins&&"object"==typeof this.nav.plugins[a]){if((c=this.nav.plugins[a].description)&&(void 0===this.nav.mimeTypes||!this.nav.mimeTypes[b]||this.nav.mimeTypes[b].enabledPlugin))for(f=c.replace(a,"").replace(/^\s+/,"").replace(/\sr/gi,".").split("."),a=0;a<f.length;a++)f[a]=parseInt(f[a].match(/\d+/),10)}else if(void 0!==window.ActiveXObject)try{(e=new ActiveXObject(c))&&(f=d(e))}catch(g){}return f}},mejs.PluginDetector.addPlugin("flash","Shockwave Flash","application/x-shockwave-flash","ShockwaveFlash.ShockwaveFlash",function(a){var b=[];return(a=a.GetVariable("$version"))&&(a=a.split(" ")[1].split(","),b=[parseInt(a[0],10),parseInt(a[1],10),parseInt(a[2],10)]),b}),mejs.PluginDetector.addPlugin("silverlight","Silverlight Plug-In","application/x-silverlight-2","AgControl.AgControl",function(a){var b=[0,0,0,0],c=function(a,b,c,d){for(;a.isVersionSupported(b[0]+"."+b[1]+"."+b[2]+"."+b[3]);)b[c]+=d;b[c]-=d};return c(a,b,0,1),c(a,b,1,1),c(a,b,2,1e4),c(a,b,2,1e3),c(a,b,2,100),c(a,b,2,10),c(a,b,2,1),c(a,b,3,1),b}),mejs.MediaFeatures={init:function(){var a,b=this,c=document,d=mejs.PluginDetector.nav,e=mejs.PluginDetector.ua.toLowerCase(),f=["source","track","audio","video"];b.isiPad=null!==e.match(/ipad/i),b.isiPhone=null!==e.match(/iphone/i),b.isiOS=b.isiPhone||b.isiPad,b.isAndroid=null!==e.match(/android/i),b.isBustedAndroid=null!==e.match(/android 2\.[12]/),b.isBustedNativeHTTPS="https:"===location.protocol&&(null!==e.match(/android [12]\./)||null!==e.match(/macintosh.* version.* safari/)),b.isIE=d.appName.toLowerCase().indexOf("microsoft")!=-1||null!==d.appName.toLowerCase().match(/trident/gi),b.isChrome=null!==e.match(/chrome/gi),b.isFirefox=null!==e.match(/firefox/gi),b.isWebkit=null!==e.match(/webkit/gi),b.isGecko=null!==e.match(/gecko/gi)&&!b.isWebkit&&!b.isIE,b.isOpera=null!==e.match(/opera/gi),b.hasTouch="ontouchstart"in window,b.svg=!!document.createElementNS&&!!document.createElementNS("http://www.w3.org/2000/svg","svg").createSVGRect;for(d=0;d<f.length;d++)a=document.createElement(f[d]);b.supportsMediaTag=void 0!==a.canPlayType||b.isBustedAndroid;try{a.canPlayType("video/mp4")}catch(g){b.supportsMediaTag=!1}b.hasSemiNativeFullScreen=void 0!==a.webkitEnterFullscreen,b.hasNativeFullscreen=void 0!==a.requestFullscreen,b.hasWebkitNativeFullScreen=void 0!==a.webkitRequestFullScreen,b.hasMozNativeFullScreen=void 0!==a.mozRequestFullScreen,b.hasMsNativeFullScreen=void 0!==a.msRequestFullscreen,b.hasTrueNativeFullScreen=b.hasWebkitNativeFullScreen||b.hasMozNativeFullScreen||b.hasMsNativeFullScreen,b.nativeFullScreenEnabled=b.hasTrueNativeFullScreen,b.hasMozNativeFullScreen?b.nativeFullScreenEnabled=document.mozFullScreenEnabled:b.hasMsNativeFullScreen&&(b.nativeFullScreenEnabled=document.msFullscreenEnabled),b.isChrome&&(b.hasSemiNativeFullScreen=!1),b.hasTrueNativeFullScreen&&(b.fullScreenEventName="",b.hasWebkitNativeFullScreen?b.fullScreenEventName="webkitfullscreenchange":b.hasMozNativeFullScreen?b.fullScreenEventName="mozfullscreenchange":b.hasMsNativeFullScreen&&(b.fullScreenEventName="MSFullscreenChange"),b.isFullScreen=function(){return a.mozRequestFullScreen?c.mozFullScreen:a.webkitRequestFullScreen?c.webkitIsFullScreen:a.hasMsNativeFullScreen?null!==c.msFullscreenElement:void 0},b.requestFullScreen=function(a){b.hasWebkitNativeFullScreen?a.webkitRequestFullScreen():b.hasMozNativeFullScreen?a.mozRequestFullScreen():b.hasMsNativeFullScreen&&a.msRequestFullscreen()},b.cancelFullScreen=function(){b.hasWebkitNativeFullScreen?document.webkitCancelFullScreen():b.hasMozNativeFullScreen?document.mozCancelFullScreen():b.hasMsNativeFullScreen&&document.msExitFullscreen()}),b.hasSemiNativeFullScreen&&e.match(/mac os x 10_5/i)&&(b.hasNativeFullScreen=!1,b.hasSemiNativeFullScreen=!1)}},mejs.MediaFeatures.init(),mejs.HtmlMediaElement={pluginType:"native",isFullScreen:!1,setCurrentTime:function(a){this.currentTime=a},setMuted:function(a){this.muted=a},setVolume:function(a){this.volume=a},stop:function(){this.pause()},setSrc:function(a){for(var b=this.getElementsByTagName("source");b.length>0;)this.removeChild(b[0]);if("string"==typeof a)this.src=a;else{var c;for(b=0;b<a.length;b++)if(c=a[b],this.canPlayType(c.type)){this.src=c.src;break}}},setVideoSize:function(a,b){this.width=a,this.height=b}},mejs.PluginMediaElement=function(a,b,c){this.id=a,this.pluginType=b,this.src=c,this.events={},this.attributes={}},mejs.PluginMediaElement.prototype={pluginElement:null,pluginType:"",isFullScreen:!1,playbackRate:-1,defaultPlaybackRate:-1,seekable:[],played:[],paused:!0,ended:!1,seeking:!1,duration:0,error:null,tagName:"",muted:!1,volume:1,currentTime:0,play:function(){null!=this.pluginApi&&("youtube"==this.pluginType||"vimeo"==this.pluginType?this.pluginApi.playVideo():this.pluginApi.playMedia(),this.paused=!1)},load:function(){null!=this.pluginApi&&("youtube"==this.pluginType||"vimeo"==this.pluginType||this.pluginApi.loadMedia(),this.paused=!1)},pause:function(){null!=this.pluginApi&&("youtube"==this.pluginType||"vimeo"==this.pluginType?this.pluginApi.pauseVideo():this.pluginApi.pauseMedia(),this.paused=!0)},stop:function(){null!=this.pluginApi&&("youtube"==this.pluginType||"vimeo"==this.pluginType?this.pluginApi.stopVideo():this.pluginApi.stopMedia(),this.paused=!0)},canPlayType:function(a){var b,c,d,e=mejs.plugins[this.pluginType];for(b=0;b<e.length;b++)if(d=e[b],mejs.PluginDetector.hasPluginVersion(this.pluginType,d.version))for(c=0;c<d.types.length;c++)if(a==d.types[c])return"probably";return""},positionFullscreenButton:function(a,b,c){null!=this.pluginApi&&this.pluginApi.positionFullscreenButton&&this.pluginApi.positionFullscreenButton(Math.floor(a),Math.floor(b),c)},hideFullscreenButton:function(){null!=this.pluginApi&&this.pluginApi.hideFullscreenButton&&this.pluginApi.hideFullscreenButton()},setSrc:function(a){if("string"==typeof a)this.pluginApi.setSrc(mejs.Utility.absolutizeUrl(a)),this.src=mejs.Utility.absolutizeUrl(a);else{var b,c;for(b=0;b<a.length;b++)if(c=a[b],this.canPlayType(c.type)){this.pluginApi.setSrc(mejs.Utility.absolutizeUrl(c.src)),this.src=mejs.Utility.absolutizeUrl(a);break}}},setCurrentTime:function(a){null!=this.pluginApi&&("youtube"==this.pluginType||"vimeo"==this.pluginType?this.pluginApi.seekTo(a):this.pluginApi.setCurrentTime(a),this.currentTime=a)},setVolume:function(a){null!=this.pluginApi&&("youtube"==this.pluginType||"vimeo"==this.pluginType?this.pluginApi.setVolume(100*a):this.pluginApi.setVolume(a),this.volume=a)},setMuted:function(a){null!=this.pluginApi&&("youtube"==this.pluginType||"vimeo"==this.pluginType?(a?this.pluginApi.mute():this.pluginApi.unMute(),this.muted=a,this.dispatchEvent("volumechange")):this.pluginApi.setMuted(a),this.muted=a)},setVideoSize:function(a,b){this.pluginElement.style&&(this.pluginElement.style.width=a+"px",this.pluginElement.style.height=b+"px"),null!=this.pluginApi&&this.pluginApi.setVideoSize&&this.pluginApi.setVideoSize(a,b)},setFullscreen:function(a){null!=this.pluginApi&&this.pluginApi.setFullscreen&&this.pluginApi.setFullscreen(a)},enterFullScreen:function(){null!=this.pluginApi&&this.pluginApi.setFullscreen&&this.setFullscreen(!0)},exitFullScreen:function(){null!=this.pluginApi&&this.pluginApi.setFullscreen&&this.setFullscreen(!1)},addEventListener:function(a,b){this.events[a]=this.events[a]||[],this.events[a].push(b)},removeEventListener:function(a,b){if(!a)return this.events={},!0;var c=this.events[a];if(!c)return!0;if(!b)return this.events[a]=[],!0;for(var d=0;d<c.length;d++)if(c[d]===b)return this.events[a].splice(d,1),!0;return!1},dispatchEvent:function(a){var b,c,d=this.events[a];if(d)for(c=Array.prototype.slice.call(arguments,1),b=0;b<d.length;b++)d[b].apply(null,c)},hasAttribute:function(a){return a in this.attributes},removeAttribute:function(a){delete this.attributes[a]},getAttribute:function(a){return this.hasAttribute(a)?this.attributes[a]:""},setAttribute:function(a,b){this.attributes[a]=b},remove:function(){mejs.Utility.removeSwf(this.pluginElement.id),mejs.MediaPluginBridge.unregisterPluginElement(this.pluginElement.id)}},mejs.MediaPluginBridge={pluginMediaElements:{},htmlMediaElements:{},registerPluginElement:function(a,b,c){this.pluginMediaElements[a]=b,this.htmlMediaElements[a]=c},unregisterPluginElement:function(a){delete this.pluginMediaElements[a],delete this.htmlMediaElements[a]},initPlugin:function(a){var b=this.pluginMediaElements[a],c=this.htmlMediaElements[a];if(b){switch(b.pluginType){case"flash":b.pluginElement=b.pluginApi=document.getElementById(a);break;case"silverlight":b.pluginElement=document.getElementById(b.id),b.pluginApi=b.pluginElement.Content.MediaElementJS}null!=b.pluginApi&&b.success&&b.success(b,c)}},fireEvent:function(a,b,c){var d,e;if(a=this.pluginMediaElements[a]){b={type:b,target:a};for(d in c)a[d]=c[d],b[d]=c[d];e=c.bufferedTime||0,b.target.buffered=b.buffered={start:function(){return 0},end:function(){return e},length:1},a.dispatchEvent(b.type,b)}}},mejs.MediaElementDefaults={mode:"auto",plugins:["flash","silverlight","youtube","vimeo"],enablePluginDebug:!1,httpsBasicAuthSite:!1,type:"",pluginPath:mejs.Utility.getScriptPath(["mediaelement.js","mediaelement.min.js","mediaelement-and-player.js","mediaelement-and-player.min.js"]),flashName:"flashmediaelement.swf",flashStreamer:"",enablePluginSmoothing:!1,enablePseudoStreaming:!1,pseudoStreamingStartQueryParam:"start",silverlightName:"silverlightmediaelement.xap",defaultVideoWidth:480,defaultVideoHeight:270,pluginWidth:-1,pluginHeight:-1,pluginVars:[],timerRate:250,startVolume:.8,success:function(){},error:function(){}},mejs.MediaElement=function(a,b){return mejs.HtmlMediaElementShim.create(a,b)},mejs.HtmlMediaElementShim={create:function(a,b){var c=mejs.MediaElementDefaults,d="string"==typeof a?document.getElementById(a):a,e=d.tagName.toLowerCase(),f="audio"===e||"video"===e,g=f?d.getAttribute("src"):d.getAttribute("href");e=d.getAttribute("poster");var h,i=d.getAttribute("autoplay"),j=d.getAttribute("preload"),k=d.getAttribute("controls");for(h in b)c[h]=b[h];return g=void 0===g||null===g||""==g?null:g,e=void 0===e||null===e?"":e,j=void 0===j||null===j||"false"===j?"none":j,i=!(void 0===i||null===i||"false"===i),k=!(void 0===k||null===k||"false"===k),h=this.determinePlayback(d,c,mejs.MediaFeatures.supportsMediaTag,f,g),h.url=null!==h.url?mejs.Utility.absolutizeUrl(h.url):"","native"==h.method?(mejs.MediaFeatures.isBustedAndroid&&(d.src=h.url,d.addEventListener("click",function(){d.play()},!1)),this.updateNative(h,c,i,j)):""!==h.method?this.createPlugin(h,c,e,i,j,k):(this.createErrorMessage(h,c,e),this)},determinePlayback:function(a,b,c,d,e){var f,g,h,i,j=[],k={method:"",url:"",htmlMediaElement:a,isVideo:"audio"!=a.tagName.toLowerCase()};if(void 0!==b.type&&""!==b.type)if("string"==typeof b.type)j.push({type:b.type,url:e});else for(f=0;f<b.type.length;f++)j.push({type:b.type[f],url:e});else if(null!==e)h=this.formatType(e,a.getAttribute("type")),j.push({type:h,url:e});else for(f=0;f<a.childNodes.length;f++)g=a.childNodes[f],1==g.nodeType&&"source"==g.tagName.toLowerCase()&&(e=g.getAttribute("src"),h=this.formatType(e,g.getAttribute("type")),g=g.getAttribute("media"),(!g||!window.matchMedia||window.matchMedia&&window.matchMedia(g).matches)&&j.push({type:h,url:e}));if(!d&&j.length>0&&null!==j[0].url&&this.getTypeFromFile(j[0].url).indexOf("audio")>-1&&(k.isVideo=!1),mejs.MediaFeatures.isBustedAndroid&&(a.canPlayType=function(a){return null!==a.match(/video\/(mp4|m4v)/gi)?"maybe":""}),c&&("auto"===b.mode||"auto_plugin"===b.mode||"native"===b.mode)&&(!mejs.MediaFeatures.isBustedNativeHTTPS||b.httpsBasicAuthSite!==!0)){for(d||(f=document.createElement(k.isVideo?"video":"audio"),a.parentNode.insertBefore(f,a),a.style.display="none",k.htmlMediaElement=a=f),f=0;f<j.length;f++)if(""!==a.canPlayType(j[f].type).replace(/no/,"")||""!==a.canPlayType(j[f].type.replace(/mp3/,"mpeg")).replace(/no/,"")||""!==a.canPlayType(j[f].type.replace(/m4a/,"mp4")).replace(/no/,"")){k.method="native",k.url=j[f].url;break}if("native"===k.method&&(null!==k.url&&(a.src=k.url),"auto_plugin"!==b.mode))return k}if("auto"===b.mode||"auto_plugin"===b.mode||"shim"===b.mode)for(f=0;f<j.length;f++)for(h=j[f].type,a=0;a<b.plugins.length;a++)for(e=b.plugins[a],g=mejs.plugins[e],c=0;c<g.length;c++)if(i=g[c],null==i.version||mejs.PluginDetector.hasPluginVersion(e,i.version))for(d=0;d<i.types.length;d++)if(h==i.types[d])return k.method=e,k.url=j[f].url,k;return"auto_plugin"===b.mode&&"native"===k.method?k:(""===k.method&&j.length>0&&(k.url=j[0].url),k)},formatType:function(a,b){return a&&!b?this.getTypeFromFile(a):b&&~b.indexOf(";")?b.substr(0,b.indexOf(";")):b},getTypeFromFile:function(a){return a=a.split("?")[0],a=a.substring(a.lastIndexOf(".")+1).toLowerCase(),(/(mp4|m4v|ogg|ogv|webm|webmv|flv|wmv|mpeg|mov)/gi.test(a)?"video":"audio")+"/"+this.getTypeFromExtension(a)},getTypeFromExtension:function(a){switch(a){case"mp4":case"m4v":case"m4a":return"mp4";case"webm":case"webma":case"webmv":return"webm";case"ogg":
case"oga":case"ogv":return"ogg";default:return a}},createErrorMessage:function(a,b,c){var d=a.htmlMediaElement,e=document.createElement("div");e.className="me-cannotplay";try{e.style.width=d.width+"px",e.style.height=d.height+"px"}catch(f){}e.innerHTML=b.customError?b.customError:""!==c?'<a href="'+a.url+'"><img src="'+c+'" width="100%" height="100%" /></a>':'<a href="'+a.url+'"><span>'+mejs.i18n.t("Download File")+"</span></a>",d.parentNode.insertBefore(e,d),d.style.display="none",b.error(d)},createPlugin:function(a,b,c,d,e,f){c=a.htmlMediaElement;var g,h=1,i=1,j="me_"+a.method+"_"+mejs.meIndex++,k=new mejs.PluginMediaElement(j,a.method,a.url),l=document.createElement("div");for(k.tagName=c.tagName,g=0;g<c.attributes.length;g++){var m=c.attributes[g];1==m.specified&&k.setAttribute(m.name,m.value)}for(g=c.parentNode;null!==g&&"body"!==g.tagName.toLowerCase()&&null!=g.parentNode;){if("p"===g.parentNode.tagName.toLowerCase()){g.parentNode.parentNode.insertBefore(g,g.parentNode);break}g=g.parentNode}switch(a.isVideo?(h=b.pluginWidth>0?b.pluginWidth:b.videoWidth>0?b.videoWidth:null!==c.getAttribute("width")?c.getAttribute("width"):b.defaultVideoWidth,i=b.pluginHeight>0?b.pluginHeight:b.videoHeight>0?b.videoHeight:null!==c.getAttribute("height")?c.getAttribute("height"):b.defaultVideoHeight,h=mejs.Utility.encodeUrl(h),i=mejs.Utility.encodeUrl(i)):b.enablePluginDebug&&(h=320,i=240),k.success=b.success,mejs.MediaPluginBridge.registerPluginElement(j,k,c),l.className="me-plugin",l.id=j+"_container",a.isVideo?c.parentNode.insertBefore(l,c):document.body.insertBefore(l,document.body.childNodes[0]),d=["id="+j,"isvideo="+(a.isVideo?"true":"false"),"autoplay="+(d?"true":"false"),"preload="+e,"width="+h,"startvolume="+b.startVolume,"timerrate="+b.timerRate,"flashstreamer="+b.flashStreamer,"height="+i,"pseudostreamstart="+b.pseudoStreamingStartQueryParam],null!==a.url&&("flash"==a.method?d.push("file="+mejs.Utility.encodeUrl(a.url)):d.push("file="+a.url)),b.enablePluginDebug&&d.push("debug=true"),b.enablePluginSmoothing&&d.push("smoothing=true"),b.enablePseudoStreaming&&d.push("pseudostreaming=true"),f&&d.push("controls=true"),b.pluginVars&&(d=d.concat(b.pluginVars)),a.method){case"silverlight":l.innerHTML='<object data="data:application/x-silverlight-2," type="application/x-silverlight-2" id="'+j+'" name="'+j+'" width="'+h+'" height="'+i+'" class="mejs-shim"><param name="initParams" value="'+d.join(",")+'" /><param name="windowless" value="true" /><param name="background" value="black" /><param name="minRuntimeVersion" value="3.0.0.0" /><param name="autoUpgrade" value="true" /><param name="source" value="'+b.pluginPath+b.silverlightName+'" /></object>';break;case"flash":mejs.MediaFeatures.isIE?(a=document.createElement("div"),l.appendChild(a),a.outerHTML='<object classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000" codebase="//download.macromedia.com/pub/shockwave/cabs/flash/swflash.cab" id="'+j+'" width="'+h+'" height="'+i+'" class="mejs-shim"><param name="movie" value="'+b.pluginPath+b.flashName+"?x="+new Date+'" /><param name="flashvars" value="'+d.join("&amp;")+'" /><param name="quality" value="high" /><param name="bgcolor" value="#000000" /><param name="wmode" value="transparent" /><param name="allowScriptAccess" value="always" /><param name="allowFullScreen" value="true" /><param name="scale" value="default" /></object>'):l.innerHTML='<embed id="'+j+'" name="'+j+'" play="true" loop="false" quality="high" bgcolor="#000000" wmode="transparent" allowScriptAccess="always" allowFullScreen="true" type="application/x-shockwave-flash" pluginspage="//www.macromedia.com/go/getflashplayer" src="'+b.pluginPath+b.flashName+'" flashvars="'+d.join("&")+'" width="'+h+'" height="'+i+'" scale="default"class="mejs-shim"></embed>';break;case"youtube":a.url.lastIndexOf("youtu.be")!=-1?(a=a.url.substr(a.url.lastIndexOf("/")+1),a.indexOf("?")!=-1&&(a=a.substr(0,a.indexOf("?")))):a=a.url.substr(a.url.lastIndexOf("=")+1),youtubeSettings={container:l,containerId:l.id,pluginMediaElement:k,pluginId:j,videoId:a,height:i,width:h},mejs.PluginDetector.hasPluginVersion("flash",[10,0,0])?mejs.YouTubeApi.createFlash(youtubeSettings):mejs.YouTubeApi.enqueueIframe(youtubeSettings);break;case"vimeo":if(b=j+"_player",k.vimeoid=a.url.substr(a.url.lastIndexOf("/")+1),l.innerHTML='<iframe src="//player.vimeo.com/video/'+k.vimeoid+"?api=1&portrait=0&byline=0&title=0&player_id="+b+'" width="'+h+'" height="'+i+'" frameborder="0" class="mejs-shim" id="'+b+'"></iframe>',"function"==typeof $f){var n=$f(l.childNodes[0]);n.addEvent("ready",function(){function a(a,b,c,d){a={type:c,target:b},"timeupdate"==c&&(b.currentTime=a.currentTime=d.seconds,b.duration=a.duration=d.duration),b.dispatchEvent(a.type,a)}n.playVideo=function(){n.api("play")},n.pauseVideo=function(){n.api("pause")},n.seekTo=function(a){n.api("seekTo",a)},n.addEvent("play",function(){a(n,k,"play"),a(n,k,"playing")}),n.addEvent("pause",function(){a(n,k,"pause")}),n.addEvent("finish",function(){a(n,k,"ended")}),n.addEvent("playProgress",function(b){a(n,k,"timeupdate",b)}),k.pluginApi=n,mejs.MediaPluginBridge.initPlugin(j)})}}return c.style.display="none",c.removeAttribute("autoplay"),k},updateNative:function(a,b){var c,d=a.htmlMediaElement;for(c in mejs.HtmlMediaElement)d[c]=mejs.HtmlMediaElement[c];return b.success(d,d),d}},mejs.YouTubeApi={isIframeStarted:!1,isIframeLoaded:!1,loadIframeApi:function(){if(!this.isIframeStarted){var a=document.createElement("script");a.src="//www.youtube.com/player_api";var b=document.getElementsByTagName("script")[0];b.parentNode.insertBefore(a,b),this.isIframeStarted=!0}},iframeQueue:[],enqueueIframe:function(a){this.isLoaded?this.createIframe(a):(this.loadIframeApi(),this.iframeQueue.push(a))},createIframe:function(a){var b=a.pluginMediaElement,c=new YT.Player(a.containerId,{height:a.height,width:a.width,videoId:a.videoId,playerVars:{controls:0},events:{onReady:function(){a.pluginMediaElement.pluginApi=c,mejs.MediaPluginBridge.initPlugin(a.pluginId),setInterval(function(){mejs.YouTubeApi.createEvent(c,b,"timeupdate")},250)},onStateChange:function(a){mejs.YouTubeApi.handleStateChange(a.data,c,b)}}})},createEvent:function(a,b,c){if(c={type:c,target:b},a&&a.getDuration){b.currentTime=c.currentTime=a.getCurrentTime(),b.duration=c.duration=a.getDuration(),c.paused=b.paused,c.ended=b.ended,c.muted=a.isMuted(),c.volume=a.getVolume()/100,c.bytesTotal=a.getVideoBytesTotal(),c.bufferedBytes=a.getVideoBytesLoaded();var d=c.bufferedBytes/c.bytesTotal*c.duration;c.target.buffered=c.buffered={start:function(){return 0},end:function(){return d},length:1}}b.dispatchEvent(c.type,c)},iFrameReady:function(){for(this.isIframeLoaded=this.isLoaded=!0;this.iframeQueue.length>0;)this.createIframe(this.iframeQueue.pop())},flashPlayers:{},createFlash:function(a){this.flashPlayers[a.pluginId]=a;var b,c="//www.youtube.com/apiplayer?enablejsapi=1&amp;playerapiid="+a.pluginId+"&amp;version=3&amp;autoplay=0&amp;controls=0&amp;modestbranding=1&loop=0";mejs.MediaFeatures.isIE?(b=document.createElement("div"),a.container.appendChild(b),b.outerHTML='<object classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000" codebase="//download.macromedia.com/pub/shockwave/cabs/flash/swflash.cab" id="'+a.pluginId+'" width="'+a.width+'" height="'+a.height+'" class="mejs-shim"><param name="movie" value="'+c+'" /><param name="wmode" value="transparent" /><param name="allowScriptAccess" value="always" /><param name="allowFullScreen" value="true" /></object>'):a.container.innerHTML='<object type="application/x-shockwave-flash" id="'+a.pluginId+'" data="'+c+'" width="'+a.width+'" height="'+a.height+'" style="visibility: visible; " class="mejs-shim"><param name="allowScriptAccess" value="always"><param name="wmode" value="transparent"></object>'},flashReady:function(a){var b=this.flashPlayers[a],c=document.getElementById(a),d=b.pluginMediaElement;d.pluginApi=d.pluginElement=c,mejs.MediaPluginBridge.initPlugin(a),c.cueVideoById(b.videoId),a=b.containerId+"_callback",window[a]=function(a){mejs.YouTubeApi.handleStateChange(a,c,d)},c.addEventListener("onStateChange",a),setInterval(function(){mejs.YouTubeApi.createEvent(c,d,"timeupdate")},250)},handleStateChange:function(a,b,c){switch(a){case-1:c.paused=!0,c.ended=!0,mejs.YouTubeApi.createEvent(b,c,"loadedmetadata");break;case 0:c.paused=!1,c.ended=!0,mejs.YouTubeApi.createEvent(b,c,"ended");break;case 1:c.paused=!1,c.ended=!1,mejs.YouTubeApi.createEvent(b,c,"play"),mejs.YouTubeApi.createEvent(b,c,"playing");break;case 2:c.paused=!0,c.ended=!1,mejs.YouTubeApi.createEvent(b,c,"pause");break;case 3:mejs.YouTubeApi.createEvent(b,c,"progress")}}},window.mejs=mejs,window.MediaElement=mejs.MediaElement,function(a,b){var c={locale:{language:"",strings:{}},methods:{}};c.getLanguage=function(){return(c.locale.language||window.navigator.userLanguage||window.navigator.language).substr(0,2).toLowerCase()},"undefined"!=typeof mejsL10n&&(c.locale.language=mejsL10n.language),c.methods.checkPlain=function(a){var b,c,d={"&":"&amp;",'"':"&quot;","<":"&lt;",">":"&gt;"};a+="";for(b in d)d.hasOwnProperty(b)&&(c=RegExp(b,"g"),a=a.replace(c,d[b]));return a},c.methods.t=function(a,b){return c.locale.strings&&c.locale.strings[b.context]&&c.locale.strings[b.context][a]&&(a=c.locale.strings[b.context][a]),c.methods.checkPlain(a)},c.t=function(a,b){if("string"==typeof a&&a.length>0){var d=c.getLanguage();return b=b||{context:d},c.methods.t(a,b)}throw{name:"InvalidArgumentException",message:"First argument is either not a string or empty."}},b.i18n=c}(document,mejs),function(a){"undefined"!=typeof mejsL10n&&(a[mejsL10n.language]=mejsL10n.strings)}(mejs.i18n.locale.strings),function(a){void 0===a.de&&(a.de={Fullscreen:"Vollbild","Go Fullscreen":"Vollbild an","Turn off Fullscreen":"Vollbild aus",Close:"Schlieen"})}(mejs.i18n.locale.strings),function(a){void 0===a.zh&&(a.zh={Fullscreen:"","Go Fullscreen":"","Turn off Fullscreen":"",Close:""})}(mejs.i18n.locale.strings),"undefined"!=typeof jQuery?mejs.$=jQuery:"undefined"!=typeof ender&&(mejs.$=ender),function(a){mejs.MepDefaults={poster:"",showPosterWhenEnded:!1,defaultVideoWidth:480,defaultVideoHeight:270,videoWidth:-1,videoHeight:-1,defaultAudioWidth:400,defaultAudioHeight:30,defaultSeekBackwardInterval:function(a){return.05*a.duration},defaultSeekForwardInterval:function(a){return.05*a.duration},audioWidth:-1,audioHeight:-1,startVolume:.8,loop:!1,autoRewind:!0,enableAutosize:!0,alwaysShowHours:!1,showTimecodeFrameCount:!1,framesPerSecond:25,autosizeProgress:!0,alwaysShowControls:!1,hideVideoControlsOnLoad:!1,clickToPlayPause:!0,iPadUseNativeControls:!1,iPhoneUseNativeControls:!1,AndroidUseNativeControls:!1,features:["playpause","current","progress","duration","tracks","volume","fullscreen"],isVideo:!0,enableKeyboard:!0,pauseOtherPlayers:!0,keyActions:[{keys:[32,179],action:function(a,b){b.paused||b.ended?a.play():a.pause()}},{keys:[38],action:function(a,b){b.setVolume(Math.min(b.volume+.1,1))}},{keys:[40],action:function(a,b){b.setVolume(Math.max(b.volume-.1,0))}},{keys:[37,227],action:function(a,b){if(!isNaN(b.duration)&&b.duration>0){a.isVideo&&(a.showControls(),a.startControlsTimer());var c=Math.max(b.currentTime-a.options.defaultSeekBackwardInterval(b),0);b.setCurrentTime(c)}}},{keys:[39,228],action:function(a,b){if(!isNaN(b.duration)&&b.duration>0){a.isVideo&&(a.showControls(),a.startControlsTimer());var c=Math.min(b.currentTime+a.options.defaultSeekForwardInterval(b),b.duration);b.setCurrentTime(c)}}},{keys:[70],action:function(a){void 0!==a.enterFullScreen&&(a.isFullScreen?a.exitFullScreen():a.enterFullScreen())}}]},mejs.mepIndex=0,mejs.players={},mejs.MediaElementPlayer=function(b,c){return this instanceof mejs.MediaElementPlayer?(this.$media=this.$node=a(b),this.node=this.media=this.$media[0],void 0!==this.node.player?this.node.player:(this.node.player=this,void 0===c&&(c=this.$node.data("mejsoptions")),this.options=a.extend({},mejs.MepDefaults,c),this.id="mep_"+mejs.mepIndex++,mejs.players[this.id]=this,this.init(),this)):new mejs.MediaElementPlayer(b,c)},mejs.MediaElementPlayer.prototype={hasFocus:!1,controlsAreVisible:!0,init:function(){var b=this,c=mejs.MediaFeatures,d=a.extend(!0,{},b.options,{success:function(a,c){b.meReady(a,c)},error:function(a){b.handleError(a)}}),e=b.media.tagName.toLowerCase();b.isDynamic="audio"!==e&&"video"!==e,b.isVideo=b.isDynamic?b.options.isVideo:"audio"!==e&&b.options.isVideo,c.isiPad&&b.options.iPadUseNativeControls||c.isiPhone&&b.options.iPhoneUseNativeControls?(b.$media.attr("controls","controls"),c.isiPad&&null!==b.media.getAttribute("autoplay")&&b.play()):c.isAndroid&&b.options.AndroidUseNativeControls||(b.$media.removeAttr("controls"),b.container=a('<div id="'+b.id+'" class="mejs-container '+(mejs.MediaFeatures.svg?"svg":"no-svg")+'"><div class="mejs-inner"><div class="mejs-mediaelement"></div><div class="mejs-layers"></div><div class="mejs-controls"></div><div class="mejs-clear"></div></div></div>').addClass(b.$media[0].className).insertBefore(b.$media),b.container.addClass((c.isAndroid?"mejs-android ":"")+(c.isiOS?"mejs-ios ":"")+(c.isiPad?"mejs-ipad ":"")+(c.isiPhone?"mejs-iphone ":"")+(b.isVideo?"mejs-video ":"mejs-audio ")),c.isiOS?(c=b.$media.clone(),b.container.find(".mejs-mediaelement").append(c),b.$media.remove(),b.$node=b.$media=c,b.node=b.media=c[0]):b.container.find(".mejs-mediaelement").append(b.$media),b.controls=b.container.find(".mejs-controls"),b.layers=b.container.find(".mejs-layers"),c=b.isVideo?"video":"audio",e=c.substring(0,1).toUpperCase()+c.substring(1),b.width=b.options[c+"Width"]>0||(""+b.options[c+"Width"]).indexOf("%")>-1?b.options[c+"Width"]:""!==b.media.style.width&&null!==b.media.style.width?b.media.style.width:null!==b.media.getAttribute("width")?b.$media.attr("width"):b.options["default"+e+"Width"],b.height=b.options[c+"Height"]>0||(""+b.options[c+"Height"]).indexOf("%")>-1?b.options[c+"Height"]:""!==b.media.style.height&&null!==b.media.style.height?b.media.style.height:null!==b.$media[0].getAttribute("height")?b.$media.attr("height"):b.options["default"+e+"Height"],b.setPlayerSize(b.width,b.height),d.pluginWidth=b.width,d.pluginHeight=b.height),mejs.MediaElement(b.$media[0],d),void 0!==b.container&&b.controlsAreVisible&&b.container.trigger("controlsshown")},showControls:function(a){var b=this;a=void 0===a||a,b.controlsAreVisible||(a?(b.controls.css("visibility","visible").stop(!0,!0).fadeIn(200,function(){b.controlsAreVisible=!0,b.container.trigger("controlsshown")}),b.container.find(".mejs-control").css("visibility","visible").stop(!0,!0).fadeIn(200,function(){b.controlsAreVisible=!0})):(b.controls.css("visibility","visible").css("display","block"),b.container.find(".mejs-control").css("visibility","visible").css("display","block"),b.controlsAreVisible=!0,b.container.trigger("controlsshown")),b.setControlsSize())},hideControls:function(b){var c=this;b=void 0===b||b,c.controlsAreVisible&&!c.options.alwaysShowControls&&(b?(c.controls.stop(!0,!0).fadeOut(200,function(){a(this).css("visibility","hidden").css("display","block"),c.controlsAreVisible=!1,c.container.trigger("controlshidden")}),c.container.find(".mejs-control").stop(!0,!0).fadeOut(200,function(){a(this).css("visibility","hidden").css("display","block")})):(c.controls.css("visibility","hidden").css("display","block"),c.container.find(".mejs-control").css("visibility","hidden").css("display","block"),c.controlsAreVisible=!1,c.container.trigger("controlshidden")))},controlsTimer:null,startControlsTimer:function(a){var b=this;a=void 0!==a?a:1500,b.killControlsTimer("start"),b.controlsTimer=setTimeout(function(){b.hideControls(),b.killControlsTimer("hide")},a)},killControlsTimer:function(){null!==this.controlsTimer&&(clearTimeout(this.controlsTimer),delete this.controlsTimer,this.controlsTimer=null)},controlsEnabled:!0,disableControls:function(){this.killControlsTimer(),this.hideControls(!1),this.controlsEnabled=!1},enableControls:function(){this.showControls(!1),this.controlsEnabled=!0},meReady:function(a,b){var c=this,d=mejs.MediaFeatures,e=b.getAttribute("autoplay");e=!(void 0===e||null===e||"false"===e);var f;if(!c.created){if(c.created=!0,c.media=a,c.domNode=b,!(d.isAndroid&&c.options.AndroidUseNativeControls||d.isiPad&&c.options.iPadUseNativeControls||d.isiPhone&&c.options.iPhoneUseNativeControls)){c.buildposter(c,c.controls,c.layers,c.media),c.buildkeyboard(c,c.controls,c.layers,c.media),c.buildoverlays(c,c.controls,c.layers,c.media),c.findTracks();for(f in c.options.features)if(d=c.options.features[f],c["build"+d])try{c["build"+d](c,c.controls,c.layers,c.media)}catch(g){}c.container.trigger("controlsready"),c.setPlayerSize(c.width,c.height),c.setControlsSize(),c.isVideo&&(mejs.MediaFeatures.hasTouch?c.$media.bind("touchstart",function(){c.controlsAreVisible?c.hideControls(!1):c.controlsEnabled&&c.showControls(!1)}):(c.clickToPlayPauseCallback=function(){c.options.clickToPlayPause&&(c.media.paused?c.play():c.pause())},c.media.addEventListener("click",c.clickToPlayPauseCallback,!1),c.container.bind("mouseenter mouseover",function(){c.controlsEnabled&&(c.options.alwaysShowControls||(c.killControlsTimer("enter"),c.showControls(),c.startControlsTimer(2500)))}).bind("mousemove",function(){c.controlsEnabled&&(c.controlsAreVisible||c.showControls(),c.options.alwaysShowControls||c.startControlsTimer(2500))}).bind("mouseleave",function(){c.controlsEnabled&&!c.media.paused&&!c.options.alwaysShowControls&&c.startControlsTimer(1e3)})),c.options.hideVideoControlsOnLoad&&c.hideControls(!1),e&&!c.options.alwaysShowControls&&c.hideControls(),c.options.enableAutosize&&c.media.addEventListener("loadedmetadata",function(a){c.options.videoHeight<=0&&null===c.domNode.getAttribute("height")&&!isNaN(a.target.videoHeight)&&(c.setPlayerSize(a.target.videoWidth,a.target.videoHeight),c.setControlsSize(),c.media.setVideoSize(a.target.videoWidth,a.target.videoHeight))},!1)),a.addEventListener("play",function(){for(var a in mejs.players){var b=mejs.players[a];b.id!=c.id&&c.options.pauseOtherPlayers&&!b.paused&&!b.ended&&b.pause(),b.hasFocus=!1}c.hasFocus=!0},!1),c.media.addEventListener("ended",function(){if(c.options.autoRewind)try{c.media.setCurrentTime(0)}catch(a){}c.media.pause(),c.setProgressRail&&c.setProgressRail(),c.setCurrentRail&&c.setCurrentRail(),c.options.loop?c.play():!c.options.alwaysShowControls&&c.controlsEnabled&&c.showControls()},!1),c.media.addEventListener("loadedmetadata",function(){c.updateDuration&&c.updateDuration(),c.updateCurrent&&c.updateCurrent(),c.isFullScreen||(c.setPlayerSize(c.width,c.height),c.setControlsSize())},!1),setTimeout(function(){c.setPlayerSize(c.width,c.height),c.setControlsSize()},50),c.globalBind("resize",function(){c.isFullScreen||mejs.MediaFeatures.hasTrueNativeFullScreen&&document.webkitIsFullScreen||c.setPlayerSize(c.width,c.height),c.setControlsSize()}),"youtube"==c.media.pluginType&&c.container.find(".mejs-overlay-play").hide()}e&&"native"==a.pluginType&&c.play(),c.options.success&&("string"==typeof c.options.success?window[c.options.success](c.media,c.domNode,c):c.options.success(c.media,c.domNode,c))}},handleError:function(a){this.controls.hide(),this.options.error&&this.options.error(a)},setPlayerSize:function(b,c){if(void 0!==b&&(this.width=b),void 0!==c&&(this.height=c),(""+this.height).indexOf("%")>0||"100%"===this.$node.css("max-width")||parseInt(this.$node.css("max-width").replace(/px/,""),10)/this.$node.offsetParent().width()===1||this.$node[0].currentStyle&&"100%"===this.$node[0].currentStyle.maxWidth){var d=this.isVideo?this.media.videoWidth&&this.media.videoWidth>0?this.media.videoWidth:this.options.defaultVideoWidth:this.options.defaultAudioWidth,e=this.isVideo?this.media.videoHeight&&this.media.videoHeight>0?this.media.videoHeight:this.options.defaultVideoHeight:this.options.defaultAudioHeight,f=this.container.parent().closest(":visible").width();d=this.isVideo||!this.options.autosizeProgress?parseInt(f*e/d,10):e,isNaN(d)&&(d=this.container.parent().closest(":visible").height()),"body"===this.container.parent()[0].tagName.toLowerCase()&&(f=a(window).width(),d=a(window).height()),0!=d&&0!=f&&(this.container.width(f).height(d),this.$media.add(this.container.find(".mejs-shim")).width("100%").height("100%"),this.isVideo&&this.media.setVideoSize&&this.media.setVideoSize(f,d),this.layers.children(".mejs-layer").width("100%").height("100%"))}else this.container.width(this.width).height(this.height),this.layers.children(".mejs-layer").width(this.width).height(this.height);f=this.layers.find(".mejs-overlay-play"),d=f.find(".mejs-overlay-button"),f.height(this.container.height()-this.controls.height()),d.css("margin-top","-"+(d.height()/2-this.controls.height()/2)+"px")},setControlsSize:function(){var b=0,c=0,d=this.controls.find(".mejs-time-rail"),e=this.controls.find(".mejs-time-total");this.controls.find(".mejs-time-current"),this.controls.find(".mejs-time-loaded");var f=d.siblings(),g=f.last(),h=null;if(this.container.is(":visible")&&d.length&&d.is(":visible")){this.options&&!this.options.autosizeProgress&&(c=parseInt(d.css("width"))),0!==c&&c||(f.each(function(){var c=a(this);"absolute"!=c.css("position")&&c.is(":visible")&&(b+=a(this).outerWidth(!0))}),c=this.controls.width()-b-(d.outerWidth(!0)-d.width()));do d.width(c),e.width(c-(e.outerWidth(!0)-e.width())),"absolute"!=g.css("position")&&(h=g.position(),c--);while(null!=h&&h.top>0&&c>0);this.setProgressRail&&this.setProgressRail(),this.setCurrentRail&&this.setCurrentRail()}},buildposter:function(b,c,d,e){var f=a('<div class="mejs-poster mejs-layer"></div>').appendTo(d);c=b.$media.attr("poster"),""!==b.options.poster&&(c=b.options.poster),""!==c&&null!=c?this.setPoster(c):f.hide(),e.addEventListener("play",function(){f.hide()},!1),b.options.showPosterWhenEnded&&b.options.autoRewind&&e.addEventListener("ended",function(){f.show()},!1)},setPoster:function(b){var c=this.container.find(".mejs-poster"),d=c.find("img");0==d.length&&(d=a('<img width="100%" height="100%" />').appendTo(c)),d.attr("src",b),c.css({"background-image":"url("+b+")"})},buildoverlays:function(b,c,d,e){var f=this;if(b.isVideo){var g=a('<div class="mejs-overlay mejs-layer"><div class="mejs-overlay-loading"><span></span></div></div>').hide().appendTo(d),h=a('<div class="mejs-overlay mejs-layer"><div class="mejs-overlay-error"></div></div>').hide().appendTo(d),i=a('<div class="mejs-overlay mejs-layer mejs-overlay-play"><div class="mejs-overlay-button"></div></div>').appendTo(d).bind("click touchstart",function(){f.options.clickToPlayPause&&e.paused&&e.play()});e.addEventListener("play",function(){i.hide(),g.hide(),c.find(".mejs-time-buffering").hide(),h.hide()},!1),e.addEventListener("playing",function(){i.hide(),g.hide(),c.find(".mejs-time-buffering").hide(),h.hide()},!1),e.addEventListener("seeking",function(){g.show(),c.find(".mejs-time-buffering").show()},!1),e.addEventListener("seeked",function(){g.hide(),c.find(".mejs-time-buffering").hide()},!1),e.addEventListener("pause",function(){mejs.MediaFeatures.isiPhone||i.show()},!1),e.addEventListener("waiting",function(){g.show(),c.find(".mejs-time-buffering").show()},!1),e.addEventListener("loadeddata",function(){g.show(),c.find(".mejs-time-buffering").show()},!1),e.addEventListener("canplay",function(){g.hide(),c.find(".mejs-time-buffering").hide()},!1),e.addEventListener("error",function(){g.hide(),c.find(".mejs-time-buffering").hide(),h.show(),h.find("mejs-overlay-error").html("Error loading this resource")},!1)}},buildkeyboard:function(b,c,d,e){this.globalBind("keydown",function(a){if(b.hasFocus&&b.options.enableKeyboard)for(var c=0,d=b.options.keyActions.length;c<d;c++)for(var f=b.options.keyActions[c],g=0,h=f.keys.length;g<h;g++)if(a.keyCode==f.keys[g])return a.preventDefault(),f.action(b,e,a.keyCode),!1;return!0}),this.globalBind("click",function(c){b.hasFocus=0!=a(c.target).closest(".mejs-container").length})},findTracks:function(){var b=this,c=b.$media.find("track");b.tracks=[],c.each(function(c,d){d=a(d),b.tracks.push({srclang:d.attr("srclang")?d.attr("srclang").toLowerCase():"",src:d.attr("src"),kind:d.attr("kind"),label:d.attr("label")||"",entries:[],isLoaded:!1})})},changeSkin:function(a){this.container[0].className="mejs-container "+a,this.setPlayerSize(this.width,this.height),this.setControlsSize()},play:function(){this.load(),this.media.play()},pause:function(){try{this.media.pause()}catch(a){}},load:function(){this.isLoaded||this.media.load(),this.isLoaded=!0},setMuted:function(a){this.media.setMuted(a)},setCurrentTime:function(a){this.media.setCurrentTime(a)},getCurrentTime:function(){return this.media.currentTime},setVolume:function(a){this.media.setVolume(a)},getVolume:function(){return this.media.volume},setSrc:function(a){this.media.setSrc(a)},remove:function(){var a,b;for(a in this.options.features)if(b=this.options.features[a],this["clean"+b])try{this["clean"+b](this)}catch(c){}this.isDynamic?this.$node.insertBefore(this.container):(this.$media.prop("controls",!0),this.$node.clone().show().insertBefore(this.container),this.$node.remove()),"native"!==this.media.pluginType&&this.media.remove(),delete mejs.players[this.id],"object"==typeof this.container&&this.container.remove(),this.globalUnbind(),delete this.node.player}},function(){function b(b,d){var e={d:[],w:[]};return a.each((b||"").split(" "),function(a,b){var f=b+"."+d;0===f.indexOf(".")?(e.d.push(f),e.w.push(f)):e[c.test(b)?"w":"d"].push(f)}),e.d=e.d.join(" "),e.w=e.w.join(" "),e}var c=/^((after|before)print|(before)?unload|hashchange|message|o(ff|n)line|page(hide|show)|popstate|resize|storage)\b/;mejs.MediaElementPlayer.prototype.globalBind=function(c,d,e){c=b(c,this.id),c.d&&a(document).bind(c.d,d,e),c.w&&a(window).bind(c.w,d,e)},mejs.MediaElementPlayer.prototype.globalUnbind=function(c,d){c=b(c,this.id),c.d&&a(document).unbind(c.d,d),c.w&&a(window).unbind(c.w,d)}}(),"undefined"!=typeof jQuery&&(jQuery.fn.mediaelementplayer=function(a){return a===!1?this.each(function(){var a=jQuery(this).data("mediaelementplayer");a&&a.remove(),jQuery(this).removeData("mediaelementplayer")}):this.each(function(){jQuery(this).data("mediaelementplayer",new mejs.MediaElementPlayer(this,a))}),this}),a(document).ready(function(){a(".mejs-player").mediaelementplayer()}),window.MediaElementPlayer=mejs.MediaElementPlayer}(mejs.$),function(a){a.extend(mejs.MepDefaults,{playpauseText:mejs.i18n.t("Play/Pause")}),a.extend(MediaElementPlayer.prototype,{buildplaypause:function(b,c,d,e){var f=a('<div class="mejs-button mejs-playpause-button mejs-play" ><button type="button" aria-controls="'+this.id+'" title="'+this.options.playpauseText+'" aria-label="'+this.options.playpauseText+'"></button></div>').appendTo(c).click(function(a){return a.preventDefault(),e.paused?e.play():e.pause(),!1});e.addEventListener("play",function(){f.removeClass("mejs-play").addClass("mejs-pause")},!1),e.addEventListener("playing",function(){f.removeClass("mejs-play").addClass("mejs-pause")},!1),e.addEventListener("pause",function(){f.removeClass("mejs-pause").addClass("mejs-play")},!1),e.addEventListener("paused",function(){f.removeClass("mejs-pause").addClass("mejs-play")},!1)}})}(mejs.$),function(a){a.extend(mejs.MepDefaults,{stopText:"Stop"}),a.extend(MediaElementPlayer.prototype,{buildstop:function(b,c,d,e){a('<div class="mejs-button mejs-stop-button mejs-stop"><button type="button" aria-controls="'+this.id+'" title="'+this.options.stopText+'" aria-label="'+this.options.stopText+'"></button></div>').appendTo(c).click(function(){e.paused||e.pause(),e.currentTime>0&&(e.setCurrentTime(0),e.pause(),c.find(".mejs-time-current").width("0px"),c.find(".mejs-time-handle").css("left","0px"),c.find(".mejs-time-float-current").html(mejs.Utility.secondsToTimeCode(0)),c.find(".mejs-currenttime").html(mejs.Utility.secondsToTimeCode(0)),d.find(".mejs-poster").show())})}})}(mejs.$),function(a){a.extend(MediaElementPlayer.prototype,{buildprogress:function(b,c,d,e){a('<div class="mejs-time-rail"><span class="mejs-time-total"><span class="mejs-time-buffering"></span><span class="mejs-time-loaded"></span><span class="mejs-time-current"></span><span class="mejs-time-handle"></span><span class="mejs-time-float"><span class="mejs-time-float-current">00:00</span><span class="mejs-time-float-corner"></span></span></span></div>').appendTo(c),c.find(".mejs-time-buffering").hide();var f=this,g=c.find(".mejs-time-total");d=c.find(".mejs-time-loaded");var h=c.find(".mejs-time-current"),i=c.find(".mejs-time-handle"),j=c.find(".mejs-time-float"),k=c.find(".mejs-time-float-current"),l=function(a){a=a.originalEvent.changedTouches?a.originalEvent.changedTouches[0].pageX:a.pageX;var b=g.offset(),c=g.outerWidth(!0),d=0,f=d=0;e.duration&&(a<b.left?a=b.left:a>c+b.left&&(a=c+b.left),f=a-b.left,d=f/c,d=d<=.02?0:d*e.duration,m&&d!==e.currentTime&&e.setCurrentTime(d),mejs.MediaFeatures.hasTouch||(j.css("left",f),k.html(mejs.Utility.secondsToTimeCode(d)),j.show()))},m=!1;g.bind("mousedown touchstart",function(a){if(1===a.which||0===a.which)return m=!0,l(a),f.globalBind("mousemove.dur touchmove.dur",function(a){l(a)}),f.globalBind("mouseup.dur touchend.dur",function(){m=!1,j.hide(),f.globalUnbind(".dur")}),!1}).bind("mouseenter",function(){f.globalBind("mousemove.dur",function(a){l(a)}),mejs.MediaFeatures.hasTouch||j.show()}).bind("mouseleave",function(){m||(f.globalUnbind(".dur"),j.hide())}),e.addEventListener("progress",function(a){b.setProgressRail(a),b.setCurrentRail(a)},!1),e.addEventListener("timeupdate",function(a){b.setProgressRail(a),b.setCurrentRail(a)},!1),f.loaded=d,f.total=g,f.current=h,f.handle=i},setProgressRail:function(a){var b=void 0!=a?a.target:this.media,c=null;b&&b.buffered&&b.buffered.length>0&&b.buffered.end&&b.duration?c=b.buffered.end(0)/b.duration:b&&void 0!=b.bytesTotal&&b.bytesTotal>0&&void 0!=b.bufferedBytes?c=b.bufferedBytes/b.bytesTotal:a&&a.lengthComputable&&0!=a.total&&(c=a.loaded/a.total),null!==c&&(c=Math.min(1,Math.max(0,c)),this.loaded&&this.total&&this.loaded.width(this.total.width()*c))},setCurrentRail:function(){if(void 0!=this.media.currentTime&&this.media.duration&&this.total&&this.handle){var a=Math.round(this.total.width()*this.media.currentTime/this.media.duration),b=a-Math.round(this.handle.outerWidth(!0)/2);this.current.width(a),this.handle.css("left",b)}}})}(mejs.$),function(a){a.extend(mejs.MepDefaults,{duration:-1,timeAndDurationSeparator:"<span> | </span>"}),a.extend(MediaElementPlayer.prototype,{buildcurrent:function(b,c,d,e){a('<div class="mejs-time"><span class="mejs-currenttime">'+(b.options.alwaysShowHours?"00:":"")+(b.options.showTimecodeFrameCount?"00:00:00":"00:00")+"</span></div>").appendTo(c),this.currenttime=this.controls.find(".mejs-currenttime"),e.addEventListener("timeupdate",function(){b.updateCurrent()},!1)},buildduration:function(b,c,d,e){c.children().last().find(".mejs-currenttime").length>0?a(this.options.timeAndDurationSeparator+'<span class="mejs-duration">'+(this.options.duration>0?mejs.Utility.secondsToTimeCode(this.options.duration,this.options.alwaysShowHours||this.media.duration>3600,this.options.showTimecodeFrameCount,this.options.framesPerSecond||25):(b.options.alwaysShowHours?"00:":"")+(b.options.showTimecodeFrameCount?"00:00:00":"00:00"))+"</span>").appendTo(c.find(".mejs-time")):(c.find(".mejs-currenttime").parent().addClass("mejs-currenttime-container"),a('<div class="mejs-time mejs-duration-container"><span class="mejs-duration">'+(this.options.duration>0?mejs.Utility.secondsToTimeCode(this.options.duration,this.options.alwaysShowHours||this.media.duration>3600,this.options.showTimecodeFrameCount,this.options.framesPerSecond||25):(b.options.alwaysShowHours?"00:":"")+(b.options.showTimecodeFrameCount?"00:00:00":"00:00"))+"</span></div>").appendTo(c)),this.durationD=this.controls.find(".mejs-duration"),e.addEventListener("timeupdate",function(){b.updateDuration()},!1)},updateCurrent:function(){this.currenttime&&this.currenttime.html(mejs.Utility.secondsToTimeCode(this.media.currentTime,this.options.alwaysShowHours||this.media.duration>3600,this.options.showTimecodeFrameCount,this.options.framesPerSecond||25));
},updateDuration:function(){this.container.toggleClass("mejs-long-video",this.media.duration>3600),this.durationD&&(this.options.duration>0||this.media.duration)&&this.durationD.html(mejs.Utility.secondsToTimeCode(this.options.duration>0?this.options.duration:this.media.duration,this.options.alwaysShowHours,this.options.showTimecodeFrameCount,this.options.framesPerSecond||25))}})}(mejs.$),function(a){a.extend(mejs.MepDefaults,{muteText:mejs.i18n.t("Mute Toggle"),hideVolumeOnTouchDevices:!0,audioVolume:"horizontal",videoVolume:"vertical"}),a.extend(MediaElementPlayer.prototype,{buildvolume:function(b,c,d,e){if(!mejs.MediaFeatures.isAndroid&&!mejs.MediaFeatures.isiOS||!this.options.hideVolumeOnTouchDevices){var f=this,g=f.isVideo?f.options.videoVolume:f.options.audioVolume,h="horizontal"==g?a('<div class="mejs-button mejs-volume-button mejs-mute"><button type="button" aria-controls="'+f.id+'" title="'+f.options.muteText+'" aria-label="'+f.options.muteText+'"></button></div><div class="mejs-horizontal-volume-slider"><div class="mejs-horizontal-volume-total"></div><div class="mejs-horizontal-volume-current"></div><div class="mejs-horizontal-volume-handle"></div></div>').appendTo(c):a('<div class="mejs-button mejs-volume-button mejs-mute"><button type="button" aria-controls="'+f.id+'" title="'+f.options.muteText+'" aria-label="'+f.options.muteText+'"></button><div class="mejs-volume-slider"><div class="mejs-volume-total"></div><div class="mejs-volume-current"></div><div class="mejs-volume-handle"></div></div></div>').appendTo(c),i=f.container.find(".mejs-volume-slider, .mejs-horizontal-volume-slider"),j=f.container.find(".mejs-volume-total, .mejs-horizontal-volume-total"),k=f.container.find(".mejs-volume-current, .mejs-horizontal-volume-current"),l=f.container.find(".mejs-volume-handle, .mejs-horizontal-volume-handle"),m=function(a,b){if(i.is(":visible")||void 0!==b)if(a=Math.max(0,a),a=Math.min(a,1),0==a?h.removeClass("mejs-mute").addClass("mejs-unmute"):h.removeClass("mejs-unmute").addClass("mejs-mute"),"vertical"==g){var c=j.height(),d=j.position(),e=c-c*a;l.css("top",Math.round(d.top+e-l.height()/2)),k.height(c-e),k.css("top",d.top+e)}else c=j.width(),d=j.position(),c*=a,l.css("left",Math.round(d.left+c-l.width()/2)),k.width(Math.round(c));else i.show(),m(a,!0),i.hide()},n=function(a){var b=null,c=j.offset();if("vertical"==g){if(b=j.height(),parseInt(j.css("top").replace(/px/,""),10),b=(b-(a.pageY-c.top))/b,0==c.top||0==c.left)return}else b=j.width(),b=(a.pageX-c.left)/b;b=Math.max(0,b),b=Math.min(b,1),m(b),0==b?e.setMuted(!0):e.setMuted(!1),e.setVolume(b)},o=!1,p=!1;h.hover(function(){i.show(),p=!0},function(){p=!1,!o&&"vertical"==g&&i.hide()}),i.bind("mouseover",function(){p=!0}).bind("mousedown",function(a){return n(a),f.globalBind("mousemove.vol",function(a){n(a)}),f.globalBind("mouseup.vol",function(){o=!1,f.globalUnbind(".vol"),!p&&"vertical"==g&&i.hide()}),o=!0,!1}),h.find("button").click(function(){e.setMuted(!e.muted)}),e.addEventListener("volumechange",function(){o||(e.muted?(m(0),h.removeClass("mejs-mute").addClass("mejs-unmute")):(m(e.volume),h.removeClass("mejs-unmute").addClass("mejs-mute")))},!1),f.container.is(":visible")&&(m(b.options.startVolume),0===b.options.startVolume&&e.setMuted(!0),"native"===e.pluginType&&e.setVolume(b.options.startVolume))}}})}(mejs.$),function(a){a.extend(mejs.MepDefaults,{usePluginFullScreen:!0,newWindowCallback:function(){return""},fullscreenText:mejs.i18n.t("Fullscreen")}),a.extend(MediaElementPlayer.prototype,{isFullScreen:!1,isNativeFullScreen:!1,isInIframe:!1,buildfullscreen:function(b,c,d,e){if(b.isVideo){b.isInIframe=window.location!=window.parent.location,mejs.MediaFeatures.hasTrueNativeFullScreen&&(d=function(){b.isFullScreen&&(mejs.MediaFeatures.isFullScreen()?(b.isNativeFullScreen=!0,b.setControlsSize()):(b.isNativeFullScreen=!1,b.exitFullScreen()))},mejs.MediaFeatures.hasMozNativeFullScreen?b.globalBind(mejs.MediaFeatures.fullScreenEventName,d):b.container.bind(mejs.MediaFeatures.fullScreenEventName,d));var f=this,g=a('<div class="mejs-button mejs-fullscreen-button"><button type="button" aria-controls="'+f.id+'" title="'+f.options.fullscreenText+'" aria-label="'+f.options.fullscreenText+'"></button></div>').appendTo(c);if("native"===f.media.pluginType||!f.options.usePluginFullScreen&&!mejs.MediaFeatures.isFirefox)g.click(function(){mejs.MediaFeatures.hasTrueNativeFullScreen&&mejs.MediaFeatures.isFullScreen()||b.isFullScreen?b.exitFullScreen():b.enterFullScreen()});else{var h=null;if(function(){var a=document.createElement("x"),b=document.documentElement,c=window.getComputedStyle;return"pointerEvents"in a.style&&(a.style.pointerEvents="auto",a.style.pointerEvents="x",b.appendChild(a),c=c&&"auto"===c(a,"").pointerEvents,b.removeChild(a),!!c)}()&&!mejs.MediaFeatures.isOpera){var i=!1,j=function(){if(i){for(var a in k)k[a].hide();g.css("pointer-events",""),f.controls.css("pointer-events",""),f.media.removeEventListener("click",f.clickToPlayPauseCallback),i=!1}},k={};c=["top","left","right","bottom"];var l,m=function(){var a=g.offset().left-f.container.offset().left,b=g.offset().top-f.container.offset().top,c=g.outerWidth(!0),d=g.outerHeight(!0),e=f.container.width(),h=f.container.height();for(l in k)k[l].css({position:"absolute",top:0,left:0});k.top.width(e).height(b),k.left.width(a).height(d).css({top:b}),k.right.width(e-a-c).height(d).css({top:b,left:a+c}),k.bottom.width(e).height(h-d-b).css({top:b+d})};for(f.globalBind("resize",function(){m()}),l=0,d=c.length;l<d;l++)k[c[l]]=a('<div class="mejs-fullscreen-hover" />').appendTo(f.container).mouseover(j).hide();g.on("mouseover",function(){if(!f.isFullScreen){var a=g.offset(),c=b.container.offset();e.positionFullscreenButton(a.left-c.left,a.top-c.top,!1),g.css("pointer-events","none"),f.controls.css("pointer-events","none"),f.media.addEventListener("click",f.clickToPlayPauseCallback);for(l in k)k[l].show();m(),i=!0}}),e.addEventListener("fullscreenchange",function(){f.isFullScreen=!f.isFullScreen,f.isFullScreen?f.media.removeEventListener("click",f.clickToPlayPauseCallback):f.media.addEventListener("click",f.clickToPlayPauseCallback),j()}),f.globalBind("mousemove",function(a){if(i){var b=g.offset();(a.pageY<b.top||a.pageY>b.top+g.outerHeight(!0)||a.pageX<b.left||a.pageX>b.left+g.outerWidth(!0))&&(g.css("pointer-events",""),f.controls.css("pointer-events",""),i=!1)}})}else g.on("mouseover",function(){null!==h&&(clearTimeout(h),delete h);var a=g.offset(),c=b.container.offset();e.positionFullscreenButton(a.left-c.left,a.top-c.top,!0)}).on("mouseout",function(){null!==h&&(clearTimeout(h),delete h),h=setTimeout(function(){e.hideFullscreenButton()},1500)})}b.fullscreenBtn=g,f.globalBind("keydown",function(a){(mejs.MediaFeatures.hasTrueNativeFullScreen&&mejs.MediaFeatures.isFullScreen()||f.isFullScreen)&&27==a.keyCode&&b.exitFullScreen()})}},cleanfullscreen:function(a){a.exitFullScreen()},containerSizeTimeout:null,enterFullScreen:function(){var b=this;if("native"===b.media.pluginType||!mejs.MediaFeatures.isFirefox&&!b.options.usePluginFullScreen){if(a(document.documentElement).addClass("mejs-fullscreen"),normalHeight=b.container.height(),normalWidth=b.container.width(),"native"===b.media.pluginType)if(mejs.MediaFeatures.hasTrueNativeFullScreen)mejs.MediaFeatures.requestFullScreen(b.container[0]),b.isInIframe&&setTimeout(function d(){if(b.isNativeFullScreen){var c=(window.devicePixelRatio||1)*a(window).width(),e=screen.width;Math.abs(e-c)>.002*e?b.exitFullScreen():setTimeout(d,500)}},500);else if(mejs.MediaFeatures.hasSemiNativeFullScreen)return void b.media.webkitEnterFullscreen();if(b.isInIframe){var c=b.options.newWindowCallback(this);if(""!==c){if(!mejs.MediaFeatures.hasTrueNativeFullScreen)return b.pause(),void window.open(c,b.id,"top=0,left=0,width="+screen.availWidth+",height="+screen.availHeight+",resizable=yes,scrollbars=no,status=no,toolbar=no");setTimeout(function(){b.isNativeFullScreen||(b.pause(),window.open(c,b.id,"top=0,left=0,width="+screen.availWidth+",height="+screen.availHeight+",resizable=yes,scrollbars=no,status=no,toolbar=no"))},250)}}b.container.addClass("mejs-container-fullscreen").width("100%").height("100%"),b.containerSizeTimeout=setTimeout(function(){b.container.css({width:"100%",height:"100%"}),b.setControlsSize()},500),"native"===b.media.pluginType?b.$media.width("100%").height("100%"):(b.container.find(".mejs-shim").width("100%").height("100%"),b.media.setVideoSize(a(window).width(),a(window).height())),b.layers.children("div").width("100%").height("100%"),b.fullscreenBtn&&b.fullscreenBtn.removeClass("mejs-fullscreen").addClass("mejs-unfullscreen"),b.setControlsSize(),b.isFullScreen=!0}},exitFullScreen:function(){clearTimeout(this.containerSizeTimeout),"native"!==this.media.pluginType&&mejs.MediaFeatures.isFirefox?this.media.setFullscreen(!1):(mejs.MediaFeatures.hasTrueNativeFullScreen&&(mejs.MediaFeatures.isFullScreen()||this.isFullScreen)&&mejs.MediaFeatures.cancelFullScreen(),a(document.documentElement).removeClass("mejs-fullscreen"),this.container.removeClass("mejs-container-fullscreen").width(normalWidth).height(normalHeight),"native"===this.media.pluginType?this.$media.width(normalWidth).height(normalHeight):(this.container.find(".mejs-shim").width(normalWidth).height(normalHeight),this.media.setVideoSize(normalWidth,normalHeight)),this.layers.children("div").width(normalWidth).height(normalHeight),this.fullscreenBtn.removeClass("mejs-unfullscreen").addClass("mejs-fullscreen"),this.setControlsSize(),this.isFullScreen=!1)}})}(mejs.$),function(a){a.extend(mejs.MepDefaults,{startLanguage:"",tracksText:mejs.i18n.t("Captions/Subtitles"),hideCaptionsButtonWhenEmpty:!0,toggleCaptionsButtonWhenOnlyOne:!1,slidesSelector:""}),a.extend(MediaElementPlayer.prototype,{hasChapters:!1,buildtracks:function(b,c,d,e){if(0!=b.tracks.length){var f;if(this.domNode.textTracks)for(f=this.domNode.textTracks.length-1;f>=0;f--)this.domNode.textTracks[f].mode="hidden";for(b.chapters=a('<div class="mejs-chapters mejs-layer"></div>').prependTo(d).hide(),b.captions=a('<div class="mejs-captions-layer mejs-layer"><div class="mejs-captions-position mejs-captions-position-hover"><span class="mejs-captions-text"></span></div></div>').prependTo(d).hide(),b.captionsText=b.captions.find(".mejs-captions-text"),b.captionsButton=a('<div class="mejs-button mejs-captions-button"><button type="button" aria-controls="'+this.id+'" title="'+this.options.tracksText+'" aria-label="'+this.options.tracksText+'"></button><div class="mejs-captions-selector"><ul><li><input type="radio" name="'+b.id+'_captions" id="'+b.id+'_captions_none" value="none" checked="checked" /><label for="'+b.id+'_captions_none">'+mejs.i18n.t("None")+"</label></li></ul></div></div>").appendTo(c),f=c=0;f<b.tracks.length;f++)"subtitles"==b.tracks[f].kind&&c++;for(this.options.toggleCaptionsButtonWhenOnlyOne&&1==c?b.captionsButton.on("click",function(){b.setTrack(null==b.selectedTrack?b.tracks[0].srclang:"none")}):b.captionsButton.hover(function(){a(this).find(".mejs-captions-selector").css("visibility","visible")},function(){a(this).find(".mejs-captions-selector").css("visibility","hidden")}).on("click","input[type=radio]",function(){lang=this.value,b.setTrack(lang)}),b.options.alwaysShowControls?b.container.find(".mejs-captions-position").addClass("mejs-captions-position-hover"):b.container.bind("controlsshown",function(){b.container.find(".mejs-captions-position").addClass("mejs-captions-position-hover")}).bind("controlshidden",function(){e.paused||b.container.find(".mejs-captions-position").removeClass("mejs-captions-position-hover")}),b.trackToLoad=-1,b.selectedTrack=null,b.isLoadingTrack=!1,f=0;f<b.tracks.length;f++)"subtitles"==b.tracks[f].kind&&b.addTrackButton(b.tracks[f].srclang,b.tracks[f].label);b.loadNextTrack(),e.addEventListener("timeupdate",function(){b.displayCaptions()},!1),""!=b.options.slidesSelector&&(b.slidesContainer=a(b.options.slidesSelector),e.addEventListener("timeupdate",function(){b.displaySlides()},!1)),e.addEventListener("loadedmetadata",function(){b.displayChapters()},!1),b.container.hover(function(){b.hasChapters&&(b.chapters.css("visibility","visible"),b.chapters.fadeIn(200).height(b.chapters.find(".mejs-chapter").outerHeight()))},function(){b.hasChapters&&!e.paused&&b.chapters.fadeOut(200,function(){a(this).css("visibility","hidden"),a(this).css("display","block")})}),null!==b.node.getAttribute("autoplay")&&b.chapters.css("visibility","hidden")}},setTrack:function(a){var b;if("none"==a)this.selectedTrack=null,this.captionsButton.removeClass("mejs-captions-enabled");else for(b=0;b<this.tracks.length;b++)if(this.tracks[b].srclang==a){null==this.selectedTrack&&this.captionsButton.addClass("mejs-captions-enabled"),this.selectedTrack=this.tracks[b],this.captions.attr("lang",this.selectedTrack.srclang),this.displayCaptions();break}},loadNextTrack:function(){this.trackToLoad++,this.trackToLoad<this.tracks.length?(this.isLoadingTrack=!0,this.loadTrack(this.trackToLoad)):(this.isLoadingTrack=!1,this.checkForTracks())},loadTrack:function(b){var c=this,d=c.tracks[b];a.ajax({url:d.src,dataType:"text",success:function(a){d.entries="string"==typeof a&&/<tt\s+xml/gi.exec(a)?mejs.TrackFormatParser.dfxp.parse(a):mejs.TrackFormatParser.webvvt.parse(a),d.isLoaded=!0,c.enableTrackButton(d.srclang,d.label),c.loadNextTrack(),"chapters"==d.kind&&c.media.addEventListener("play",function(){c.media.duration>0&&c.displayChapters(d)},!1),"slides"==d.kind&&c.setupSlides(d)},error:function(){c.loadNextTrack()}})},enableTrackButton:function(b,c){""===c&&(c=mejs.language.codes[b]||b),this.captionsButton.find("input[value="+b+"]").prop("disabled",!1).siblings("label").html(c),this.options.startLanguage==b&&a("#"+this.id+"_captions_"+b).click(),this.adjustLanguageBox()},addTrackButton:function(b,c){""===c&&(c=mejs.language.codes[b]||b),this.captionsButton.find("ul").append(a('<li><input type="radio" name="'+this.id+'_captions" id="'+this.id+"_captions_"+b+'" value="'+b+'" disabled="disabled" /><label for="'+this.id+"_captions_"+b+'">'+c+" (loading)</label></li>")),this.adjustLanguageBox(),this.container.find(".mejs-captions-translations option[value="+b+"]").remove()},adjustLanguageBox:function(){this.captionsButton.find(".mejs-captions-selector").height(this.captionsButton.find(".mejs-captions-selector ul").outerHeight(!0)+this.captionsButton.find(".mejs-captions-translations").outerHeight(!0))},checkForTracks:function(){var a=!1;if(this.options.hideCaptionsButtonWhenEmpty){for(i=0;i<this.tracks.length;i++)if("subtitles"==this.tracks[i].kind){a=!0;break}a||(this.captionsButton.hide(),this.setControlsSize())}},displayCaptions:function(){if(void 0!==this.tracks){var a,b=this.selectedTrack;if(null!=b&&b.isLoaded)for(a=0;a<b.entries.times.length;a++)if(this.media.currentTime>=b.entries.times[a].start&&this.media.currentTime<=b.entries.times[a].stop)return this.captionsText.html(b.entries.text[a]),void this.captions.show().height(0);this.captions.hide()}},setupSlides:function(a){this.slides=a,this.slides.entries.imgs=[this.slides.entries.text.length],this.showSlide(0)},showSlide:function(b){if(void 0!==this.tracks&&void 0!==this.slidesContainer){var c=this,d=c.slides.entries.text[b],e=c.slides.entries.imgs[b];void 0===e||void 0===e.fadeIn?c.slides.entries.imgs[b]=e=a('<img src="'+d+'">').on("load",function(){e.appendTo(c.slidesContainer).hide().fadeIn().siblings(":visible").fadeOut()}):!e.is(":visible")&&!e.is(":animated")&&e.fadeIn().siblings(":visible").fadeOut()}},displaySlides:function(){if(void 0!==this.slides){var a,b=this.slides;for(a=0;a<b.entries.times.length;a++)if(this.media.currentTime>=b.entries.times[a].start&&this.media.currentTime<=b.entries.times[a].stop){this.showSlide(a);break}}},displayChapters:function(){var a;for(a=0;a<this.tracks.length;a++)if("chapters"==this.tracks[a].kind&&this.tracks[a].isLoaded){this.drawChapters(this.tracks[a]),this.hasChapters=!0;break}},drawChapters:function(b){var c,d,e=this,f=d=0;for(e.chapters.empty(),c=0;c<b.entries.times.length;c++)d=b.entries.times[c].stop-b.entries.times[c].start,d=Math.floor(d/e.media.duration*100),(d+f>100||c==b.entries.times.length-1&&d+f<100)&&(d=100-f),e.chapters.append(a('<div class="mejs-chapter" rel="'+b.entries.times[c].start+'" style="left: '+f+"%;width: "+d+'%;"><div class="mejs-chapter-block'+(c==b.entries.times.length-1?" mejs-chapter-block-last":"")+'"><span class="ch-title">'+b.entries.text[c]+'</span><span class="ch-time">'+mejs.Utility.secondsToTimeCode(b.entries.times[c].start)+"&ndash;"+mejs.Utility.secondsToTimeCode(b.entries.times[c].stop)+"</span></div></div>")),f+=d;e.chapters.find("div.mejs-chapter").click(function(){e.media.setCurrentTime(parseFloat(a(this).attr("rel"))),e.media.paused&&e.media.play()}),e.chapters.show()}}),mejs.language={codes:{af:"Afrikaans",sq:"Albanian",ar:"Arabic",be:"Belarusian",bg:"Bulgarian",ca:"Catalan",zh:"Chinese","zh-cn":"Chinese Simplified","zh-tw":"Chinese Traditional",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch",en:"English",et:"Estonian",tl:"Filipino",fi:"Finnish",fr:"French",gl:"Galician",de:"German",el:"Greek",ht:"Haitian Creole",iw:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",ga:"Irish",it:"Italian",ja:"Japanese",ko:"Korean",lv:"Latvian",lt:"Lithuanian",mk:"Macedonian",ms:"Malay",mt:"Maltese",no:"Norwegian",fa:"Persian",pl:"Polish",pt:"Portuguese",ro:"Romanian",ru:"Russian",sr:"Serbian",sk:"Slovak",sl:"Slovenian",es:"Spanish",sw:"Swahili",sv:"Swedish",tl:"Tagalog",th:"Thai",tr:"Turkish",uk:"Ukrainian",vi:"Vietnamese",cy:"Welsh",yi:"Yiddish"}},mejs.TrackFormatParser={webvvt:{pattern_identifier:/^([a-zA-z]+-)?[0-9]+$/,pattern_timecode:/^([0-9]{2}:[0-9]{2}:[0-9]{2}([,.][0-9]{1,3})?) --\> ([0-9]{2}:[0-9]{2}:[0-9]{2}([,.][0-9]{3})?)(.*)$/,parse:function(b){var c=0;b=mejs.TrackFormatParser.split2(b,/\r?\n/);for(var d,e,f={text:[],times:[]};c<b.length;c++)if(this.pattern_identifier.exec(b[c])&&(c++,(d=this.pattern_timecode.exec(b[c]))&&c<b.length)){for(c++,e=b[c],c++;""!==b[c]&&c<b.length;)e=e+"\n"+b[c],c++;e=a.trim(e).replace(/(\b(https?|ftp|file):\/\/[-A-Z0-9+&@#\/%?=~_|!:,.;]*[-A-Z0-9+&@#\/%=~_|])/gi,"<a href='$1' target='_blank'>$1</a>"),f.text.push(e),f.times.push({start:0==mejs.Utility.convertSMPTEtoSeconds(d[1])?.2:mejs.Utility.convertSMPTEtoSeconds(d[1]),stop:mejs.Utility.convertSMPTEtoSeconds(d[3]),settings:d[5]})}return f}},dfxp:{parse:function(b){b=a(b).filter("tt");var c=0;c=b.children("div").eq(0);var d=c.find("p");c=b.find("#"+c.attr("style"));var e,f;if(b={text:[],times:[]},c.length&&(f=c.removeAttr("id").get(0).attributes,f.length))for(e={},c=0;c<f.length;c++)e[f[c].name.split(":")[1]]=f[c].value;for(c=0;c<d.length;c++){var g;if(f={start:null,stop:null,style:null},d.eq(c).attr("begin")&&(f.start=mejs.Utility.convertSMPTEtoSeconds(d.eq(c).attr("begin"))),!f.start&&d.eq(c-1).attr("end")&&(f.start=mejs.Utility.convertSMPTEtoSeconds(d.eq(c-1).attr("end"))),d.eq(c).attr("end")&&(f.stop=mejs.Utility.convertSMPTEtoSeconds(d.eq(c).attr("end"))),!f.stop&&d.eq(c+1).attr("begin")&&(f.stop=mejs.Utility.convertSMPTEtoSeconds(d.eq(c+1).attr("begin"))),e){g="";for(var h in e)g+=h+":"+e[h]+";"}g&&(f.style=g),0==f.start&&(f.start=.2),b.times.push(f),f=a.trim(d.eq(c).html()).replace(/(\b(https?|ftp|file):\/\/[-A-Z0-9+&@#\/%?=~_|!:,.;]*[-A-Z0-9+&@#\/%=~_|])/gi,"<a href='$1' target='_blank'>$1</a>"),b.text.push(f),0==b.times.start&&(b.times.start=2)}return b}},split2:function(a,b){return a.split(b)}},3!="x\n\ny".split(/\n/gi).length&&(mejs.TrackFormatParser.split2=function(a,b){var c,d=[],e="";for(c=0;c<a.length;c++)e+=a.substring(c,c+1),b.test(e)&&(d.push(e.replace(b,"")),e="");return d.push(e),d})}(mejs.$),function(a){a.extend(mejs.MepDefaults,{contextMenuItems:[{render:function(a){return void 0===a.enterFullScreen?null:a.isFullScreen?mejs.i18n.t("Turn off Fullscreen"):mejs.i18n.t("Go Fullscreen")},click:function(a){a.isFullScreen?a.exitFullScreen():a.enterFullScreen()}},{render:function(a){return a.media.muted?mejs.i18n.t("Unmute"):mejs.i18n.t("Mute")},click:function(a){a.media.muted?a.setMuted(!1):a.setMuted(!0)}},{isSeparator:!0},{render:function(){return mejs.i18n.t("Download Video")},click:function(a){window.location.href=a.media.currentSrc}}]}),a.extend(MediaElementPlayer.prototype,{buildcontextmenu:function(b){b.contextMenu=a('<div class="mejs-contextmenu"></div>').appendTo(a("body")).hide(),b.container.bind("contextmenu",function(a){if(b.isContextMenuEnabled)return a.preventDefault(),b.renderContextMenu(a.clientX-1,a.clientY-1),!1}),b.container.bind("click",function(){b.contextMenu.hide()}),b.contextMenu.bind("mouseleave",function(){b.startContextMenuTimer()})},cleancontextmenu:function(a){a.contextMenu.remove()},isContextMenuEnabled:!0,enableContextMenu:function(){this.isContextMenuEnabled=!0},disableContextMenu:function(){this.isContextMenuEnabled=!1},contextMenuTimeout:null,startContextMenuTimer:function(){var a=this;a.killContextMenuTimer(),a.contextMenuTimer=setTimeout(function(){a.hideContextMenu(),a.killContextMenuTimer()},750)},killContextMenuTimer:function(){var a=this.contextMenuTimer;null!=a&&(clearTimeout(a),delete a)},hideContextMenu:function(){this.contextMenu.hide()},renderContextMenu:function(b,c){for(var d=this,e="",f=d.options.contextMenuItems,g=0,h=f.length;g<h;g++)if(f[g].isSeparator)e+='<div class="mejs-contextmenu-separator"></div>';else{var i=f[g].render(d);null!=i&&(e+='<div class="mejs-contextmenu-item" data-itemindex="'+g+'" id="element-'+1e6*Math.random()+'">'+i+"</div>")}d.contextMenu.empty().append(a(e)).css({top:c,left:b}).show(),d.contextMenu.find(".mejs-contextmenu-item").each(function(){var b=a(this),c=parseInt(b.data("itemindex"),10),e=d.options.contextMenuItems[c];void 0!==e.show&&e.show(b,d),b.click(function(){void 0!==e.click&&e.click(d),d.contextMenu.hide()})}),setTimeout(function(){d.killControlsTimer("rev3")},100)}})}(mejs.$),function(a){a.extend(mejs.MepDefaults,{postrollCloseText:mejs.i18n.t("Close")}),a.extend(MediaElementPlayer.prototype,{buildpostroll:function(b,c,d){var e=this.container.find('link[rel="postroll"]').attr("href");void 0!==e&&(b.postroll=a('<div class="mejs-postroll-layer mejs-layer"><a class="mejs-postroll-close" onclick="$(this).parent().hide();return false;">'+this.options.postrollCloseText+'</a><div class="mejs-postroll-layer-content"></div></div>').prependTo(d).hide(),this.media.addEventListener("ended",function(){a.ajax({dataType:"html",url:e,success:function(a){d.find(".mejs-postroll-layer-content").html(a)}}),b.postroll.show()},!1))}})}(mejs.$),function(){function a(){this.Diff_Timeout=1,this.Diff_EditCost=4,this.Match_Threshold=.5,this.Match_Distance=1e3,this.Patch_DeleteThreshold=.5,this.Patch_Margin=4,this.Match_MaxBits=32}a.prototype.diff_main=function(a,b,c,d){if(void 0===d&&(d=0>=this.Diff_Timeout?Number.MAX_VALUE:(new Date).getTime()+1e3*this.Diff_Timeout),null==a||null==b)throw Error("Null input. (diff_main)");if(a==b)return a?[[0,a]]:[];void 0===c&&(c=!0);var e=c,f=this.diff_commonPrefix(a,b);c=a.substring(0,f),a=a.substring(f),b=b.substring(f);var f=this.diff_commonSuffix(a,b),g=a.substring(a.length-f);return a=a.substring(0,a.length-f),b=b.substring(0,b.length-f),a=this.diff_compute_(a,b,e,d),c&&a.unshift([0,c]),g&&a.push([0,g]),this.diff_cleanupMerge(a),a},a.prototype.diff_compute_=function(a,b,c,d){if(!a)return[[1,b]];if(!b)return[[-1,a]];var e=a.length>b.length?a:b,f=a.length>b.length?b:a,g=e.indexOf(f);return-1!=g?(c=[[1,e.substring(0,g)],[0,f],[1,e.substring(g+f.length)]],a.length>b.length&&(c[0][0]=c[2][0]=-1),c):1==f.length?[[-1,a],[1,b]]:(e=this.diff_halfMatch_(a,b))?(f=e[0],a=e[1],g=e[2],b=e[3],e=e[4],f=this.diff_main(f,g,c,d),c=this.diff_main(a,b,c,d),f.concat([[0,e]],c)):c&&100<a.length&&100<b.length?this.diff_lineMode_(a,b,d):this.diff_bisect_(a,b,d)},a.prototype.diff_lineMode_=function(a,b,c){var d=this.diff_linesToChars_(a,b);a=d.chars1,b=d.chars2,d=d.lineArray,a=this.diff_main(a,b,!1,c),this.diff_charsToLines_(a,d),this.diff_cleanupSemantic(a),a.push([0,""]);for(var e=d=b=0,f="",g="";b<a.length;){switch(a[b][0]){case 1:e++,g+=a[b][1];break;case-1:d++,f+=a[b][1];break;case 0:if(1<=d&&1<=e){for(a.splice(b-d-e,d+e),b=b-d-e,d=this.diff_main(f,g,!1,c),e=d.length-1;0<=e;e--)a.splice(b,0,d[e]);b+=d.length}d=e=0,g=f=""}b++}return a.pop(),a},a.prototype.diff_bisect_=function(a,b,c){for(var d=a.length,e=b.length,f=Math.ceil((d+e)/2),g=f,h=2*f,i=Array(h),j=Array(h),k=0;k<h;k++)i[k]=-1,j[k]=-1;i[g+1]=0,j[g+1]=0;for(var k=d-e,l=0!=k%2,m=0,n=0,o=0,p=0,q=0;q<f&&!((new Date).getTime()>c);q++){for(var r=-q+m;r<=q-n;r+=2){var s,t=g+r;s=r==-q||r!=q&&i[t-1]<i[t+1]?i[t+1]:i[t-1]+1;for(var u=s-r;s<d&&u<e&&a.charAt(s)==b.charAt(u);)s++,u++;if(i[t]=s,s>d)n+=2;else if(u>e)m+=2;else if(l&&(t=g+k-r,0<=t&&t<h&&-1!=j[t])){var v=d-j[t];if(s>=v)return this.diff_bisectSplit_(a,b,s,u,c)}}for(r=-q+o;r<=q-p;r+=2){for(t=g+r,v=r==-q||r!=q&&j[t-1]<j[t+1]?j[t+1]:j[t-1]+1,s=v-r;v<d&&s<e&&a.charAt(d-v-1)==b.charAt(e-s-1);)v++,s++;if(j[t]=v,v>d)p+=2;else if(s>e)o+=2;else if(!l&&(t=g+k-r,0<=t&&t<h&&-1!=i[t]&&(s=i[t],u=g+s-t,v=d-v,s>=v)))return this.diff_bisectSplit_(a,b,s,u,c)}}return[[-1,a],[1,b]]},a.prototype.diff_bisectSplit_=function(a,b,c,d,e){var f=a.substring(0,c),g=b.substring(0,d);return a=a.substring(c),b=b.substring(d),f=this.diff_main(f,g,!1,e),e=this.diff_main(a,b,!1,e),f.concat(e)},a.prototype.diff_linesToChars_=function(a,b){function c(a){for(var b="",c=0,f=-1,g=d.length;f<a.length-1;){f=a.indexOf("\n",c),-1==f&&(f=a.length-1);var h=a.substring(c,f+1),c=f+1;(e.hasOwnProperty?e.hasOwnProperty(h):void 0!==e[h])?b+=String.fromCharCode(e[h]):(b+=String.fromCharCode(g),e[h]=g,d[g++]=h)}return b}var d=[],e={};d[0]="";var f=c(a),g=c(b);return{chars1:f,chars2:g,lineArray:d}},a.prototype.diff_charsToLines_=function(a,b){for(var c=0;c<a.length;c++){for(var d=a[c][1],e=[],f=0;f<d.length;f++)e[f]=b[d.charCodeAt(f)];a[c][1]=e.join("")}},a.prototype.diff_commonPrefix=function(a,b){if(!a||!b||a.charAt(0)!=b.charAt(0))return 0;for(var c=0,d=Math.min(a.length,b.length),e=d,f=0;c<e;)a.substring(f,e)==b.substring(f,e)?f=c=e:d=e,e=Math.floor((d-c)/2+c);return e},a.prototype.diff_commonSuffix=function(a,b){if(!a||!b||a.charAt(a.length-1)!=b.charAt(b.length-1))return 0;for(var c=0,d=Math.min(a.length,b.length),e=d,f=0;c<e;)a.substring(a.length-e,a.length-f)==b.substring(b.length-e,b.length-f)?f=c=e:d=e,e=Math.floor((d-c)/2+c);return e},a.prototype.diff_commonOverlap_=function(a,b){var c=a.length,d=b.length;if(0==c||0==d)return 0;if(c>d?a=a.substring(c-d):c<d&&(b=b.substring(0,c)),c=Math.min(c,d),a==b)return c;for(var d=0,e=1;;){var f=a.substring(c-e),f=b.indexOf(f);if(-1==f)return d;e+=f,0!=f&&a.substring(c-e)!=b.substring(0,e)||(d=e,e++)}},a.prototype.diff_halfMatch_=function(a,b){function c(a,b,c){for(var d,e,f,h,i=a.substring(c,c+Math.floor(a.length/4)),j=-1,k="";-1!=(j=b.indexOf(i,j+1));){var l=g.diff_commonPrefix(a.substring(c),b.substring(j)),m=g.diff_commonSuffix(a.substring(0,c),b.substring(0,j));k.length<m+l&&(k=b.substring(j-m,j)+b.substring(j,j+l),d=a.substring(0,c-m),e=a.substring(c+l),f=b.substring(0,j-m),h=b.substring(j+l))}return 2*k.length>=a.length?[d,e,f,h,k]:null}if(0>=this.Diff_Timeout)return null;var d=a.length>b.length?a:b,e=a.length>b.length?b:a;if(4>d.length||2*e.length<d.length)return null;var f,g=this,h=c(d,e,Math.ceil(d.length/4)),d=c(d,e,Math.ceil(d.length/2));if(!h&&!d)return null;f=d?h&&h[4].length>d[4].length?h:d:h;var i;return a.length>b.length?(h=f[0],d=f[1],e=f[2],i=f[3]):(e=f[0],i=f[1],h=f[2],d=f[3]),f=f[4],[h,d,e,i,f]},a.prototype.diff_cleanupSemantic=function(a){for(var b=!1,c=[],d=0,e=null,f=0,g=0,h=0,i=0,j=0;f<a.length;)0==a[f][0]?(c[d++]=f,g=i,h=j,j=i=0,e=a[f][1]):(1==a[f][0]?i+=a[f][1].length:j+=a[f][1].length,e&&e.length<=Math.max(g,h)&&e.length<=Math.max(i,j)&&(a.splice(c[d-1],0,[-1,e]),a[c[d-1]+1][0]=1,d--,d--,f=0<d?c[d-1]:-1,j=i=h=g=0,e=null,b=!0)),f++;for(b&&this.diff_cleanupMerge(a),this.diff_cleanupSemanticLossless(a),f=1;f<a.length;)-1==a[f-1][0]&&1==a[f][0]&&(b=a[f-1][1],c=a[f][1],d=this.diff_commonOverlap_(b,c),e=this.diff_commonOverlap_(c,b),d>=e?(d>=b.length/2||d>=c.length/2)&&(a.splice(f,0,[0,c.substring(0,d)]),a[f-1][1]=b.substring(0,b.length-d),a[f+1][1]=c.substring(d),f++):(e>=b.length/2||e>=c.length/2)&&(a.splice(f,0,[0,b.substring(0,e)]),a[f-1][0]=1,a[f-1][1]=c.substring(0,c.length-e),a[f+1][0]=-1,a[f+1][1]=b.substring(e),f++),f++),f++},a.prototype.diff_cleanupSemanticLossless=function(b){function c(b,c){if(!b||!c)return 6;var d=b.charAt(b.length-1),e=c.charAt(0),f=d.match(a.nonAlphaNumericRegex_),g=e.match(a.nonAlphaNumericRegex_),h=f&&d.match(a.whitespaceRegex_),i=g&&e.match(a.whitespaceRegex_),d=h&&d.match(a.linebreakRegex_),e=i&&e.match(a.linebreakRegex_),j=d&&b.match(a.blanklineEndRegex_),k=e&&c.match(a.blanklineStartRegex_);return j||k?5:d||e?4:f&&!h&&i?3:h||i?2:f||g?1:0}for(var d=1;d<b.length-1;){if(0==b[d-1][0]&&0==b[d+1][0]){var e=b[d-1][1],f=b[d][1],g=b[d+1][1],h=this.diff_commonSuffix(e,f);if(h)var i=f.substring(f.length-h),e=e.substring(0,e.length-h),f=i+f.substring(0,f.length-h),g=i+g;for(var h=e,i=f,j=g,k=c(e,f)+c(f,g);f.charAt(0)===g.charAt(0);){var e=e+f.charAt(0),f=f.substring(1)+g.charAt(0),g=g.substring(1),l=c(e,f)+c(f,g);l>=k&&(k=l,h=e,i=f,j=g)}b[d-1][1]!=h&&(h?b[d-1][1]=h:(b.splice(d-1,1),d--),b[d][1]=i,j?b[d+1][1]=j:(b.splice(d+1,1),d--))}d++}},a.nonAlphaNumericRegex_=/[^a-zA-Z0-9]/,a.whitespaceRegex_=/\s/,a.linebreakRegex_=/[\r\n]/,a.blanklineEndRegex_=/\n\r?\n$/,a.blanklineStartRegex_=/^\r?\n\r?\n/,a.prototype.diff_cleanupEfficiency=function(a){for(var b=!1,c=[],d=0,e=null,f=0,g=!1,h=!1,i=!1,j=!1;f<a.length;)0==a[f][0]?(a[f][1].length<this.Diff_EditCost&&(i||j)?(c[d++]=f,g=i,h=j,e=a[f][1]):(d=0,e=null),i=j=!1):(-1==a[f][0]?j=!0:i=!0,e&&(g&&h&&i&&j||e.length<this.Diff_EditCost/2&&3==g+h+i+j)&&(a.splice(c[d-1],0,[-1,e]),a[c[d-1]+1][0]=1,d--,e=null,g&&h?(i=j=!0,d=0):(d--,f=0<d?c[d-1]:-1,i=j=!1),b=!0)),f++;b&&this.diff_cleanupMerge(a)},a.prototype.diff_cleanupMerge=function(a){a.push([0,""]);for(var b,c=0,d=0,e=0,f="",g="";c<a.length;)switch(a[c][0]){case 1:e++,g+=a[c][1],c++;break;case-1:d++,f+=a[c][1],c++;break;case 0:1<d+e?(0!==d&&0!==e&&(b=this.diff_commonPrefix(g,f),0!==b&&(0<c-d-e&&0==a[c-d-e-1][0]?a[c-d-e-1][1]+=g.substring(0,b):(a.splice(0,0,[0,g.substring(0,b)]),c++),g=g.substring(b),f=f.substring(b)),b=this.diff_commonSuffix(g,f),0!==b&&(a[c][1]=g.substring(g.length-b)+a[c][1],g=g.substring(0,g.length-b),f=f.substring(0,f.length-b))),0===d?a.splice(c-e,d+e,[1,g]):0===e?a.splice(c-d,d+e,[-1,f]):a.splice(c-d-e,d+e,[-1,f],[1,g]),c=c-d-e+(d?1:0)+(e?1:0)+1):0!==c&&0==a[c-1][0]?(a[c-1][1]+=a[c][1],a.splice(c,1)):c++,d=e=0,g=f=""}for(""===a[a.length-1][1]&&a.pop(),d=!1,c=1;c<a.length-1;)0==a[c-1][0]&&0==a[c+1][0]&&(a[c][1].substring(a[c][1].length-a[c-1][1].length)==a[c-1][1]?(a[c][1]=a[c-1][1]+a[c][1].substring(0,a[c][1].length-a[c-1][1].length),a[c+1][1]=a[c-1][1]+a[c+1][1],a.splice(c-1,1),d=!0):a[c][1].substring(0,a[c+1][1].length)==a[c+1][1]&&(a[c-1][1]+=a[c+1][1],a[c][1]=a[c][1].substring(a[c+1][1].length)+a[c+1][1],a.splice(c+1,1),d=!0)),c++;d&&this.diff_cleanupMerge(a)},a.prototype.diff_xIndex=function(a,b){var c,d=0,e=0,f=0,g=0;for(c=0;c<a.length&&(1!==a[c][0]&&(d+=a[c][1].length),-1!==a[c][0]&&(e+=a[c][1].length),!(d>b));c++)f=d,g=e;return a.length!=c&&-1===a[c][0]?g:g+(b-f)},a.prototype.diff_prettyHtml=function(a){for(var b=[],c=/&/g,d=/</g,e=/>/g,f=/\n/g,g=0;g<a.length;g++){var h=a[g][0],i=a[g][1],i=i.replace(c,"&amp;").replace(d,"&lt;").replace(e,"&gt;").replace(f,"&para;<br>");switch(h){case 1:b[g]='<ins style="background:#e6ffe6;">'+i+"</ins>";break;case-1:b[g]='<del style="background:#ffe6e6;">'+i+"</del>";break;case 0:b[g]="<span>"+i+"</span>"}}return b.join("")},a.prototype.diff_text1=function(a){for(var b=[],c=0;c<a.length;c++)1!==a[c][0]&&(b[c]=a[c][1]);return b.join("")},a.prototype.diff_text2=function(a){for(var b=[],c=0;c<a.length;c++)-1!==a[c][0]&&(b[c]=a[c][1]);return b.join("")},a.prototype.diff_levenshtein=function(a){for(var b=0,c=0,d=0,e=0;e<a.length;e++){
var f=a[e][0],g=a[e][1];switch(f){case 1:c+=g.length;break;case-1:d+=g.length;break;case 0:b+=Math.max(c,d),d=c=0}}return b+=Math.max(c,d)},a.prototype.diff_toDelta=function(a){for(var b=[],c=0;c<a.length;c++)switch(a[c][0]){case 1:b[c]="+"+encodeURI(a[c][1]);break;case-1:b[c]="-"+a[c][1].length;break;case 0:b[c]="="+a[c][1].length}return b.join("\t").replace(/%20/g," ")},a.prototype.diff_fromDelta=function(a,b){for(var c=[],d=0,e=0,f=b.split(/\t/g),g=0;g<f.length;g++){var h=f[g].substring(1);switch(f[g].charAt(0)){case"+":try{c[d++]=[1,decodeURI(h)]}catch(i){throw Error("Illegal escape in diff_fromDelta: "+h)}break;case"-":case"=":var j=parseInt(h,10);if(isNaN(j)||0>j)throw Error("Invalid number in diff_fromDelta: "+h);h=a.substring(e,e+=j),"="==f[g].charAt(0)?c[d++]=[0,h]:c[d++]=[-1,h];break;default:if(f[g])throw Error("Invalid diff operation in diff_fromDelta: "+f[g])}}if(e!=a.length)throw Error("Delta length ("+e+") does not equal source text length ("+a.length+").");return c},a.prototype.match_main=function(a,b,c){if(null==a||null==b||null==c)throw Error("Null input. (match_main)");return c=Math.max(0,Math.min(c,a.length)),a==b?0:a.length?a.substring(c,c+b.length)==b?c:this.match_bitap_(a,b,c):-1},a.prototype.match_bitap_=function(a,b,c){function d(a,d){var e=a/b.length,g=Math.abs(c-d);return f.Match_Distance?e+g/f.Match_Distance:g?1:e}if(b.length>this.Match_MaxBits)throw Error("Pattern too long for this browser.");var e=this.match_alphabet_(b),f=this,g=this.Match_Threshold,h=a.indexOf(b,c);-1!=h&&(g=Math.min(d(0,h),g),h=a.lastIndexOf(b,c+b.length),-1!=h&&(g=Math.min(d(0,h),g)));for(var i,j,k,l=1<<b.length-1,h=-1,m=b.length+a.length,n=0;n<b.length;n++){for(i=0,j=m;i<j;)d(n,c+j)<=g?i=j:m=j,j=Math.floor((m-i)/2+i);m=j,i=Math.max(1,c-j+1);var o=Math.min(c+j,a.length)+b.length;for(j=Array(o+2),j[o+1]=(1<<n)-1;o>=i;o--){var p=e[a.charAt(o-1)];if(j[o]=0===n?(j[o+1]<<1|1)&p:(j[o+1]<<1|1)&p|((k[o+1]|k[o])<<1|1)|k[o+1],j[o]&l&&(p=d(n,o-1),p<=g)){if(g=p,h=o-1,!(h>c))break;i=Math.max(1,2*c-h)}}if(d(n+1,c)>g)break;k=j}return h},a.prototype.match_alphabet_=function(a){for(var b={},c=0;c<a.length;c++)b[a.charAt(c)]=0;for(c=0;c<a.length;c++)b[a.charAt(c)]|=1<<a.length-c-1;return b},a.prototype.patch_addContext_=function(a,b){if(0!=b.length){for(var c=b.substring(a.start2,a.start2+a.length1),d=0;b.indexOf(c)!=b.lastIndexOf(c)&&c.length<this.Match_MaxBits-this.Patch_Margin-this.Patch_Margin;)d+=this.Patch_Margin,c=b.substring(a.start2-d,a.start2+a.length1+d);d+=this.Patch_Margin,(c=b.substring(a.start2-d,a.start2))&&a.diffs.unshift([0,c]),(d=b.substring(a.start2+a.length1,a.start2+a.length1+d))&&a.diffs.push([0,d]),a.start1-=c.length,a.start2-=c.length,a.length1+=c.length+d.length,a.length2+=c.length+d.length}},a.prototype.patch_make=function(b,c,d){var e;if("string"==typeof b&&"string"==typeof c&&void 0===d)e=b,c=this.diff_main(e,c,!0),2<c.length&&(this.diff_cleanupSemantic(c),this.diff_cleanupEfficiency(c));else if(b&&"object"==typeof b&&void 0===c&&void 0===d)c=b,e=this.diff_text1(c);else if("string"==typeof b&&c&&"object"==typeof c&&void 0===d)e=b;else{if("string"!=typeof b||"string"!=typeof c||!d||"object"!=typeof d)throw Error("Unknown call format to patch_make.");e=b,c=d}if(0===c.length)return[];d=[],b=new a.patch_obj;for(var f=0,g=0,h=0,i=e,j=0;j<c.length;j++){var k=c[j][0],l=c[j][1];switch(!f&&0!==k&&(b.start1=g,b.start2=h),k){case 1:b.diffs[f++]=c[j],b.length2+=l.length,e=e.substring(0,h)+l+e.substring(h);break;case-1:b.length1+=l.length,b.diffs[f++]=c[j],e=e.substring(0,h)+e.substring(h+l.length);break;case 0:l.length<=2*this.Patch_Margin&&f&&c.length!=j+1?(b.diffs[f++]=c[j],b.length1+=l.length,b.length2+=l.length):l.length>=2*this.Patch_Margin&&f&&(this.patch_addContext_(b,i),d.push(b),b=new a.patch_obj,f=0,i=e,g=h)}1!==k&&(g+=l.length),-1!==k&&(h+=l.length)}return f&&(this.patch_addContext_(b,i),d.push(b)),d},a.prototype.patch_deepCopy=function(b){for(var c=[],d=0;d<b.length;d++){var e=b[d],f=new a.patch_obj;f.diffs=[];for(var g=0;g<e.diffs.length;g++)f.diffs[g]=e.diffs[g].slice();f.start1=e.start1,f.start2=e.start2,f.length1=e.length1,f.length2=e.length2,c[d]=f}return c},a.prototype.patch_apply=function(a,b){if(0==a.length)return[b,[]];a=this.patch_deepCopy(a);var c=this.patch_addPadding(a);b=c+b+c,this.patch_splitMax(a);for(var d=0,e=[],f=0;f<a.length;f++){var g,h=a[f].start2+d,i=this.diff_text1(a[f].diffs),j=-1;if(i.length>this.Match_MaxBits?(g=this.match_main(b,i.substring(0,this.Match_MaxBits),h),-1!=g&&(j=this.match_main(b,i.substring(i.length-this.Match_MaxBits),h+i.length-this.Match_MaxBits),-1==j||g>=j)&&(g=-1)):g=this.match_main(b,i,h),-1==g)e[f]=!1,d-=a[f].length2-a[f].length1;else if(e[f]=!0,d=g-h,h=-1==j?b.substring(g,g+i.length):b.substring(g,j+this.Match_MaxBits),i==h)b=b.substring(0,g)+this.diff_text2(a[f].diffs)+b.substring(g+i.length);else if(h=this.diff_main(i,h,!1),i.length>this.Match_MaxBits&&this.diff_levenshtein(h)/i.length>this.Patch_DeleteThreshold)e[f]=!1;else{this.diff_cleanupSemanticLossless(h);for(var k,i=0,j=0;j<a[f].diffs.length;j++){var l=a[f].diffs[j];0!==l[0]&&(k=this.diff_xIndex(h,i)),1===l[0]?b=b.substring(0,g+k)+l[1]+b.substring(g+k):-1===l[0]&&(b=b.substring(0,g+k)+b.substring(g+this.diff_xIndex(h,i+l[1].length))),-1!==l[0]&&(i+=l[1].length)}}}return b=b.substring(c.length,b.length-c.length),[b,e]},a.prototype.patch_addPadding=function(a){for(var b=this.Patch_Margin,c="",d=1;d<=b;d++)c+=String.fromCharCode(d);for(d=0;d<a.length;d++)a[d].start1+=b,a[d].start2+=b;var d=a[0],e=d.diffs;if(0==e.length||0!=e[0][0])e.unshift([0,c]),d.start1-=b,d.start2-=b,d.length1+=b,d.length2+=b;else if(b>e[0][1].length){var f=b-e[0][1].length;e[0][1]=c.substring(e[0][1].length)+e[0][1],d.start1-=f,d.start2-=f,d.length1+=f,d.length2+=f}return d=a[a.length-1],e=d.diffs,0==e.length||0!=e[e.length-1][0]?(e.push([0,c]),d.length1+=b,d.length2+=b):b>e[e.length-1][1].length&&(f=b-e[e.length-1][1].length,e[e.length-1][1]+=c.substring(0,f),d.length1+=f,d.length2+=f),c},a.prototype.patch_splitMax=function(b){for(var c=this.Match_MaxBits,d=0;d<b.length;d++)if(!(b[d].length1<=c)){var e=b[d];b.splice(d--,1);for(var f=e.start1,g=e.start2,h="";0!==e.diffs.length;){var i=new a.patch_obj,j=!0;for(i.start1=f-h.length,i.start2=g-h.length,""!==h&&(i.length1=i.length2=h.length,i.diffs.push([0,h]));0!==e.diffs.length&&i.length1<c-this.Patch_Margin;){var h=e.diffs[0][0],k=e.diffs[0][1];1===h?(i.length2+=k.length,g+=k.length,i.diffs.push(e.diffs.shift()),j=!1):-1===h&&1==i.diffs.length&&0==i.diffs[0][0]&&k.length>2*c?(i.length1+=k.length,f+=k.length,j=!1,i.diffs.push([h,k]),e.diffs.shift()):(k=k.substring(0,c-i.length1-this.Patch_Margin),i.length1+=k.length,f+=k.length,0===h?(i.length2+=k.length,g+=k.length):j=!1,i.diffs.push([h,k]),k==e.diffs[0][1]?e.diffs.shift():e.diffs[0][1]=e.diffs[0][1].substring(k.length))}h=this.diff_text2(i.diffs),h=h.substring(h.length-this.Patch_Margin),k=this.diff_text1(e.diffs).substring(0,this.Patch_Margin),""!==k&&(i.length1+=k.length,i.length2+=k.length,0!==i.diffs.length&&0===i.diffs[i.diffs.length-1][0]?i.diffs[i.diffs.length-1][1]+=k:i.diffs.push([0,k])),j||b.splice(++d,0,i)}}},a.prototype.patch_toText=function(a){for(var b=[],c=0;c<a.length;c++)b[c]=a[c];return b.join("")},a.prototype.patch_fromText=function(b){var c=[];if(!b)return c;b=b.split("\n");for(var d=0,e=/^@@ -(\d+),?(\d*) \+(\d+),?(\d*) @@$/;d<b.length;){var f=b[d].match(e);if(!f)throw Error("Invalid patch string: "+b[d]);var g=new a.patch_obj;for(c.push(g),g.start1=parseInt(f[1],10),""===f[2]?(g.start1--,g.length1=1):"0"==f[2]?g.length1=0:(g.start1--,g.length1=parseInt(f[2],10)),g.start2=parseInt(f[3],10),""===f[4]?(g.start2--,g.length2=1):"0"==f[4]?g.length2=0:(g.start2--,g.length2=parseInt(f[4],10)),d++;d<b.length;){f=b[d].charAt(0);try{var h=decodeURI(b[d].substring(1))}catch(i){throw Error("Illegal escape in patch_fromText: "+h)}if("-"==f)g.diffs.push([-1,h]);else if("+"==f)g.diffs.push([1,h]);else if(" "==f)g.diffs.push([0,h]);else{if("@"==f)break;if(""!==f)throw Error('Invalid patch mode "'+f+'" in: '+h)}d++}}return c},a.patch_obj=function(){this.diffs=[],this.start2=this.start1=null,this.length2=this.length1=0},a.patch_obj.prototype.toString=function(){var a,b;a=0===this.length1?this.start1+",0":1==this.length1?this.start1+1:this.start1+1+","+this.length1,b=0===this.length2?this.start2+",0":1==this.length2?this.start2+1:this.start2+1+","+this.length2,a=["@@ -"+a+" +"+b+" @@\n"];var c;for(b=0;b<this.diffs.length;b++){switch(this.diffs[b][0]){case 1:c="+";break;case-1:c="-";break;case 0:c=" "}a[b+1]=c+encodeURI(this.diffs[b][1])+"\n"}return a.join("").replace(/%20/g," ")},this.diff_match_patch=a,this.DIFF_DELETE=-1,this.DIFF_INSERT=1,this.DIFF_EQUAL=0}(),function(a){function b(a){return"object"==typeof a?a:{top:a,left:a}}var c=a.scrollTo=function(b,c,d){a(window).scrollTo(b,c,d)};c.defaults={axis:"xy",duration:parseFloat(a.fn.jquery)>=1.3?0:1},c.window=function(b){return a(window)._scrollable()},a.fn._scrollable=function(){return this.map(function(){var b=this,c=!b.nodeName||a.inArray(b.nodeName.toLowerCase(),["iframe","#document","html","body"])!=-1;if(!c)return b;var d=(b.contentWindow||b).document||b.ownerDocument||b;return a.browser.safari||"BackCompat"==d.compatMode?d.body:d.documentElement})},a.fn.scrollTo=function(d,e,f){return"object"==typeof e&&(f=e,e=0),"function"==typeof f&&(f={onAfter:f}),"max"==d&&(d=9e9),f=a.extend({},c.defaults,f),e=e||f.speed||f.duration,f.queue=f.queue&&f.axis.length>1,f.queue&&(e/=2),f.offset=b(f.offset),f.over=b(f.over),this._scrollable().each(function(){function g(a){j.animate(l,e,f.easing,a&&function(){a.call(this,d,f)})}var h,i=this,j=a(i),k=d,l={},m=j.is("html,body");switch(typeof k){case"number":case"string":if(/^([+-]=)?\d+(\.\d+)?(px|%)?$/.test(k)){k=b(k);break}k=a(k,this);case"object":(k.is||k.style)&&(h=(k=a(k)).offset())}a.each(f.axis.split(""),function(a,b){var d="x"==b?"Left":"Top",e=d.toLowerCase(),n="scroll"+d,o=i[n],p=c.max(i,b);if(h)l[n]=h[e]+(m?0:o-j.offset()[e]),f.margin&&(l[n]-=parseInt(k.css("margin"+d))||0,l[n]-=parseInt(k.css("border"+d+"Width"))||0),l[n]+=f.offset[e]||0,f.over[e]&&(l[n]+=k["x"==b?"width":"height"]()*f.over[e]);else{var q=k[e];q&&(l[n]=q.slice&&"%"==q.slice(-1)?parseFloat(q)/100*p:q)}/^\d+$/.test(l[n])&&(l[n]=l[n]<=0?0:Math.min(l[n],p)),!a&&f.queue&&(o!=l[n]&&g(f.onAfterFirst),delete l[n])}),g(f.onAfter)}).end()},c.max=function(b,c){var d="x"==c?"Width":"Height",e="scroll"+d;if(!a(b).is("html,body"))return b[e]-a(b)[d.toLowerCase()]();var f="client"+d,g=b.ownerDocument.documentElement,h=b.ownerDocument.body;return Math.max(g[e],h[e])-Math.min(g[f],h[f])}}(jQuery),function(a){"function"==typeof define&&define.amd?define(["jquery"],a):a(jQuery)}(function(b){var g=[],m=b(document),j=navigator.userAgent.toLowerCase(),k=b(window),d=[],n=null,o=/msie/.test(j)&&!/opera/.test(j),p=/opera/.test(j),l,q,r;l=o&&/msie 6./.test(j)&&"object"!=typeof window.XMLHttpRequest,q=o&&/msie 7.0/.test(j),r="CSS1Compat"===document.compatMode,b.smodal=function(a,c){return b.smodal.impl.init(a,c)},b.smodal.close=function(){b.smodal.impl.close()},b.smodal.focus=function(a){b.smodal.impl.focus(a)},b.smodal.setContainerDimensions=function(){b.smodal.impl.setContainerDimensions()},b.smodal.setPosition=function(){b.smodal.impl.setPosition()},b.smodal.update=function(a,c){b.smodal.impl.update(a,c)},b.fn.smodal=function(a){return b.smodal.impl.init(this,a)},b.smodal.defaults={appendTo:"body",focus:!0,opacity:50,overlayId:"simplemodal-overlay",overlayCss:{},containerId:"simplemodal-container",containerCss:{},dataId:"simplemodal-data",dataCss:{},minHeight:null,minWidth:null,maxHeight:null,maxWidth:null,autoResize:!1,autoPosition:!0,zIndex:1e3,close:!0,closeHTML:'<a class="modalCloseImg" title="Close"></a>',closeClass:"simplemodal-close",escClose:!0,overlayClose:!1,fixed:!0,position:null,persist:!1,modal:!0,onOpen:null,onShow:null,onClose:null},b.smodal.impl={d:{},init:function(a,c){if(this.d.data)return!1;if(n=o&&!r,this.o=b.extend({},b.smodal.defaults,c),this.zIndex=this.o.zIndex,this.occb=!1,"object"==typeof a)a=a instanceof b?a:b(a),this.d.placeholder=!1,0<a.parent().parent().size()&&(a.before(b("<span></span>").attr("id","simplemodal-placeholder").css({display:"none"})),this.d.placeholder=!0,this.display=a.css("display"),!this.o.persist)&&(this.d.orig=a.clone(!0));else{if("string"!=typeof a&&"number"!=typeof a)return alert("SimpleModal Error: Unsupported data type: "+typeof a),this;a=b("<div></div>").html(a)}return this.create(a),this.open(),b.isFunction(this.o.onShow)&&this.o.onShow.apply(this,[this.d]),this},create:function(a){this.getDimensions(),this.o.modal&&l&&(this.d.iframe=b('<iframe src="javascript:false;"></iframe>').css(b.extend(this.o.iframeCss,{display:"none",opacity:0,position:"fixed",height:d[0],width:d[1],zIndex:this.o.zIndex,top:0,left:0})).appendTo(this.o.appendTo)),this.d.overlay=b("<div></div>").attr("id",this.o.overlayId).addClass("simplemodal-overlay").css(b.extend(this.o.overlayCss,{display:"none",opacity:this.o.opacity/100,height:this.o.modal?g[0]:0,width:this.o.modal?g[1]:0,position:"fixed",left:0,top:0,zIndex:this.o.zIndex+1})).appendTo(this.o.appendTo),this.d.container=b("<div></div>").attr("id",this.o.containerId).addClass("simplemodal-container").css(b.extend({position:this.o.fixed?"fixed":"absolute"},this.o.containerCss,{display:"none",zIndex:this.o.zIndex+2})).append(this.o.close&&this.o.closeHTML?b(this.o.closeHTML).addClass(this.o.closeClass):"").appendTo(this.o.appendTo),this.d.wrap=b("<div></div>").attr("tabIndex",-1).addClass("simplemodal-wrap").css({height:"100%",outline:0,width:"100%"}).appendTo(this.d.container),this.d.data=a.attr("id",a.attr("id")||this.o.dataId).addClass("simplemodal-data").css(b.extend(this.o.dataCss,{display:"none"})).appendTo("body"),this.setContainerDimensions(),this.d.data.appendTo(this.d.wrap),(l||n)&&this.fixIE()},bindEvents:function(){var a=this;b("."+a.o.closeClass).bind("click.simplemodal",function(b){b.preventDefault(),a.close()}),a.o.modal&&a.o.close&&a.o.overlayClose&&a.d.overlay.bind("click.simplemodal",function(b){b.preventDefault(),a.close()}),m.bind("keydown.simplemodal",function(b){a.o.modal&&9===b.keyCode?a.watchTab(b):a.o.close&&a.o.escClose&&27===b.keyCode&&(b.preventDefault(),a.close())}),k.bind("resize.simplemodal orientationchange.simplemodal",function(){a.getDimensions(),a.o.autoResize?a.setContainerDimensions():a.o.autoPosition&&a.setPosition(),l||n?a.fixIE():a.o.modal&&(a.d.iframe&&a.d.iframe.css({height:d[0],width:d[1]}),a.d.overlay.css({height:g[0],width:g[1]}))})},unbindEvents:function(){b("."+this.o.closeClass).unbind("click.simplemodal"),m.unbind("keydown.simplemodal"),k.unbind(".simplemodal"),this.d.overlay.unbind("click.simplemodal")},fixIE:function(){var a=this.o.position;b.each([this.d.iframe||null,this.o.modal?this.d.overlay:null,"fixed"===this.d.container.css("position")?this.d.container:null],function(h,f){if(f){var d=f[0].style;if(d.position="absolute",2>h){var c=eval("document.body.scrollHeight > document.body.clientHeight ? document.body.scrollHeight : document.body.clientHeight")+"px",e=eval("document.body.scrollWidth > document.body.clientWidth ? document.body.scrollWidth : document.body.clientWidth")+"px";b(d).height(c),b(d).width(e)}else a&&a.constructor===Array?(c=a[0]?"number"==typeof a[0]?""+a[0]:a[0].replace(/px/,""):f.css("top").replace(/px/,""),c=-1===c.indexOf("%")?c+' + (t = document.documentElement.scrollTop ? document.documentElement.scrollTop : document.body.scrollTop) + "px"':parseInt(c.replace(/%/,""))+' * ((document.documentElement.clientHeight || document.body.clientHeight) / 100) + (t = document.documentElement.scrollTop ? document.documentElement.scrollTop : document.body.scrollTop) + "px"',a[1]&&(e="number"==typeof a[1]?""+a[1]:a[1].replace(/px/,""),e=-1===e.indexOf("%")?e+' + (t = document.documentElement.scrollLeft ? document.documentElement.scrollLeft : document.body.scrollLeft) + "px"':parseInt(e.replace(/%/,""))+' * ((document.documentElement.clientWidth || document.body.clientWidth) / 100) + (t = document.documentElement.scrollLeft ? document.documentElement.scrollLeft : document.body.scrollLeft) + "px"')):(c='(document.documentElement.clientHeight || document.body.clientHeight) / 2 - (this.offsetHeight / 2) + (t = document.documentElement.scrollTop ? document.documentElement.scrollTop : document.body.scrollTop) + "px"',e='(document.documentElement.clientWidth || document.body.clientWidth) / 2 - (this.offsetWidth / 2) + (t = document.documentElement.scrollLeft ? document.documentElement.scrollLeft : document.body.scrollLeft) + "px"'),b(d).css("top",eval(c)),b(d).css("left",eval(e))}})},focus:function(a){var c=this,a=a&&-1!==b.inArray(a,["first","last"])?a:"first",d=b(":input:enabled:visible:"+a,c.d.wrap);setTimeout(function(){0<d.length?d.focus():c.d.wrap.focus()},10)},getDimensions:function(){var a=void 0===window.innerHeight?k.height():window.innerHeight;g=[m.height(),m.width()],d=[a,k.width()]},getVal:function(a,b){return a?"number"==typeof a?a:"auto"===a?0:0<a.indexOf("%")?parseInt(a.replace(/%/,""))/100*("h"===b?d[0]:d[1]):parseInt(a.replace(/px/,"")):null},update:function(a,b){return!!this.d.data&&(this.d.origHeight=this.getVal(a,"h"),this.d.origWidth=this.getVal(b,"w"),this.d.data.hide(),a&&this.d.container.css("height",a),b&&this.d.container.css("width",b),this.setContainerDimensions(),this.d.data.show(),this.o.focus&&this.focus(),this.unbindEvents(),void this.bindEvents())},setContainerDimensions:function(){var a=l||q,b=this.d.origHeight?this.d.origHeight:p?this.d.container.height():this.getVal(a?this.d.container[0].currentStyle.height:this.d.container.css("height"),"h"),a=this.d.origWidth?this.d.origWidth:p?this.d.container.width():this.getVal(a?this.d.container[0].currentStyle.width:this.d.container.css("width"),"w"),c=this.d.data.outerHeight(!0),e=this.d.data.outerWidth(!0);this.d.origHeight=this.d.origHeight||b,this.d.origWidth=this.d.origWidth||a;var f=this.o.maxHeight?this.getVal(this.o.maxHeight,"h"):null,g=this.o.maxWidth?this.getVal(this.o.maxWidth,"w"):null,f=f&&f<d[0]?f:d[0],g=g&&g<d[1]?g:d[1],h=this.o.minHeight?this.getVal(this.o.minHeight,"h"):"auto",b=b?this.o.autoResize&&b>f?f:b<h?h:b:c?c>f?f:this.o.minHeight&&"auto"!==h&&c<h?h:c:h,f=this.o.minWidth?this.getVal(this.o.minWidth,"w"):"auto",a=a?this.o.autoResize&&a>g?g:a<f?f:a:e?e>g?g:this.o.minWidth&&"auto"!==f&&e<f?f:e:f;this.d.container.css({height:b,width:a}),this.d.wrap.css({overflow:c>b||e>a?"auto":"visible"}),this.o.autoPosition&&this.setPosition()},setPosition:function(){var a,b;a=d[0]/2-this.d.container.outerHeight(!0)/2,b=d[1]/2-this.d.container.outerWidth(!0)/2;var c="fixed"!==this.d.container.css("position")?k.scrollTop():0;this.o.position&&"[object Array]"===Object.prototype.toString.call(this.o.position)?(a=parseFloat(c)+parseFloat(this.o.position[0]||a),b=this.o.position[1]||b):a=c+a,this.d.container.css({left:b,top:a})},watchTab:function(a){0<b(a.target).parents(".simplemodal-container").length?(this.inputs=b(":input:enabled:visible:first, :input:enabled:visible:last",this.d.data[0]),(!a.shiftKey&&a.target===this.inputs[this.inputs.length-1]||a.shiftKey&&a.target===this.inputs[0]||0===this.inputs.length)&&(a.preventDefault(),this.focus(a.shiftKey?"last":"first"))):(a.preventDefault(),this.focus())},open:function(){this.d.iframe&&this.d.iframe.show(),b.isFunction(this.o.onOpen)?this.o.onOpen.apply(this,[this.d]):(this.d.overlay.show(),this.d.container.show(),this.d.data.show()),this.o.focus&&this.focus(),this.bindEvents()},close:function(){if(!this.d.data)return!1;if(this.unbindEvents(),b.isFunction(this.o.onClose)&&!this.occb)this.occb=!0,this.o.onClose.apply(this,[this.d]);else{if(this.d.placeholder){var a=b("#simplemodal-placeholder");this.o.persist?a.replaceWith(this.d.data.removeClass("simplemodal-data").css("display",this.display)):(this.d.data.hide().remove(),a.replaceWith(this.d.orig))}else this.d.data.hide().remove();this.d.container.hide().remove(),this.d.overlay.hide(),this.d.iframe&&this.d.iframe.hide().remove(),this.d.overlay.remove(),this.d={}}}}}),function(a,b,c){a.fn.jScrollPane=function(d){function e(d,e){function f(b){var e,h,j,l,m,n,q=!1,r=!1;if(P=b,Q===c)m=d.scrollTop(),n=d.scrollLeft(),d.css({overflow:"hidden",padding:0}),R=d.innerWidth()+ta,S=d.innerHeight(),d.width(R),Q=a('<div class="jspPane" />').css("padding",sa).append(d.children()),T=a('<div class="jspContainer" />').css({width:R+"px",height:S+"px"}).append(Q).appendTo(d);else{if(d.css("width",""),q=P.stickToBottom&&C(),r=P.stickToRight&&D(),l=d.innerWidth()+ta!=R||d.outerHeight()!=S,l&&(R=d.innerWidth()+ta,S=d.innerHeight(),T.css({width:R+"px",height:S+"px"})),!l&&ua==U&&Q.outerHeight()==V)return void d.width(R);ua=U,Q.css("width",""),d.width(R),T.find(">.jspVerticalBar,>.jspHorizontalBar").remove().end()}Q.css("overflow","auto"),U=b.contentWidth?b.contentWidth:Q[0].scrollWidth,V=Q[0].scrollHeight,Q.css("overflow",""),W=U/R,X=V/S,Y=X>1,Z=W>1,Z||Y?(d.addClass("jspScrollable"),e=P.maintainPosition&&(aa||da),e&&(h=A(),j=B()),g(),i(),k(),e&&(y(r?U-R:h,!1),x(q?V-S:j,!1)),H(),E(),N(),P.enableKeyboardNavigation&&J(),P.clickOnTrack&&o(),L(),P.hijackInternalLinks&&M()):(d.removeClass("jspScrollable"),Q.css({top:0,width:T.width()-ta}),F(),I(),K(),p()),P.autoReinitialise&&!ra?ra=setInterval(function(){f(P)},P.autoReinitialiseDelay):!P.autoReinitialise&&ra&&clearInterval(ra),m&&d.scrollTop(0)&&x(m,!1),n&&d.scrollLeft(0)&&y(n,!1),d.trigger("jsp-initialised",[Z||Y])}function g(){Y&&(T.append(a('<div class="jspVerticalBar" />').append(a('<div class="jspCap jspCapTop" />'),a('<div class="jspTrack" />').append(a('<div class="jspDrag" />').append(a('<div class="jspDragTop" />'),a('<div class="jspDragBottom" />'))),a('<div class="jspCap jspCapBottom" />'))),ea=T.find(">.jspVerticalBar"),fa=ea.find(">.jspTrack"),$=fa.find(">.jspDrag"),P.showArrows&&(ja=a('<a class="jspArrow jspArrowUp" />').bind("mousedown.jsp",m(0,-1)).bind("click.jsp",G),ka=a('<a class="jspArrow jspArrowDown" />').bind("mousedown.jsp",m(0,1)).bind("click.jsp",G),P.arrowScrollOnHover&&(ja.bind("mouseover.jsp",m(0,-1,ja)),ka.bind("mouseover.jsp",m(0,1,ka))),l(fa,P.verticalArrowPositions,ja,ka)),ha=S,T.find(">.jspVerticalBar>.jspCap:visible,>.jspVerticalBar>.jspArrow").each(function(){ha-=a(this).outerHeight()}),$.hover(function(){$.addClass("jspHover")},function(){$.removeClass("jspHover")}).bind("mousedown.jsp",function(b){a("html").bind("dragstart.jsp selectstart.jsp",G),$.addClass("jspActive");var c=b.pageY-$.position().top;return a("html").bind("mousemove.jsp",function(a){r(a.pageY-c,!1)}).bind("mouseup.jsp mouseleave.jsp",q),!1}),h())}function h(){fa.height(ha+"px"),aa=0,ga=P.verticalGutter+fa.outerWidth(),Q.width(R-ga-ta);try{0===ea.position().left&&Q.css("margin-left",ga+"px")}catch(a){}}function i(){Z&&(T.append(a('<div class="jspHorizontalBar" />').append(a('<div class="jspCap jspCapLeft" />'),a('<div class="jspTrack" />').append(a('<div class="jspDrag" />').append(a('<div class="jspDragLeft" />'),a('<div class="jspDragRight" />'))),a('<div class="jspCap jspCapRight" />'))),la=T.find(">.jspHorizontalBar"),ma=la.find(">.jspTrack"),ba=ma.find(">.jspDrag"),P.showArrows&&(pa=a('<a class="jspArrow jspArrowLeft" />').bind("mousedown.jsp",m(-1,0)).bind("click.jsp",G),qa=a('<a class="jspArrow jspArrowRight" />').bind("mousedown.jsp",m(1,0)).bind("click.jsp",G),P.arrowScrollOnHover&&(pa.bind("mouseover.jsp",m(-1,0,pa)),qa.bind("mouseover.jsp",m(1,0,qa))),l(ma,P.horizontalArrowPositions,pa,qa)),ba.hover(function(){ba.addClass("jspHover")},function(){ba.removeClass("jspHover")}).bind("mousedown.jsp",function(b){a("html").bind("dragstart.jsp selectstart.jsp",G),ba.addClass("jspActive");var c=b.pageX-ba.position().left;return a("html").bind("mousemove.jsp",function(a){t(a.pageX-c,!1)}).bind("mouseup.jsp mouseleave.jsp",q),!1}),na=T.innerWidth(),j())}function j(){T.find(">.jspHorizontalBar>.jspCap:visible,>.jspHorizontalBar>.jspArrow").each(function(){na-=a(this).outerWidth()}),ma.width(na+"px"),da=0}function k(){if(Z&&Y){var b=ma.outerHeight(),c=fa.outerWidth();ha-=b,a(la).find(">.jspCap:visible,>.jspArrow").each(function(){na+=a(this).outerWidth()}),na-=c,S-=c,R-=b,ma.parent().append(a('<div class="jspCorner" />').css("width",b+"px")),h(),j()}Z&&Q.width(T.outerWidth()-ta+"px"),V=Q.outerHeight(),X=V/S,Z&&(oa=Math.ceil(1/W*na),oa>P.horizontalDragMaxWidth?oa=P.horizontalDragMaxWidth:oa<P.horizontalDragMinWidth&&(oa=P.horizontalDragMinWidth),ba.width(oa+"px"),ca=na-oa,u(da)),Y&&(ia=Math.ceil(1/X*ha),ia>P.verticalDragMaxHeight?ia=P.verticalDragMaxHeight:ia<P.verticalDragMinHeight&&(ia=P.verticalDragMinHeight),$.height(ia+"px"),_=ha-ia,s(aa))}function l(a,b,c,d){var e,f="before",g="after";"os"==b&&(b=/Mac/.test(navigator.platform)?"after":"split"),b==f?g=b:b==g&&(f=b,e=c,c=d,d=e),a[f](c)[g](d)}function m(a,b,c){return function(){return n(a,b,this,c),this.blur(),!1}}function n(b,c,d,e){d=a(d).addClass("jspActive");var f,g,h=!0,i=function(){0!==b&&va.scrollByX(b*P.arrowButtonSpeed),0!==c&&va.scrollByY(c*P.arrowButtonSpeed),g=setTimeout(i,h?P.initialDelay:P.arrowRepeatFreq),h=!1};i(),f=e?"mouseout.jsp":"mouseup.jsp",e=e||a("html"),e.bind(f,function(){d.removeClass("jspActive"),g&&clearTimeout(g),g=null,e.unbind(f)})}function o(){p(),Y&&fa.bind("mousedown.jsp",function(b){if(b.originalTarget===c||b.originalTarget==b.currentTarget){var d,e=a(this),f=e.offset(),g=b.pageY-f.top-aa,h=!0,i=function(){var a=e.offset(),c=b.pageY-a.top-ia/2,f=S*P.scrollPagePercent,k=_*f/(V-S);if(g<0)aa-k>c?va.scrollByY(-f):r(c);else{if(!(g>0))return void j();aa+k<c?va.scrollByY(f):r(c)}d=setTimeout(i,h?P.initialDelay:P.trackClickRepeatFreq),h=!1},j=function(){d&&clearTimeout(d),d=null,a(document).unbind("mouseup.jsp",j)};return i(),a(document).bind("mouseup.jsp",j),!1}}),Z&&ma.bind("mousedown.jsp",function(b){if(b.originalTarget===c||b.originalTarget==b.currentTarget){var d,e=a(this),f=e.offset(),g=b.pageX-f.left-da,h=!0,i=function(){var a=e.offset(),c=b.pageX-a.left-oa/2,f=R*P.scrollPagePercent,k=ca*f/(U-R);if(g<0)da-k>c?va.scrollByX(-f):t(c);else{if(!(g>0))return void j();da+k<c?va.scrollByX(f):t(c)}d=setTimeout(i,h?P.initialDelay:P.trackClickRepeatFreq),h=!1},j=function(){d&&clearTimeout(d),d=null,a(document).unbind("mouseup.jsp",j)};return i(),a(document).bind("mouseup.jsp",j),!1}})}function p(){ma&&ma.unbind("mousedown.jsp"),fa&&fa.unbind("mousedown.jsp")}function q(){a("html").unbind("dragstart.jsp selectstart.jsp mousemove.jsp mouseup.jsp mouseleave.jsp"),$&&$.removeClass("jspActive"),ba&&ba.removeClass("jspActive")}function r(a,b){Y&&(a<0?a=0:a>_&&(a=_),b===c&&(b=P.animateScroll),b?va.animate($,"top",a,s):($.css("top",a),s(a)))}function s(a){a===c&&(a=$.position().top),T.scrollTop(0),aa=a;var b=0===aa,e=aa==_,f=a/_,g=-f*(V-S);wa==b&&ya==e||(wa=b,ya=e,d.trigger("jsp-arrow-change",[wa,ya,xa,za])),v(b,e),Q.css("top",g),d.trigger("jsp-scroll-y",[-g,b,e]).trigger("scroll")}function t(a,b){Z&&(a<0?a=0:a>ca&&(a=ca),b===c&&(b=P.animateScroll),b?va.animate(ba,"left",a,u):(ba.css("left",a),u(a)))}function u(a){a===c&&(a=ba.position().left),T.scrollTop(0),da=a;var b=0===da,e=da==ca,f=a/ca,g=-f*(U-R);xa==b&&za==e||(xa=b,za=e,d.trigger("jsp-arrow-change",[wa,ya,xa,za])),w(b,e),Q.css("left",g),d.trigger("jsp-scroll-x",[-g,b,e]).trigger("scroll")}function v(a,b){P.showArrows&&(ja[a?"addClass":"removeClass"]("jspDisabled"),ka[b?"addClass":"removeClass"]("jspDisabled"))}function w(a,b){P.showArrows&&(pa[a?"addClass":"removeClass"]("jspDisabled"),qa[b?"addClass":"removeClass"]("jspDisabled"))}function x(a,b){var c=a/(V-S);r(c*_,b)}function y(a,b){var c=a/(U-R);t(c*ca,b)}function z(b,c,d){var e,f,g,h,i,j,k,l,m,n=0,o=0;try{e=a(b)}catch(p){return}for(f=e.outerHeight(),g=e.outerWidth(),T.scrollTop(0),T.scrollLeft(0);!e.is(".jspPane");)if(n+=e.position().top,o+=e.position().left,e=e.offsetParent(),/^body|html$/i.test(e[0].nodeName))return;h=B(),j=h+S,n<h||c?l=n-P.verticalGutter:n+f>j&&(l=n-S+f+P.verticalGutter),l&&x(l,d),i=A(),k=i+R,o<i||c?m=o-P.horizontalGutter:o+g>k&&(m=o-R+g+P.horizontalGutter),m&&y(m,d)}function A(){return-Q.position().left}function B(){return-Q.position().top}function C(){var a=V-S;return a>20&&a-B()<10}function D(){var a=U-R;return a>20&&a-A()<10}function E(){T.unbind(Ba).bind(Ba,function(a,b,c,d){var e=da,f=aa;return va.scrollBy(c*P.mouseWheelSpeed,-d*P.mouseWheelSpeed,!1),e==da&&f==aa})}function F(){T.unbind(Ba)}function G(){return!1}function H(){Q.find(":input,a").unbind("focus.jsp").bind("focus.jsp",function(a){z(a.target,!1)})}function I(){Q.find(":input,a").unbind("focus.jsp")}function J(){function b(){var a=da,b=aa;switch(c){case 40:va.scrollByY(P.keyboardSpeed,!1);break;case 38:va.scrollByY(-P.keyboardSpeed,!1);break;case 34:case 32:va.scrollByY(S*P.scrollPagePercent,!1);break;case 33:va.scrollByY(-S*P.scrollPagePercent,!1);break;case 39:va.scrollByX(P.keyboardSpeed,!1);break;case 37:va.scrollByX(-P.keyboardSpeed,!1)}return e=a!=da||b!=aa}var c,e,f=[];Z&&f.push(la[0]),Y&&f.push(ea[0]),Q.focus(function(){d.focus()}),d.attr("tabindex",0).unbind("keydown.jsp keypress.jsp").bind("keydown.jsp",function(d){if(d.target===this||f.length&&a(d.target).closest(f).length){var g=da,h=aa;switch(d.keyCode){case 40:case 38:case 34:case 32:case 33:case 39:case 37:c=d.keyCode,b();break;case 35:x(V-S),c=null;break;case 36:x(0),c=null}return e=d.keyCode==c&&g!=da||h!=aa,!e}}).bind("keypress.jsp",function(a){return a.keyCode==c&&b(),!e}),P.hideFocus?(d.css("outline","none"),"hideFocus"in T[0]&&d.attr("hideFocus",!0)):(d.css("outline",""),"hideFocus"in T[0]&&d.attr("hideFocus",!1))}function K(){d.attr("tabindex","-1").removeAttr("tabindex").unbind("keydown.jsp keypress.jsp")}function L(){if(location.hash&&location.hash.length>1){var b,c,d=escape(location.hash.substr(1));try{b=a("#"+d+', a[name="'+d+'"]')}catch(e){return}b.length&&Q.find(d)&&(0===T.scrollTop()?c=setInterval(function(){T.scrollTop()>0&&(z(b,!0),a(document).scrollTop(T.position().top),clearInterval(c))},50):(z(b,!0),a(document).scrollTop(T.position().top)))}}function M(){a(document.body).data("jspHijack")||(a(document.body).data("jspHijack",!0),a(document.body).delegate("a[href*=#]","click",function(c){var d,e,f,g,h,i,j=this.href.substr(0,this.href.indexOf("#")),k=location.href;if(location.href.indexOf("#")!==-1&&(k=location.href.substr(0,location.href.indexOf("#"))),j===k){d=escape(this.href.substr(this.href.indexOf("#")+1));try{e=a("#"+d+', a[name="'+d+'"]')}catch(l){return}e.length&&(f=e.closest(".jspScrollable"),g=f.data("jsp"),g.scrollToElement(e,!0),f[0].scrollIntoView&&(h=a(b).scrollTop(),i=e.offset().top,(i<h||i>h+a(b).height())&&f[0].scrollIntoView()),c.preventDefault())}}))}function N(){var a,b,c,d,e,f=!1;T.unbind("touchstart.jsp touchmove.jsp touchend.jsp click.jsp-touchclick").bind("touchstart.jsp",function(g){var h=g.originalEvent.touches[0];a=A(),b=B(),c=h.pageX,d=h.pageY,e=!1,f=!0}).bind("touchmove.jsp",function(g){if(f){var h=g.originalEvent.touches[0],i=da,j=aa;return va.scrollTo(a+c-h.pageX,b+d-h.pageY),e=e||Math.abs(c-h.pageX)>5||Math.abs(d-h.pageY)>5,i==da&&j==aa}}).bind("touchend.jsp",function(a){f=!1}).bind("click.jsp-touchclick",function(a){if(e)return e=!1,!1})}function O(){var a=B(),b=A();d.removeClass("jspScrollable").unbind(".jsp"),d.replaceWith(Aa.append(Q.children())),Aa.scrollTop(a),Aa.scrollLeft(b),ra&&clearInterval(ra)}var P,Q,R,S,T,U,V,W,X,Y,Z,$,_,aa,ba,ca,da,ea,fa,ga,ha,ia,ja,ka,la,ma,na,oa,pa,qa,ra,sa,ta,ua,va=this,wa=!0,xa=!0,ya=!1,za=!1,Aa=d.clone(!1,!1).empty(),Ba=a.fn.mwheelIntent?"mwheelIntent.jsp":"mousewheel.jsp";sa=d.css("paddingTop")+" "+d.css("paddingRight")+" "+d.css("paddingBottom")+" "+d.css("paddingLeft"),ta=(parseInt(d.css("paddingLeft"),10)||0)+(parseInt(d.css("paddingRight"),10)||0),a.extend(va,{reinitialise:function(b){b=a.extend({},P,b),f(b)},scrollToElement:function(a,b,c){z(a,b,c)},scrollTo:function(a,b,c){y(a,c),x(b,c)},scrollToX:function(a,b){y(a,b)},scrollToY:function(a,b){x(a,b)},scrollToPercentX:function(a,b){y(a*(U-R),b)},
scrollToPercentY:function(a,b){x(a*(V-S),b)},scrollBy:function(a,b,c){va.scrollByX(a,c),va.scrollByY(b,c)},scrollByX:function(a,b){var c=A()+Math[a<0?"floor":"ceil"](a),d=c/(U-R);t(d*ca,b)},scrollByY:function(a,b){var c=B()+Math[a<0?"floor":"ceil"](a),d=c/(V-S);r(d*_,b)},positionDragX:function(a,b){t(a,b)},positionDragY:function(a,b){r(a,b)},animate:function(a,b,c,d){var e={};e[b]=c,a.animate(e,{duration:P.animateDuration,easing:P.animateEase,queue:!1,step:d})},getContentPositionX:function(){return A()},getContentPositionY:function(){return B()},getContentWidth:function(){return U},getContentHeight:function(){return V},getPercentScrolledX:function(){return A()/(U-R)},getPercentScrolledY:function(){return B()/(V-S)},getIsScrollableH:function(){return Z},getIsScrollableV:function(){return Y},getContentPane:function(){return Q},scrollToBottom:function(a){r(_,a)},hijackInternalLinks:a.noop,destroy:function(){O()}}),f(e)}return d=a.extend({},a.fn.jScrollPane.defaults,d),a.each(["mouseWheelSpeed","arrowButtonSpeed","trackClickSpeed","keyboardSpeed"],function(){d[this]=d[this]||d.speed}),this.each(function(){var b=a(this),c=b.data("jsp");c?c.reinitialise(d):(a("script",b).filter('[type="text/javascript"],:not([type])').remove(),c=new e(b,d),b.data("jsp",c))})},a.fn.jScrollPane.defaults={showArrows:!1,maintainPosition:!0,stickToBottom:!1,stickToRight:!1,clickOnTrack:!0,autoReinitialise:!1,autoReinitialiseDelay:500,verticalDragMinHeight:0,verticalDragMaxHeight:99999,horizontalDragMinWidth:0,horizontalDragMaxWidth:99999,contentWidth:c,animateScroll:!1,animateDuration:300,animateEase:"linear",hijackInternalLinks:!1,verticalGutter:4,horizontalGutter:4,mouseWheelSpeed:0,arrowButtonSpeed:0,arrowRepeatFreq:50,arrowScrollOnHover:!1,trackClickSpeed:0,trackClickRepeatFreq:70,verticalArrowPositions:"split",horizontalArrowPositions:"split",enableKeyboardNavigation:!0,hideFocus:!1,keyboardSpeed:0,initialDelay:300,speed:30,scrollPagePercent:.8}}(jQuery,this),function(a){var b=function(){try{return"ontouchstart"in document.documentElement}catch(a){return!1}}();a.fn.doubletap=function(c,d,e,f){var g,h;e=null==e?500:e,g=1!=b||f?"click":"touchend",a(this).bind(g,function(b){b.preventDefault();var f=(new Date).getTime(),g=a(this).data("lastTouch")||f+1,i=f-g;clearTimeout(h),i<e&&i>0?null!=c&&"function"==typeof c&&c(b):(a(this).data("lastTouch",f),h=setTimeout(function(a){null!=d&&"function"==typeof d&&d(a),clearTimeout(h)},e,[b])),a(this).data("lastTouch",f)})}}(jQuery),function(a){a.fn.touchwipe=function(b){var c={min_move_x:20,min_move_y:20,wipeLeft:function(){},wipeRight:function(){},wipeUp:function(){},wipeDown:function(){},preventDefaultEvents:!0};b&&a.extend(c,b);var d=this;return this.config=c,this.each(function(){function a(){this.removeEventListener("touchmove",b),f=null,h=!1}function b(b){if(b.touches.length>1&&(h=!1),d.config.preventDefaultEvents&&h&&(jQuery(b.target).hasClass("flowpaper_note_textarea")||jQuery(b.target).hasClass("flowpaper_textarea_data")||b.preventDefault()),h&&(null==jQuery(d).data("pageMv")||jQuery(d).data("pageMv")&&0==jQuery(d).data("pageMv").length)){var e=b.touches[0].pageX,i=b.touches[0].pageY,j=f-e,k=g-i;Math.abs(j)>=c.min_move_x?(a(),j>0?c.wipeLeft():c.wipeRight()):Math.abs(k)>=c.min_move_y&&(a(),k>0?c.wipeDown():c.wipeUp())}}function e(a){1==a.touches.length&&(f=a.touches[0].pageX,g=a.touches[0].pageY,h=!0,this.addEventListener("touchmove",b,!1))}var f,g,h=!1;"ontouchstart"in document.documentElement&&this.addEventListener("touchstart",e,!1)}),this}}(jQuery),function(a,b,c){function d(a,c){var d,e=b.createElement(a||"div");for(d in c)e[d]=c[d];return e}function e(a){for(var b=1,c=arguments.length;b<c;b++)a.appendChild(arguments[b]);return a}function f(a,b,c,d){var e=["opacity",b,~~(100*a),c,d].join("-"),f=.01+c/d*100,g=Math.max(1-(1-a)/b*(100-f),a),h=k.substring(0,k.indexOf("Animation")).toLowerCase(),i=h&&"-"+h+"-"||"";return m[e]||(n.insertRule("@"+i+"keyframes "+e+"{0%{opacity:"+g+"}"+f+"%{opacity:"+a+"}"+(f+.01)+"%{opacity:1}"+(f+b)%100+"%{opacity:"+a+"}100%{opacity:"+g+"}}",0),m[e]=1),e}function g(a,b){var d,e,f=a.style;if(f[b]!==c)return b;for(b=b.charAt(0).toUpperCase()+b.slice(1),e=0;e<l.length;e++)if(d=l[e]+b,f[d]!==c)return d}function h(a,b){for(var c in b)a.style[g(a,c)||c]=b[c];return a}function i(a){for(var b=1;b<arguments.length;b++){var d=arguments[b];for(var e in d)a[e]===c&&(a[e]=d[e])}return a}function j(a){for(var b={x:a.offsetLeft,y:a.offsetTop};a=a.offsetParent;)b.x+=a.offsetLeft,b.y+=a.offsetTop;return b}var k,l=["webkit","Moz","ms","O"],m={},n=function(){var a=d("style");return e(b.getElementsByTagName("head")[0],a),a.sheet||a.styleSheet}(),o={lines:12,length:7,width:5,radius:10,rotate:0,color:"#000",speed:1,trail:100,opacity:.25,fps:20,zIndex:2e9,className:"spinner",top:"auto",left:"auto"},p=function q(a){return this.spin?void(this.opts=i(a||{},q.defaults,o)):new q(a)};p.defaults={},i(p.prototype,{spin:function(a){this.stop();var b,c,e=this,f=e.opts,g=e.el=h(d(0,{className:f.className}),{position:"relative",zIndex:f.zIndex}),i=f.radius+f.length+f.width;if(a&&(a.insertBefore(g,a.firstChild||null),c=j(a),b=j(g),h(g,{left:("auto"==f.left?c.x-b.x+(a.offsetWidth>>1):f.left+i)+"px",top:("auto"==f.top?c.y-b.y+(a.offsetHeight>>1):f.top+i)+"px"})),g.setAttribute("aria-role","progressbar"),e.lines(g,e.opts),!k){var l=0,m=f.fps,n=m/f.speed,o=(1-f.opacity)/(n*f.trail/100),p=n/f.lines;!function q(){l++;for(var a=f.lines;a;a--){var b=Math.max(1-(l+a*p)%n*o,f.opacity);e.opacity(g,f.lines-a,b,f)}e.timeout=e.el&&setTimeout(q,~~(1e3/m))}()}return e},stop:function(){var a=this.el;return a&&(clearTimeout(this.timeout),a.parentNode&&a.parentNode.removeChild(a),this.el=c),this},lines:function(a,b){function c(a,c){return h(d(),{position:"absolute",width:b.length+b.width+"px",height:b.width+"px",background:a,boxShadow:c,transformOrigin:"left",transform:"rotate("+~~(360/b.lines*i+b.rotate)+"deg) translate("+b.radius+"px,0)",borderRadius:(b.width>>1)+"px"})}for(var g,i=0;i<b.lines;i++)g=h(d(),{position:"absolute",top:1+~(b.width/2)+"px",transform:b.hwaccel?"translate3d(0,0,0)":"",opacity:b.opacity,animation:k&&f(b.opacity,b.trail,i,b.lines)+" "+1/b.speed+"s linear infinite"}),b.shadow&&e(g,h(c("#000","0 0 4px #000"),{top:"2px"})),e(a,e(g,c(b.color,"0 0 1px rgba(0,0,0,.1)")));return a},opacity:function(a,b,c){b<a.childNodes.length&&(a.childNodes[b].style.opacity=c)}}),!function(){function a(a,b){return d("<"+a+' xmlns="urn:schemas-microsoft.com:vml" class="spin-vml">',b)}var b=h(d("group"),{behavior:"url(#default#VML)"});!g(b,"transform")&&b.adj?(n.addRule(".spin-vml","behavior:url(#default#VML)"),p.prototype.lines=function(b,c){function d(){return h(a("group",{coordsize:j+" "+j,coordorigin:-i+" "+-i}),{width:j,height:j})}function f(b,f,g){e(l,e(h(d(),{rotation:360/c.lines*b+"deg",left:~~f}),e(h(a("roundrect",{arcsize:1}),{width:i,height:c.width,left:c.radius,top:-c.width>>1,filter:g}),a("fill",{color:c.color,opacity:c.opacity}),a("stroke",{opacity:0}))))}var g,i=c.length+c.width,j=2*i,k=2*-(c.width+c.length)+"px",l=h(d(),{position:"absolute",top:k,left:k});if(c.shadow)for(g=1;g<=c.lines;g++)f(g,-2,"progid:DXImageTransform.Microsoft.Blur(pixelradius=2,makeshadow=1,shadowopacity=.3)");for(g=1;g<=c.lines;g++)f(g);return e(b,l)},p.prototype.opacity=function(a,b,c,d){var e=a.firstChild;d=d.shadow&&d.lines||0,e&&b+d<e.childNodes.length&&(e=e.childNodes[b+d],e=e&&e.firstChild,e=e&&e.firstChild,e&&(e.opacity=c))}):k=g(b,"animation")}(),a.Spinner=p}(window,document),function(a){function b(a){if(a in l.style)return a;var b=["Moz","Webkit","O","ms"],c=a.charAt(0).toUpperCase()+a.substr(1);if(a in l.style)return a;for(var d=0;d<b.length;++d){var e=b[d]+c;if(e in l.style)return e}}function c(){return l.style[m.transform]="",l.style[m.transform]="rotateY(90deg)",""!==l.style[m.transform]}function d(a){return"string"==typeof a&&this.parse(a),this}function e(a,b,c){b===!0?a.queue(c):b?a.queue(b,c):c()}function f(b){var c=[];return a.each(b,function(b){b=a.camelCase(b),b=a.transit.propertyMap[b]||b,b=i(b),a.inArray(b,c)===-1&&c.push(b)}),c}function g(b,c,d,e){var g=f(b);a.cssEase[d]&&(d=a.cssEase[d]);var h=""+k(c)+" "+d;parseInt(e,10)>0&&(h+=" "+k(e));var i=[];return a.each(g,function(a,b){i.push(b+" "+h)}),i.join(", ")}function h(b,c){c||(a.cssNumber[b]=!0),a.transit.propertyMap[b]=m.transform,a.cssHooks[b]={get:function(c){var e=a(c).css("transform");return e instanceof d||(e=new d),e.get(b)},set:function(c,e){var f=a(c).css("transform");f instanceof d||(f=new d),f.setFromString(b,e),a(c).css({transform:f})}}}function i(a){return a.replace(/([A-Z])/g,function(a){return"-"+a.toLowerCase()})}function j(a,b){return"string"!=typeof a||a.match(/^[\-0-9\.]+$/)?""+a+b:a}function k(b){var c=b;return a.fx.speeds[c]&&(c=a.fx.speeds[c]),j(c,"ms")}a.transit={version:"0.1.3",propertyMap:{marginLeft:"margin",marginRight:"margin",marginBottom:"margin",marginTop:"margin",paddingLeft:"padding",paddingRight:"padding",paddingBottom:"padding",paddingTop:"padding"},enabled:!0,useTransitionEnd:!1};var l=document.createElement("div"),m={};navigator.userAgent.toLowerCase().indexOf("chrome")>-1;m.transition=b("transition"),m.transitionDelay=b("transitionDelay"),m.transform=b("transform"),m.transformOrigin=b("transformOrigin"),m.transform3d=c(),a.extend(a.support,m);var n={MozTransition:"transitionend",OTransition:"oTransitionEnd",WebkitTransition:"webkitTransitionEnd",msTransition:"MSTransitionEnd"},o=m.transitionEnd=n[m.transition]||null;l=null,a.cssEase={_default:"ease","in":"ease-in",out:"ease-out","in-out":"ease-in-out",snap:"cubic-bezier(0,1,.5,1)"},a.cssHooks.transform={get:function(b){return a(b).data("transform")},set:function(b,c){var e=c;e instanceof d||(e=new d(e)),window.eb&&eb.browser.chrome?b.style[m.transform]=e.toString(!0):b.style[m.transform]=""+e,a(b).data("transform",e)}},a.cssHooks.transformOrigin={get:function(a){return a.style[m.transformOrigin]},set:function(a,b){a.style[m.transformOrigin]=b}},a.cssHooks.transition={get:function(a){return a.style[m.transition]},set:function(a,b){a.style[m.transition]=b}},h("scale"),h("translate"),h("rotate"),h("rotateX"),h("rotateY"),h("rotate3d"),h("perspective"),h("skewX"),h("skewY"),h("x",!0),h("y",!0),d.prototype={setFromString:function(a,b){var c="string"==typeof b?b.split(","):b.constructor===Array?b:[b];c.unshift(a),d.prototype.set.apply(this,c)},set:function(a){var b=Array.prototype.slice.apply(arguments,[1]);this.setter[a]?this.setter[a].apply(this,b):this[a]=b.join(",")},get:function(a){return this.getter[a]?this.getter[a].apply(this):this[a]||0},setter:{rotate:function(a){this.rotate=j(a,"deg")},rotateX:function(a){this.rotateX=j(a,"deg")},rotateY:function(a){this.rotateY=j(a,"deg")},scale:function(a,b){void 0===b&&(b=a),this.scale=a+","+b},skewX:function(a){this.skewX=j(a,"deg")},skewY:function(a){this.skewY=j(a,"deg")},perspective:function(a){this.perspective=j(a,"px")},x:function(a){this.set("translate",a,null)},y:function(a){this.set("translate",null,a)},translate:function(a,b){void 0===this._translateX&&(this._translateX=0),void 0===this._translateY&&(this._translateY=0),null!==a&&(this._translateX=j(a,"px")),null!==b&&(this._translateY=j(b,"px")),this.translate=this._translateX+","+this._translateY}},getter:{x:function(){return this._translateX||0},y:function(){return this._translateY||0},scale:function(){var a=(this.scale||"1,1").split(",");return a[0]&&(a[0]=parseFloat(a[0])),a[1]&&(a[1]=parseFloat(a[1])),a[0]===a[1]?a[0]:a},rotate3d:function(){for(var a=(this.rotate3d||"0,0,0,0deg").split(","),b=0;b<=3;++b)a[b]&&(a[b]=parseFloat(a[b]));return a[3]&&(a[3]=j(a[3],"deg")),a}},parse:function(a){var b=this;a.replace(/([a-zA-Z0-9]+)\((.*?)\)/g,function(a,c,d){b.setFromString(c,d)})},toString:function(a){var b=[];for(var c in this)if(this.hasOwnProperty(c)){if(!m.transform3d&&("rotateX"===c||"rotateY"===c||"perspective"===c||"transformOrigin"===c))continue;"_"!==c[0]&&(a&&"scale"===c?b.push(c+"3d("+this[c]+",1)"):a&&"translate"===c?b.push(c+"3d("+this[c]+",0)"):b.push(c+"("+this[c]+")"))}return b.join(" ")}},a.fn.transition=a.fn.transit=function(b,c,d,f){var h=this,i=0,j=!0;"function"==typeof c&&(f=c,c=void 0),"function"==typeof d&&(f=d,d=void 0),void 0!==b.easing&&(d=b.easing,delete b.easing),void 0!==b.duration&&(c=b.duration,delete b.duration),void 0!==b.complete&&(f=b.complete,delete b.complete),void 0!==b.queue&&(j=b.queue,delete b.queue),void 0!==b.delay&&(i=b.delay,delete b.delay),void 0===c&&(c=a.fx.speeds._default),void 0===d&&(d=a.cssEase._default),c=k(c);var l=g(b,c,d,i),n=a.transit.enabled&&m.transition,p=n?parseInt(c,10)+parseInt(i,10):0;if(0===p){var q=function(a){h.css(b),f&&f.apply(h),a&&a()};return e(h,j,q),h}var r={},s=function(c){var d=!1,e=function(){d&&h.unbind(o,e),p>0&&h.each(function(){this.style[m.transition]=r[this]||null}),"function"==typeof f&&f.apply(h),"function"==typeof c&&c()};p>0&&o&&a.transit.useTransitionEnd?(d=!0,h.bind(o,e)):window.setTimeout(e,p),h.each(function(){p>0&&(this.style[m.transition]=l),a(this).css(b)})},t=function(a){this.offsetWidth,s(a)};return e(h,j,t),this},a.transit.getTransitionValue=g}(jQuery),window.$FlowPaper=window.getDocViewer=window.$FlowPaper=function(a){var b="undefined"===a?"":a;return"flash"==window.ViewerMode?window["FlowPaperViewer_Instance"+b].getApi():"html"==window.ViewerMode?window["FlowPaperViewer_Instance"+b]:void 0},window.FlowPaperViewerEmbedding=window.$f=function(a,b){this.id=a;var c=navigator.userAgent.toLowerCase(),d=window["eb.browser"]={version:(c.match(/.+(?:rv|it|ra|ie)[\/: ]([\d.]+)/)||[])[1],safari:(/webkit/.test(c)||/applewebkit/.test(c))&&!/chrome/.test(c),opera:/opera/.test(c),msie:/msie/.test(c)&&!/opera/.test(c),mozilla:/mozilla/.test(c)&&!/(compatible|webkit)/.test(c),seamonkey:/seamonkey/.test(c),chrome:/chrome/.test(c)};d.detected=d.safari||d.opera||d.msie||d.mozilla||d.seamonkey||d.chrome,d.detected&&d.version||(d.chrome=!0,d.version="500.00");var e=window["eb.platform"]={win:/win/.test(c),mac:/mac/.test(c),touchdevice:function(){try{return"ontouchstart"in document.documentElement}catch(a){return!1}}(),android:c.indexOf("android")>-1,ios:c.match(/iphone/i)||c.match(/ipod/i)||c.match(/ipad/i),iphone:c.match(/iphone/i)||c.match(/ipod/i),ipad:c.match(/ipad/i),winphone:c.match(/Windows Phone/i),blackberry:c.match(/BlackBerry/i)||c.match(/BB10/i),webos:c.match(/webOS/i)};e.touchonlydevice=e.touchdevice&&(e.android||e.ios||e.winphone||e.blackberry||e.webos);var f,g,h,i,j=b.config,k="",l="",m="",n="",o="",p="";_WMode=null!=j.WMode||null!=j.wmode?j.wmode||j.WMode:"direct";var q=null!=j.DOC?unescape(j.DOC):null,r="FlowPaperViewer_Instance"+("undefined"===a?"":a),s=null!=j.JSONDataType?j.JSONDataType:"json";if(null!=q&&(f=FLOWPAPER.translateUrlByFormat(q,"swf"),g=FLOWPAPER.translateUrlByFormat(q,"pdf"),m=FLOWPAPER.translateUrlByFormat(q,s),h=FLOWPAPER.translateUrlByFormat(q,"jpg"),i=FLOWPAPER.translateUrlByFormat(q,"svg"),k=FLOWPAPER.translateUrlByFormat(q,"jpg"),l=FLOWPAPER.translateUrlByFormat(q,"jpgpageslice")),f=null!=j.SwfFile?j.SwfFile:f,f=null!=j.SWFFile?j.SWFFile:f,g=null!=j.PDFFile?j.PDFFile:g,h=null!=j.IMGFiles?j.IMGFiles:h,h=null!=j.PageImagePattern?j.PageImagePattern:h,i=null!=j.SVGFiles?j.SVGFiles:i,k=null!=j.ThumbIMGFiles?j.ThumbIMGFiles:k,l=null!=j.HighResIMGFiles?j.HighResIMGFiles:l,m=null!=j.JSONFile?j.JSONFile:m,n=null!=j.jsDirectory?j.jsDirectory:FLOWPAPER.detectjsdir(),o=null!=j.cssDirectory?j.cssDirectory:FLOWPAPER.detectcssdir(),p=null!=j.localeDirectory?j.localeDirectory:"locale/",null!=f&&0==f.indexOf("{")&&f.indexOf("[*,")>0&&f.indexOf("]")>0&&(f=escape(f)),FLOWPAPER.getLocationHashParameter){var t=FLOWPAPER.getLocationHashParameter("page");null!=t&&(j.StartAtPage=t)}if(FLOWPAPER.getLocationHashParameter){var u=FLOWPAPER.getLocationHashParameter("PreviewMode");null!=u&&(j.PreviewMode=u)}if("FrontPage"==j.PreviewMode&&(null!=h&&h.length>0||null!=k&&k.length>0))return void FLOWPAPER.initFrontPagePreview(a,b,null!=k&&k.length>0?k:h);if(FLOWPAPER.authenticated&&(f=FLOWPAPER.appendUrlParameter(f,FLOWPAPER.authenticated.getParams()),g=FLOWPAPER.appendUrlParameter(g,FLOWPAPER.authenticated.getParams()),h=FLOWPAPER.appendUrlParameter(h,FLOWPAPER.authenticated.getParams()),i=FLOWPAPER.appendUrlParameter(i,FLOWPAPER.authenticated.getParams()),m=FLOWPAPER.appendUrlParameter(m,FLOWPAPER.authenticated.getParams()),k=FLOWPAPER.appendUrlParameter(k,FLOWPAPER.authenticated.getParams()),l=FLOWPAPER.appendUrlParameter(l,FLOWPAPER.authenticated.getParams()),j.BrandingLogo=FLOWPAPER.appendUrlParameter(j.BrandingLogo,FLOWPAPER.authenticated.getParams())),window[r]=flashembed(a,{src:n+"../FlowPaperViewer.swf",version:[11,0],expressInstall:"js/expressinstall.swf",wmode:_WMode},{ElementId:a,SwfFile:f,PdfFile:g,IMGFiles:h,SVGFiles:i,JSONFile:m,ThumbIMGFiles:k,HighResIMGFiles:l,useCustomJSONFormat:j.useCustomJSONFormat,JSONPageDataFormat:j.JSONPageDataFormat,JSONDataType:s,Scale:null!=j.Scale?j.Scale:.8,ZoomTransition:null!=j.ZoomTransition?j.ZoomTransition:"easeOut",ZoomTime:null!=j.ZoomTime?j.ZoomTime:.5,ZoomInterval:j.ZoomInterval?j.ZoomInterval:.1,TouchZoomInterval:j.TouchZoomInterval?j.TouchZoomInterval:1.5,FitPageOnLoad:null!=j.FitPageOnLoad&&j.FitPageOnLoad,FitWidthOnLoad:null!=j.FitWidthOnLoad&&j.FitWidthOnLoad,FullScreenAsMaxWindow:null!=j.FullScreenAsMaxWindow&&j.FullScreenAsMaxWindow,ProgressiveLoading:null!=j.ProgressiveLoading&&j.ProgressiveLoading,MinZoomSize:null!=j.MinZoomSize?j.MinZoomSize:.2,MaxZoomSize:null!=j.MaxZoomSize?j.MaxZoomSize:5,SearchMatchAll:null!=j.SearchMatchAll&&j.SearchMatchAll,SearchServiceUrl:j.SearchServiceUrl,InitViewMode:j.InitViewMode,DisableOverflow:j.DisableOverflow,DisplayRange:j.DisplayRange,TouchInitViewMode:j.TouchInitViewMode,PreviewMode:j.PreviewMode,PublicationTitle:j.PublicationTitle,LoaderImage:j.LoaderImage,MixedMode:j.MixedMode,EnableWebGL:j.EnableWebGL,AutoDetectLinks:j.AutoDetectLinks,ImprovedAccessibility:j.ImprovedAccessibility,BitmapBasedRendering:null!=j.BitmapBasedRendering&&j.BitmapBasedRendering,StartAtPage:null!=j.StartAtPage&&(""+j.StartAtPage).length>0&&!isNaN(j.StartAtPage)?j.StartAtPage:1,FontsToLoad:j.FontsToLoad,PrintPaperAsBitmap:null!=j.PrintPaperAsBitmap?j.PrintPaperAsBitmap:!(!d.safari&&!d.mozilla),PrintFn:j.PrintFn,AutoAdjustPrintSize:null==j.AutoAdjustPrintSize||j.AutoAdjustPrintSize,EnableSearchAbstracts:null==j.EnableSearchAbstracts||j.EnableSearchAbstracts,EnableCornerDragging:null==j.EnableCornerDragging||j.EnableCornerDragging,BackgroundColor:j.BackgroundColor,PanelColor:j.PanelColor,BackgroundAlpha:j.BackgroundAlpha,UIConfig:j.UIConfig,PageIndexAdjustment:j.PageIndexAdjustment,SharingUrl:j.SharingUrl,BrandingLogo:j.BrandingLogo,BrandingUrl:j.BrandingUrl,ViewModeToolsVisible:null==j.ViewModeToolsVisible||j.ViewModeToolsVisible,ZoomToolsVisible:null==j.ZoomToolsVisible||j.ZoomToolsVisible,NavToolsVisible:null==j.NavToolsVisible||j.NavToolsVisible,CursorToolsVisible:null==j.CursorToolsVisible||j.CursorToolsVisible,SearchToolsVisible:null==j.SearchToolsVisible||j.SearchToolsVisible,AnnotationToolsVisible:null==j.AnnotationToolsVisible||j.AnnotationToolsVisible,StickyTools:j.StickyTools,UserCollaboration:j.UserCollaboration,CurrentUser:j.CurrentUser,Toolbar:j.Toolbar,BottomToolbar:j.BottomToolbar,DocSizeQueryService:j.DocSizeQueryService,RenderingOrder:j.RenderingOrder,TrackingNumber:j.TrackingNumber,localeChain:null!=j.localeChain?j.localeChain:"en_US",jsDirectory:n,cssDirectory:o,localeDirectory:p,signature:j.signature,key:j.key}),j.TrackingNumber&&j.TrackingNumber.length>0){var v=f;v&&(v=v.indexOf("/")>0?v.substr(v.lastIndexOf("/")+1):v,v=v.replace("_[*,0]",""),v=v.replace(".swf",".pdf"),v=v.indexOf("}")>0?v.substr(0,v.lastIndexOf(",")):v);var w=g;w&&(w=w.indexOf("/")>0?w.substr(w.lastIndexOf("/")+1):w,w=w.replace("_[*,0]","").replace("_[*,2]",""));var x=m;m&&(x=x.indexOf("/")>0?x.substr(x.lastIndexOf("/")+1):x,x=x.replace("{page}",""),x=x.replace(".js",".pdf")),jQuery("#"+a).data("TrackingDocument",w||v||x),jQuery("#"+a).data("TrackingNumber",j.TrackingNumber)}},function(){window.FLOWPAPER||(window.FLOWPAPER={}),FLOWPAPER.detectjsdir=function(){return jQuery('script[src$="flowpaper.js"]').length>0?jQuery('script[src$="flowpaper.js"]').attr("src").replace("flowpaper.js",""):"js/"},FLOWPAPER.detectcssdir=function(){return jQuery('link[href$="flowpaper.css"]').length>0?jQuery('link[href$="flowpaper.css"]').attr("href").replace("flowpaper.css",""):"css/"},FLOWPAPER.authenticated=null,FLOWPAPER.getLocationHashParameter=function(a){var b=location.hash.substr(1);if(b.indexOf(a+"=")>=0){var c=b.substr(b.indexOf(a+"=")).split("&")[0].split("=")[1];return c}return null},FLOWPAPER.translateUrlByFormat=function(a,b){return 0==a.indexOf("{")&&"swf"!=b?(a=a.substring(1,a.lastIndexOf(",")),"pdf"!=b&&(a=a.replace("[*,0]","{page}"),a=a.replace("[*,2]","{page}"))):"swf"==b&&0!=a.indexOf("{")&&(a=a.replace("{page}",""),a=a.replace(/&/g,"%26"),a=a.replace(/ /g,"%20")),"jpgpageslice"==b&&(a+="&sector={sector}"),a=null!=a&&a.indexOf("{format}")>0?a.replace("{format}",b):null},FLOWPAPER.translateUrlByDocument=function(a,b){return null!=a&&a.indexOf("{doc}")>0?a.replace("{doc}",b):null},FLOWPAPER.animateDenyEffect=function(a,b,c,d,e){window.setTimeout(function(){var e=c/(2*d+1),f=1+60/(d*d);jQuery(a).stop(!0,!0);for(var g=0;g<=d;g++){for(var h=-1;h<=1;h+=2)jQuery(a).animate({marginLeft:(g!=d)*h*b},{duration:e,queue:!0});b/=f}},500)},FLOWPAPER.initFrontPagePreview=function(a,b,c){var d=!0;jQuery(document.body).css("background-color",jQuery("#"+a).css("background-color"));var e=new Image;jQuery(e).bind("load",function(){jQuery(document.body).append("<div id='flowpaper_frontpagePreview_"+a+"'><form class='flowpaper_htmldialog' method='POST' style='display:none;top:100px;margin:"+(jQuery(window).height()>350?"50px auto":"0px auto")+";padding-bottom:0px;'><div class='flowpaper_preview_container flowpaper_publications flowpaper_publication_csstransforms3d' style='overflow-y:hidden;overflow-x:hidden;text-align:center;margin: -25px -25px 0px;padding: 15px 25px 20px 25px;'><div class='flowpaper_publication flowpaper_publication_csstransforms3d' style='cursor:pointer;margin-bottom:20px;'><img src='"+c.replace("{page}",1)+"' /></div>"+(null!=b.config.PublicationTitle&&b.config.PublicationTitle.length>0?"<h1 class='flowpaper_htmldialog-title' style='margin-bottom:0px;'>"+unescape(b.config.PublicationTitle)+"</h1>":"")+"</div></form></div>");var e=d?1e3:0,f=d?e/3:0,g=260;jQuery(".flowpaper_htmldialog").css({height:"0px",display:"block"}),jQuery(".flowpaper_htmldialog").animate({height:g+"px",top:"0px"},{duration:f,complete:function(){var c=jQuery("#flowpaper_frontpagePreview_"+a),d=c.find(".flowpaper_preview_container").width(),f=c.find(".flowpaper_preview_container").height();c.find(".flowpaper_htmldialog").css({height:""}),c.find(".flowpaper_preview_container").append("<div class='flowpaper_frontpagePreview_play' style='position:absolute;left:"+d/2+"px;top:"+(f/2-(null!=b.config.PublicationTitle?50:25))+"px;width:0px;height:0px;border-bottom:50px solid transparent;border-top:50px solid transparent;border-left:50px solid #AAAAAA;'></div>");var g=c.find(".flowpaper_frontpagePreview_play");g.css({opacity:.85,cursor:"pointer"}),c.find(".flowpaper_publication, .flowpaper_frontpagePreview_play").on("mouseover",function(a){jQuery(g).css({"border-left":"50px solid #FFFFFF",opacity:.85})}),c.find(".flowpaper_publication, .flowpaper_frontpagePreview_play").on("mouseout",function(a){jQuery(g).css({"border-left":"50px solid #AAAAAA"})}),c.find(".flowpaper_publication, .flowpaper_frontpagePreview_play").on("mousedown",function(c){jQuery("#flowpaper_frontpagePreview_"+a).remove(),b.config.PreviewMode=null,jQuery("#"+a).FlowPaperViewer(b)}),jQuery(".flowpaper_publication").animate({opacity:1},{step:function(a,b){var c=-7,d=-40,e=d-c,f=e*a;jQuery(".flowpaper_publication").css({"-webkit-transform":"perspective(300) rotateY("+(d-f)+"deg)","-moz-transform":"rotateY("+(d-f)+"deg)","box-shadow":"5px 5px 20px rgba(51, 51, 51, "+a+")"})},duration:e})}})}),e.src=c.replace("{page}",1)},FLOWPAPER.requireSignature=function(a,b,c,d){if($.cookie("FLOWPAPER_AUTH")){var e=JSON.parse($.cookie("FLOWPAPER_AUTH"));FLOWPAPER.authenticated={Policy:e.policy,Signature:e.signature,KeyPairId:e.keypairid,getParams:function(){return"Policy="+this.Policy+"&Signature="+this.Signature+"&Key-Pair-Id="+keypairid}},$("#loginForm").remove(),$("#documentViewer").show(),initViewer()}$("#documentViewer").hide(),FLOWPAPER.initLoginForm(b,!0,function(){$("#loginForm").find("form").submit(function(b){return b.preventDefault(),$.post(a,{publicationId:c+d,password:$("#loginForm").find("#txt_flowpaper_password").val()},function(a){if(a&&"ACCEPT"==a.result){var b=FLOWPAPER.getParameterByName("Policy",a.url),c=FLOWPAPER.getParameterByName("Signature",a.url),d=FLOWPAPER.getParameterByName("Key-Pair-Id",a.url);$.cookie("FLOWPAPER_AUTH",JSON.stringify({Policy:b,Signature:c,KeyPairId:d}),{expires:1}),FLOWPAPER.authenticated={Policy:b,Signature:c,KeyPairId:d,getParams:function(){return"Policy="+this.Policy+"&Signature="+this.Signature+"&Key-Pair-Id="+d}},$("#loginForm").remove(),$("#documentViewer").show(),initViewer()}else FLOWPAPER.animateDenyEffect("#loginForm",25,500,7,"hor")}),!1})})},FLOWPAPER.initLoginForm=function(a,b,c){jQuery(document.body).css("background-color","#dedede");var d=new Image;jQuery(d).bind("load",function(){jQuery(document.body).append("<div id='loginForm'><form class='flowpaper_htmldialog' method='POST' style='display:none;top:100px;margin:"+(jQuery(window).height()>500?"50px auto":"0px auto")+"'><div class='flowpaper_publications flowpaper_publication_csstransforms3d' style='overflow-y:hidden;overflow-x:hidden;text-align:center;background: #f7f7f7;margin: -25px -25px 0px;padding: 15px 25px 0px 25px;'><div class='flowpaper_publication flowpaper_publication_csstransforms3d' id='flowpaper_publication1'><img src='"+a.replace("{page}",1)+"' /></div><h1 class='flowpaper_htmldialog-title'>password protected publication</h1><input type='password' id='txt_flowpaper_password' name='txt_flowpaper_password' class='flowpaper_htmldialog-input' placeholder='Enter password'><input type='submit' value='Submit' class='flowpaper_htmldialog-button'></div></form></div>");var d=b?1e3:0,e=b?d/3:0,f=400;jQuery(".flowpaper_htmldialog").css({height:"0px",display:"block"}),jQuery(".flowpaper_htmldialog").animate({height:f+"px",top:"0px"},{duration:e,complete:function(){jQuery(".flowpaper_htmldialog").css({height:""}),jQuery(".flowpaper_publication").animate({opacity:1},{step:function(a,b){var c=-7,d=-40,e=d-c,f=e*a;jQuery(".flowpaper_publication").css({"-webkit-transform":"perspective(300) rotateY("+(d-f)+"deg)","-moz-transform":"rotateY("+(d-f)+"deg)","box-shadow":"5px 5px 20px rgba(51, 51, 51, "+a+")"})},duration:d})}}),c&&c()}),d.src=a.replace("{page}",1)},FLOWPAPER.getParameterByName=function(a,b){b||(b=window.location.href),a=a.replace(/[\[\]]/g,"\\$&");var c=RegExp("[?&]"+a+"(=([^&#]*)|&|#|$)"),d=c.exec(b);return d?d[2]?decodeURIComponent(d[2].replace(/\+/g," ")):"":null},FLOWPAPER.appendUrlParameter=function(a,b){return a&&(a=a.indexOf("?")>-1?a+"&"+b:a+"?"+b),a},FLOWPAPER.blockedNewWindow=function(a){var b=!1;try{b=void 0===a||(!a||!a.closed)&&(!a||!a.document)}catch(c){}return b}}(),function(){function a(a,b){if(b)for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c]);return a}function b(a,b){var c=[];for(var d in a)a.hasOwnProperty(d)&&(c[d]=b(a[d]));return c}function c(b,c,d){var f=window["eb.browser"];f.version=f.version?f.version:"";var g=window["eb.platform"],h=f.mozilla&&f.version.split(".")[0]>=3||f.chrome||f.msie&&f.version.split(".")[0]>=8||f.safari||f.opera,i=f.mozilla&&f.version.split(".")[0]>=4&&!f.seamonkey||f.chrome||f.msie&&f.version.split(".")[0]>=9||f.safari&&f.version.split(".")[0]>=535;if(d.RenderingOrder||null==d.SwfFile||(d.RenderingOrder="flash"),!d.RenderingOrder&&null!=d.JSONFile&&d.JSONFile&&(d.RenderingOrder="html"),d.RenderingOrder||null==d.PdfFile||(d.RenderingOrder="html5"),FLOWPAPER.getLocationHashParameter&&FLOWPAPER.getLocationHashParameter("mobilepreview")&&(d.RenderingOrder=d.RenderingOrder.replace(/flash/g,"html"),g.mobilepreview=!0),!g.touchdevice&&g.ios&&(d.RenderingOrder=d.RenderingOrder.replace(/flash/g,"html")),g.ios){var j=navigator.appVersion.match(/OS (\d+)_(\d+)_?(\d+)?/);null!=j&&j.length>1&&(g.iosversion=[parseInt(j[1],10),parseInt(j[2],10),parseInt(j[3]||0,10)][0])}var k=jQuery(b).attr("id"),m="FlowPaperViewer_Instance"+("undefined"===k?"":k);if((0==d.RenderingOrder.indexOf("flash")||d.RenderingOrder.indexOf("flash")>0&&!h||d.RenderingOrder.indexOf("flash")>0&&d.RenderingOrder.indexOf("html5")>=0&&!i)&&l.isSupported(c.version)){if(d.Toolbar){var n=jQuery(b).wrap("<div class='flowpaper_toolbar_wrapper' style='"+jQuery(b).attr("style")+"'></div>").parent();n.prepend(jQuery(d.Toolbar)),jQuery(b).css({left:"0px",top:"0px",position:"relative",width:"100%",height:100*(1-jQuery(n).find(".flowpaper_toolbar").height()/jQuery(b).parent().height())+"%"}).addClass("flowpaper_viewer")}window.ViewerMode="flash",d.BottomToolbar&&0!=d.AnnotationToolsVisible&&jQuery.get(d.BottomToolbar,function(a){n.append(a),jQuery(b).css({height:jQuery(b).height()-jQuery(n).find(".flowpaper_bottomToolbar").height()})}),d.Toolbar?jQuery.getScript(d.jsDirectory+"flowpaper_flashhandlers_htmlui.js",function(){FLOWPAPER.bindFlashEventHandlers(b),b.innerHTML=l.getHTML(c,d),b.firstChild.dispose=function(){d.Toolbar?jQuery($FlowPaper("documentViewer")).parent().parent().remove():$FlowPaper(k).remove()}}):(b.innerHTML=l.getHTML(c,d),b.firstChild.dispose=function(){d.Toolbar?jQuery($FlowPaper("documentViewer")).parent().parent().remove():$FlowPaper(k).remove()})}else if(0==d.RenderingOrder.indexOf("flash")&&c.expressInstall&&l.isSupported([6,65])){if(window.ViewerMode="flash",d.Toolbar){var n=jQuery(b).wrap("<div class='flowpaper_toolbar_wrapper' style='"+jQuery(b).attr("style")+"'></div>").parent();jQuery(b).css({left:"0px",top:"0px",position:"relative",width:"100%",height:100*(1-jQuery(n).find(".flowpaper_toolbar").height()/jQuery(b).parent().height())+"%"}).addClass("flowpaper_viewer"),n.prepend(jQuery(d.Toolbar))}d.BottomToolbar&&0!=d.AnnotationToolsVisible&&jQuery.get(d.BottomToolbar,function(a){n.append(a),jQuery(b).css({height:jQuery(b).height()-jQuery(n).find(".flowpaper_bottomToolbar").height()})}),d.Toolbar?jQuery.getScript(d.jsDirectory+"flowpaper_flashhandlers_htmlui.js",function(){FLOWPAPER.bindFlashEventHandlers(b),b.innerHTML=l.getHTML(a(c,{src:c.expressInstall}),{MMredirectURL:location.href,MMplayerType:"PlugIn",MMdoctitle:document.title}),b.firstChild.dispose=function(){d.Toolbar?jQuery($FlowPaper("documentViewer")).parent().parent().remove():$FlowPaper(k).remove()}}):(b.innerHTML=l.getHTML(a(c,{src:c.expressInstall}),{MMredirectURL:location.href,MMplayerType:"PlugIn",MMdoctitle:document.title}),b.firstChild.dispose=function(){d.Toolbar?jQuery($FlowPaper("documentViewer")).parent().parent().remove():$FlowPaper(k).remove()})}else{window.ViewerMode="html";jQuery(document).ready(function(){d.Toolbar&&(jQuery.fn.showFullScreen=function(){$FlowPaper(jQuery(this).attr("id")).openFullScreen()}),jQuery.ajaxSetup({cache:!0});var a=new jQuery.Deferred;window.FlowPaperViewer_HTML?a.resolve():jQuery.getScript(d.jsDirectory+"FlowPaperViewer.js").then(function(){a.resolve()}).fail(function(){0==arguments[0].readyState}),a.then(function(){d.RenderingOrder||(d.RenderingOrder="",null!=d.PdfFile&&(d.RenderingOrder="html5"),null!=d.SwfFile&&(d.RenderingOrder+=(d.RenderingOrder.length>0?",":"")+"flash")),null!=d.JSONFile&&d.JSONFile.length>0&&null!=d.IMGFiles&&d.IMGFiles.length>0&&(f.safari||g.android||f.msie&&f.version<=9||g.mobilepreview?d.RenderingOrder="html"+(d.RenderingOrder.length>0?",":"")+d.RenderingOrder:d.RenderingOrder+=(d.RenderingOrder.length>0?",":"")+"html");var a=d.RenderingOrder.split(","),b=null,c=d.FontsToLoad&&d.FontsToLoad.length>0;a&&1==a.length&&null!=d.JSONFile&&d.JSONFile.length>0&&null!=d.IMGFiles&&d.IMGFiles.length>0&&!i&&(a[1]=d.RenderingOrder[0],
a[0]="html"),b=!c&&null!=d.PdfFile&&d.PdfFile.length>0&&d.RenderingOrder.split(",").length>=1&&i&&("html5"==a[0]||a.length>1&&"flash"==a[0]&&"html5"==a[1])?new CanvasPageRenderer(k,d.PdfFile,d.jsDirectory,{jsonfile:d.JSONFile,pageImagePattern:d.IMGFiles,pageThumbImagePattern:d.ThumbIMGFiles,compressedJSONFormat:!d.useCustomJSONFormat,JSONPageDataFormat:d.JSONPageDataFormat,JSONDataType:d.JSONDataType,MixedMode:d.MixedMode,signature:d.signature,PageIndexAdjustment:d.PageIndexAdjustment,DisableShadows:d.DisableOverflow,DisplayRange:d.DisplayRange}):new ImagePageRenderer(k,{jsonfile:d.JSONFile,pageImagePattern:d.IMGFiles,pageThumbImagePattern:d.ThumbIMGFiles,pageHighResImagePattern:d.HighResIMGFiles,pageSVGImagePattern:d.SVGFiles,compressedJSONFormat:!d.useCustomJSONFormat,JSONPageDataFormat:d.JSONPageDataFormat,JSONDataType:d.JSONDataType,SVGMode:d.RenderingOrder.toLowerCase().indexOf("svg")>=0,MixedMode:d.MixedMode,signature:d.signature,PageIndexAdjustment:d.PageIndexAdjustment,DisableShadows:d.DisableOverflow,DisableOverflow:d.DisableOverflow,DisplayRange:d.DisplayRange,FontsToLoad:d.FontsToLoad},d.jsDirectory);var e=window[m]=new FlowPaperViewer_HTML({rootid:k,Toolbar:null!=d.Toolbar?d.Toolbar:null,BottomToolbar:null!=d.BottomToolbar?d.BottomToolbar:null,instanceid:m,document:{SWFFile:d.SwfFile,IMGFiles:d.IMGFiles,ThumbIMGFiles:d.ThumbIMGFiles,JSONFile:d.JSONFile,PDFFile:d.PdfFile,Scale:d.Scale,FitPageOnLoad:d.FitPageOnLoad,FitWidthOnLoad:d.FitWidthOnLoad,FullScreenAsMaxWindow:d.FullScreenAsMaxWindow,MinZoomSize:d.MinZoomSize,MaxZoomSize:d.MaxZoomSize,SearchMatchAll:d.SearchMatchAll,InitViewMode:d.InitViewMode,DisableOverflow:d.DisableOverflow,DisplayRange:d.DisplayRange,TouchInitViewMode:d.TouchInitViewMode,PreviewMode:d.PreviewMode,MixedMode:d.MixedMode,LoaderImage:d.LoaderImage,SharingUrl:d.SharingUrl,BrandingLogo:d.BrandingLogo,BrandingUrl:d.BrandingUrl,EnableWebGL:d.EnableWebGL,StartAtPage:d.StartAtPage,RenderingOrder:d.RenderingOrder,useCustomJSONFormat:d.useCustomJSONFormat,JSONPageDataFormat:d.JSONPageDataFormat,JSONDataType:d.JSONDataType,ZoomTime:d.ZoomTime,ZoomTransition:d.ZoomTransition,ZoomInterval:d.ZoomInterval,TouchZoomInterval:d.TouchZoomInterval,ViewModeToolsVisible:d.ViewModeToolsVisible,ZoomToolsVisible:d.ZoomToolsVisible,NavToolsVisible:d.NavToolsVisible,CursorToolsVisible:d.CursorToolsVisible,SearchToolsVisible:d.SearchToolsVisible,AnnotationToolsVisible:d.AnnotationToolsVisible,StickyTools:d.StickyTools,AutoDetectLinks:d.AutoDetectLinks,ImprovedAccessibility:d.ImprovedAccessibility,PrintPaperAsBitmap:d.PrintPaperAsBitmap,PrintFn:d.PrintFn,AutoAdjustPrintSize:d.AutoAdjustPrintSize,EnableSearchAbstracts:d.EnableSearchAbstracts,EnableCornerDragging:d.EnableCornerDragging,UIConfig:d.UIConfig,BackgroundColor:d.BackgroundColor,PanelColor:d.PanelColor,localeChain:d.localeChain},renderer:b,key:d.key,jsDirectory:d.jsDirectory,localeDirectory:d.localeDirectory,cssDirectory:d.cssDirectory,docSizeQueryService:d.DocSizeQueryService,UserCollaboration:d.UserCollaboration,CurrentUser:d.CurrentUser});e.initialize(),e.bindEvents(),e.load=e.loadFromUrl,e.loadDoc=e.loadDoc,e.fitWidth=e.fitwidth,e.fitHeight=e.fitheight,e.gotoPage=e.gotoPage,e.getCurrPage=e.getCurrPage,e.getTotalPages=e.getTotalPages,e.nextPage=e.next,e.prevPage=e.previous,e.setZoom=e.Zoom,e.Zoom=e.Zoom,e.ZoomIn=e.ZoomIn,e.ZoomOut=e.ZoomOut,e.openFullScreen=e.openFullScreen,e.sliderChange=e.sliderChange,e.searchText=e.searchText,e.expandOutline=e.expandOutline,e.resize=e.resize,e.rotate=e.rotate,e.addLink=e.addLink,e.addImage=e.addImage,e.addVideo=e.addVideo,e.switchMode=e.switchMode,e.printPaper=e.printPaper,e.highlight=e.highlight,e.getCurrentRenderingMode=e.getCurrentRenderingMode,e.setCurrentCursor=e.setCurrentCursor,e.showFullScreen=e.openFullScreen,b.initialize(function(){e.document.numPages=b.getNumPages(),e.document.dimensions=b.getDimensions(),e.show(),window[m]=e},{StartAtPage:d.StartAtPage,MixedMode:d.MixedMode})})})}jQuery(window).bind("hashchange",function(){var a=FLOWPAPER.getLocationHashParameter("page");a&&$FlowPaper(k).gotoPage(a)}),e&&(window[c.id]=document.getElementById(c.id)),a(this,{getRoot:function(){return b},getOptions:function(){return c},getConf:function(){return d},getApi:function(){return b.firstChild}})}var d=navigator.userAgent.toLowerCase(),e=document.all,f="function"==typeof jQuery,g=/(\d+)[^\d]+(\d+)[^\d]*(\d*)/,h=/msie/.test(d)&&function(){try{return!!new ActiveXObject("htmlfile")}catch(a){return!1}}()&&"Win64"==navigator.platform&&document.documentElement.clientWidth==screen.width,i=function(){try{return"ontouchstart"in document.documentElement}catch(a){return!1}}()||d.match(/touch/i),j=d.indexOf("android")>-1||d.match(/iphone/i)||d.match(/ipod/i)||d.match(/ipad/i)||d.match(/Windows Phone/i)||d.match(/BlackBerry/i)||d.match(/webOS/i),k={width:"100%",height:"100%",id:"_"+(""+Math.random()).slice(9),allowfullscreen:!0,allowscriptaccess:"always",quality:"high",allowFullScreenInteractive:!0,version:[10,0],onFail:null,expressInstall:null,w3c:!1,cachebusting:!1};window.isTouchScreen=i&&(j||h),window.attachEvent&&window.attachEvent("onbeforeunload",function(){__flash_unloadHandler=function(){},__flash_savedUnloadHandler=function(){}}),window.dispatchJQueryEvent=function(a,b,c){c.length>0&&c[0].note&&(c[0].note=c[0].note.replace(/%22/g,'"').replace(/%5c/g,"\\").replace(/%26/g,"&").replace(/%25/g,"%")),jQuery("#"+a).trigger(b,c)},window.flashembed=function(b,d,e){if("string"==typeof b&&(b=document.getElementById(b.replace("#",""))),b)return b.onclick=function(){return!1},"string"==typeof d&&(d={src:d}),new c(b,a(a({},k),d),e)};var l=a(window.flashembed,{conf:k,getVersion:function(){var a,b;try{b=navigator.plugins["Shockwave Flash"].description.slice(16)}catch(c){try{a=new ActiveXObject("ShockwaveFlash.ShockwaveFlash.7"),b=a&&a.GetVariable("$version")}catch(d){try{a=new ActiveXObject("ShockwaveFlash.ShockwaveFlash.6"),b=a&&a.GetVariable("$version")}catch(e){}}}return b=g.exec(b),b?[b[1],b[3]]:[0,0]},asString:function(a){if(null===a||void 0===a)return null;var c=typeof a;switch("object"==c&&a.push&&(c="array"),c){case"string":return a=a.replace(RegExp('(["\\\\])',"g"),"\\$1"),a=a.replace(/^\s?(\d+\.?\d+)%/,"$1pct"),'"'+a+'"';case"array":return"["+b(a,function(a){return l.asString(a)}).join(",")+"]";case"function":return'"function()"';case"object":var d=[];for(var e in a)a.hasOwnProperty(e)&&d.push('"'+e+'":'+l.asString(a[e]));return"{"+d.join(",")+"}"}return(a+"").replace(/\s/g," ").replace(/\'/g,'"')},getHTML:function(b,c){b=a({},b),b.id=b.id+(" "+Math.random()).slice(9);var d='<object width="'+b.width+'" height="'+b.height+'" id="'+b.id+'" name="'+b.id+'"';b.cachebusting&&(b.src+=(b.src.indexOf("?")!=-1?"&":"?")+Math.random()),d+=b.w3c||!e?' data="'+b.src+'" type="application/x-shockwave-flash"':' classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"',d+=">",(b.w3c||e)&&(d+='<param name="movie" value="'+b.src+'" />'),b.width=b.height=b.id=b.w3c=b.src=null,b.onFail=b.version=b.expressInstall=null;for(var f in b)b[f]&&(d+='<param name="'+f+'" value="'+b[f]+'" />');var g="";if(c){for(var h in c)if(void 0!==c[h]&&"unknown"!=typeof c[h]&&"Toolbar"!=h&&"BottomToolbar"!=h){var i=c[h];"JSONFile"==h&&(i=escape(i)),g+=h+"="+(/function|object/.test(typeof i)?l.asString(i):i)+"&"}g=g.slice(0,-1),d+='<param name="flashvars" value=\''+g+"' />"}return d+="</object>"},isSupported:function(a){return m[0]>a[0]||m[0]==a[0]&&m[1]>=a[1]}}),m=l.getVersion();if(!f)throw Error("jQuery missing!");jQuery.fn.flashembed=function(a,b){return this.each(function(){jQuery(this).data("flashembed",flashembed(this,a,b))})},jQuery.fn.FlowPaperViewer=function(a){jQuery("#"+this.attr("id")).empty();var b=new FlowPaperViewerEmbedding(this.attr("id"),a);return this.element=jQuery("#"+b.id),this.element}}(),"undefined"==typeof PDFJS&&(("undefined"!=typeof window?window:this).PDFJS={}),window.unsupportedPDFJSieversion=getIEversion()>0&&getIEversion()<9,function(){function a(a,b){return new c(this.slice(a,b))}function b(a,b){arguments.length<2&&(b=0);for(var c=0,d=a.length;c<d;++c,++b)this[b]=255&a[c]}function c(c){var d,e,f;if("number"==typeof c)for(d=[],e=0;e<c;++e)d[e]=0;else if("slice"in c)d=c.slice(0);else for(d=[],e=0,f=c.length;e<f;++e)d[e]=c[e];return d.subarray=a,d.buffer=d,d.byteLength=d.length,d.set=b,"object"==typeof c&&c.buffer&&(d.buffer=c.buffer),d}return"undefined"!=typeof Uint8Array?(void 0===Uint8Array.prototype.subarray&&(Uint8Array.prototype.subarray=function(a,b){return new Uint8Array(this.slice(a,b))},Float32Array.prototype.subarray=function(a,b){return new Float32Array(this.slice(a,b))}),void("undefined"==typeof Float64Array&&(window.Float64Array=Float32Array))):(window.Uint8Array=c,window.Int8Array=c,window.Uint32Array=c,window.Int32Array=c,window.Uint16Array=c,window.Float32Array=c,void(window.Float64Array=c))}(),function(){window.URL||(window.URL=window.webkitURL)}(),function checkObjectDefinePropertyCompatibility(){if(!window.unsupportedPDFJSieversion){if(void 0!==Object.defineProperty){var definePropertyPossible=!0;try{Object.defineProperty(new Image,"id",{value:"test"}),eval("var Test = function Test() {};Test.prototype = { get id() { } };Object.defineProperty(new Test(), 'id',{ value: '', configurable: true, enumerable: true, writable: false });")}catch(e){definePropertyPossible=!1}if(definePropertyPossible)return}Object.defineProperty=function(a,b,c){delete a[b],"get"in c&&a.__defineGetter__(b,c.get),"set"in c&&a.__defineSetter__(b,c.set),"value"in c&&(a.__defineSetter__(b,function(a){return this.__defineGetter__(b,function(){return a}),a}),a[b]=c.value)}}}(),function(){if(!window.unsupportedPDFJSieversion){var a=XMLHttpRequest.prototype,b=new XMLHttpRequest;if("overrideMimeType"in b||Object.defineProperty(a,"overrideMimeType",{value:function(a){}}),!("responseType"in b))return PDFJS.disableWorker=!0,Object.defineProperty(a,"responseType",{get:function(){return this._responseType||"text"},set:function(a){"text"!==a&&"arraybuffer"!==a||(this._responseType=a,"arraybuffer"===a&&"function"==typeof this.overrideMimeType&&this.overrideMimeType("text/plain; charset=x-user-defined"))}}),"undefined"!=typeof VBArray?void Object.defineProperty(a,"response",{get:function(){return"arraybuffer"===this.responseType?new Uint8Array(new VBArray(this.responseBody).toArray()):this.responseText}}):void Object.defineProperty(a,"response",{get:function(){if("arraybuffer"!==this.responseType)return this.responseText;var a,b=this.responseText,c=b.length,d=new Uint8Array(c);for(a=0;a<c;++a)d[a]=255&b.charCodeAt(a);return d.buffer}})}}(),function(){if(!("btoa"in window)){var a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";window.btoa=function(b){var c,d,e="";for(c=0,d=b.length;c<d;c+=3){var f=255&b.charCodeAt(c),g=255&b.charCodeAt(c+1),h=255&b.charCodeAt(c+2),i=f>>2,j=(3&f)<<4|g>>4,k=c+1<d?(15&g)<<2|h>>6:64,l=c+2<d?63&h:64;e+=a.charAt(i)+a.charAt(j)+a.charAt(k)+a.charAt(l)}return e}}}(),function(){if(!("atob"in window)){var a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";window.atob=function(b){if(b=b.replace(/=+$/,""),b.length%4===1)throw Error("bad atob input");for(var c,d,e=0,f=0,g="";d=b.charAt(f++);~d&&(c=e%4?64*c+d:d,e++%4)?g+=String.fromCharCode(255&c>>(-2*e&6)):0)d=a.indexOf(d);return g}}}(),function(){void 0===Function.prototype.bind&&(Function.prototype.bind=function(a){var b=this,c=Array.prototype.slice.call(arguments,1),d=function(){var d=c.concat(Array.prototype.slice.call(arguments));return b.apply(a,d)};return d})}(),function(){if(!window.unsupportedPDFJSieversion){var a=document.createElement("div");"dataset"in a||Object.defineProperty(HTMLElement.prototype,"dataset",{get:function(){if(this._dataset)return this._dataset;for(var a={},b=0,c=this.attributes.length;b<c;b++){var d=this.attributes[b];if("data-"===d.name.substring(0,5)){var e=d.name.substring(5).replace(/\-([a-z])/g,function(a,b){return b.toUpperCase()});a[e]=d.value}}return Object.defineProperty(this,"_dataset",{value:a,writable:!1,enumerable:!1}),a},enumerable:!0})}}(),function(){function a(a,b,c,d){var e=a.className||"",f=e.split(/\s+/g);""===f[0]&&f.shift();var g=f.indexOf(b);return g<0&&c&&f.push(b),g>=0&&d&&f.splice(g,1),a.className=f.join(" "),g>=0}if(!window.unsupportedPDFJSieversion){var b=document.createElement("div");if(!("classList"in b)){var c={add:function(b){a(this.element,b,!0,!1)},contains:function(b){return a(this.element,b,!1,!1)},remove:function(b){a(this.element,b,!1,!0)},toggle:function(b){a(this.element,b,!0,!0)}};Object.defineProperty(HTMLElement.prototype,"classList",{get:function(){if(this._classList)return this._classList;var a=Object.create(c,{element:{value:this,writable:!1,enumerable:!0}});return Object.defineProperty(this,"_classList",{value:a,writable:!1,enumerable:!1}),a},enumerable:!0})}}}(),function(){window.unsupportedPDFJSieversion||("console"in window?"bind"in console.log||(console.log=function(a){return function(b){return a(b)}}(console.log),console.error=function(a){return function(b){return a(b)}}(console.error),console.warn=function(a){return function(b){return a(b)}}(console.warn)):window.console={log:function(){},error:function(){},warn:function(){}})}(),function(){function a(a){b(a.target)&&a.stopPropagation()}function b(a){return a.disabled||a.parentNode&&b(a.parentNode)}navigator.userAgent.indexOf("Opera")!==-1&&document.addEventListener("click",a,!0)}(),function(){navigator.userAgent.indexOf("Trident")>=0&&(PDFJS.disableCreateObjectURL=!0)}(),function(){function a(a){var b=a.split(/[-_]/);return b[0]=b[0].toLowerCase(),b.length>1&&(b[1]=b[1].toUpperCase()),b.join("-")}if(!("language"in navigator&&/^[a-z]+(-[A-Z]+)?$/.test(navigator.language))){var b=navigator.language||navigator.userLanguage||"en-US";PDFJS.locale=a(b)}}(),function(){var a=Object.prototype.toString.call(window.HTMLElement).indexOf("Constructor")>0,b=/Android\s[0-2][^\d]/,c=b.test(navigator.userAgent);(a||c)&&(PDFJS.disableRange=!0,PDFJS.disableStream=!0)}(),function(){(!history.pushState||navigator.userAgent.indexOf("Android 2.")>=0)&&(PDFJS.disableHistory=!0)}(),function(){if(window.CanvasPixelArray)"function"!=typeof window.CanvasPixelArray.prototype.set&&(window.CanvasPixelArray.prototype.set=function(a){for(var b=0,c=this.length;b<c;b++)this[b]=a[b]});else{var a,b=!1;if(navigator.userAgent.indexOf("Chrom")>=0?(a=navigator.userAgent.match(/Chrom(e|ium)\/([0-9]+)\./),b=a&&parseInt(a[2])<21):navigator.userAgent.indexOf("Android")>=0?b=/Android\s[0-4][^\d]/g.test(navigator.userAgent):navigator.userAgent.indexOf("Safari")>=0&&(a=navigator.userAgent.match(/Version\/([0-9]+)\.([0-9]+)\.([0-9]+) Safari\//),b=a&&parseInt(a[1])<6),b){var c=window.CanvasRenderingContext2D.prototype;c._createImageData=c.createImageData,c.createImageData=function(a,b){var c=this._createImageData(a,b);return c.data.set=function(a){for(var b=0,c=this.length;b<c;b++)this[b]=a[b]},c}}}}(),function(){function a(a){window.setTimeout(a,20)}/(iPad|iPhone|iPod)/g.test(navigator.userAgent);"requestAnimationFrame"in window||(window.requestAnimationFrame=window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||a)}(),function(){var a=/(iPad|iPhone|iPod)/g.test(navigator.userAgent),b=/Android/g.test(navigator.userAgent);(a||b)&&(PDFJS.maxCanvasPixels=5242880)}(),function(){var a=navigator.userAgent.indexOf("Trident")>=0&&window.parent!==window;a&&(PDFJS.disableFullscreen=!0)}(),jQuery(function(){jQuery("#documentViewer").bind("onExternalLinkClicked",function(a,b){if(window.eb&&window.eb.platform&&window.eb.platform.touchonlydevice)window!=window.top?window.parent.location.href=b:document.location.href=b;else{var c=window.open(b,"_flowpaper_exturl");FLOWPAPER.blockedNewWindow(c)&&(document.location.href=b)}}),jQuery("#documentViewer").bind("onProgress",function(a,b,c){}),jQuery("#documentViewer").bind("onDocumentLoading",function(a){}),jQuery("#documentViewer").bind("onPageLoading",function(a,b){}),jQuery("#documentViewer").bind("onCurrentPageChanged",function(a,b){if(jQuery(this).data("TrackingNumber")){var c=jQuery(this).data("TrackingDocument"),d=c.substr(0,c.indexOf(".pdf")+4);!function(a,b,c,d,e,f,g){a.GoogleAnalyticsObject=e,a[e]=a[e]||function(){(a[e].q=a[e].q||[]).push(arguments)},a[e].l=1*new Date,f=b.createElement(c),g=b.getElementsByTagName(c)[0],f.async=1,f.src=d,g.parentNode.insertBefore(f,g)}(window,document,"script","https://www.google-analytics.com/analytics.js","ga"),ga("create",jQuery(this).data("TrackingNumber"),"auto","FlowPaperEventTracker"),ga("FlowPaperEventTracker.send",{hitType:"event",eventCategory:"PDF Documents",eventAction:"Page View",eventLabel:d+" - page "+b})}}),jQuery("#documentViewer").bind("onDocumentLoaded",function(a,b){}),jQuery("#documentViewer").bind("onPageLoaded",function(a,b){}),jQuery("#documentViewer").bind("onErrorLoadingPage",function(a,b){}),jQuery("#documentViewer").bind("onDocumentLoadedError",function(a,b){}),jQuery("#documentViewer").bind("onDocumentPrinted",function(a,b){}),jQuery("#documentViewer").bind("onPasswordNeeded",function(a,b){})}),function(){var a={version:"0.9.1",name:"PluginDetect",addPlugin:function(b,c){b&&a.isString(b)&&c&&a.isFunc(c.getVersion)&&(b=b.replace(/\s/g,"").toLowerCase(),a.Plugins[b]=c,a.isDefined(c.getVersionDone)||(c.installed=null,c.version=null,c.version0=null,c.getVersionDone=null,c.pluginName=b))},uniqueName:function(){return a.name+"998"},openTag:"<",hasOwnPROP:{}.constructor.prototype.hasOwnProperty,hasOwn:function(b,c){var d;try{d=a.hasOwnPROP.call(b,c)}catch(e){}return!!d},rgx:{str:/string/i,num:/number/i,fun:/function/i,arr:/array/i},toString:{}.constructor.prototype.toString,isDefined:function(a){return void 0!==a},isArray:function(b){return a.rgx.arr.test(a.toString.call(b))},isString:function(b){return a.rgx.str.test(a.toString.call(b))},isNum:function(b){return a.rgx.num.test(a.toString.call(b))},isStrNum:function(b){return a.isString(b)&&/\d/.test(b)},isFunc:function(b){return a.rgx.fun.test(a.toString.call(b))},getNumRegx:/[\d][\d\.\_,\-]*/,splitNumRegx:/[\.\_,\-]/g,getNum:function(b,c){var d=a.isStrNum(b)?(c&&a.isString(c)?RegExp(c):a.getNumRegx).exec(b):null;return d?d[0]:null},compareNums:function(b,c,d){var e,f,g,h=parseInt;if(a.isStrNum(b)&&a.isStrNum(c)){if(a.isDefined(d)&&d.compareNums)return d.compareNums(b,c);for(e=b.split(a.splitNumRegx),f=c.split(a.splitNumRegx),g=0;g<Math.min(e.length,f.length);g++){if(h(e[g],10)>h(f[g],10))return 1;if(h(e[g],10)<h(f[g],10))return-1}}return 0},formatNum:function(b,c){var d,e;if(!a.isStrNum(b))return null;for(a.isNum(c)||(c=4),c--,e=b.replace(/\s/g,"").split(a.splitNumRegx).concat(["0","0","0","0"]),d=0;d<4;d++)/^(0+)(.+)$/.test(e[d])&&(e[d]=RegExp.$2),(d>c||!/\d/.test(e[d]))&&(e[d]="0");return e.slice(0,4).join(",")},pd:{getPROP:function(a,b,c){try{a&&(c=a[b])}catch(d){this.errObj=d}return c},findNavPlugin:function(b){if(b.dbug)return b.dbug;var c=null;if(window.navigator){var d,e,f,g,h,i,j={Find:a.isString(b.find)?RegExp(b.find,"i"):b.find,Find2:a.isString(b.find2)?RegExp(b.find2,"i"):b.find2,Avoid:b.avoid?a.isString(b.avoid)?RegExp(b.avoid,"i"):b.avoid:0,Num:b.num?/\d/:0},k=navigator.mimeTypes,l=navigator.plugins;if(b.mimes&&k)for(g=a.isArray(b.mimes)?[].concat(b.mimes):a.isString(b.mimes)?[b.mimes]:[],d=0;d<g.length;d++){e=0;try{a.isString(g[d])&&/[^\s]/.test(g[d])&&(e=k[g[d]].enabledPlugin)}catch(m){}if(e&&(f=this.findNavPlugin_(e,j),f.obj&&(c=f.obj),c&&!a.dbug))return c}if(b.plugins&&l){for(h=a.isArray(b.plugins)?[].concat(b.plugins):a.isString(b.plugins)?[b.plugins]:[],d=0;d<h.length;d++){e=0;try{h[d]&&a.isString(h[d])&&(e=l[h[d]])}catch(m){}if(e&&(f=this.findNavPlugin_(e,j),f.obj&&(c=f.obj),c&&!a.dbug))return c}if(i=l.length,a.isNum(i))for(d=0;d<i;d++){e=0;try{e=l[d]}catch(m){}if(e&&(f=this.findNavPlugin_(e,j),f.obj&&(c=f.obj),c&&!a.dbug))return c}}}return c},findNavPlugin_:function(a,b){var c=a.description||"",d=a.name||"",e={};return(!b.Find.test(c)||b.Find2&&!b.Find2.test(d)||b.Num&&!b.Num.test(RegExp.leftContext+RegExp.rightContext))&&(!b.Find.test(d)||b.Find2&&!b.Find2.test(c)||b.Num&&!b.Num.test(RegExp.leftContext+RegExp.rightContext))||b.Avoid&&(b.Avoid.test(c)||b.Avoid.test(d))||(e.obj=a),e},getVersionDelimiter:",",findPlugin:function(b){var c,d={status:-3,plugin:0};return a.isString(b)?1==b.length?(this.getVersionDelimiter=b,d):(b=b.toLowerCase().replace(/\s/g,""),c=a.Plugins[b],c&&c.getVersion?(d.plugin=c,d.status=1,d):d):d}},getPluginFileVersion:function(b,c,d,e){var f,g,h,i,j=-1;if(!b)return c;if(e=e||"version",b[e]&&(f=a.getNum(b[e]+"",d)),!f||!c)return c||f||null;for(g=a.formatNum(c).split(a.splitNumRegx),h=a.formatNum(f).split(a.splitNumRegx),i=0;i<g.length;i++){if(j>-1&&i>j&&"0"!=g[i])return c;if(h[i]!=g[i]&&(j==-1&&(j=i),"0"!=g[i]))return c}return f},AXO:function(){var a;try{a=new window.ActiveXObject}catch(b){}return a?null:window.ActiveXObject}(),getAXO:function(b){var c=null;try{c=new a.AXO(b)}catch(d){a.errObj=d}return c&&(a.browser.ActiveXEnabled=!0),c},browser:{detectPlatform:function(){var b,c=window.navigator?navigator.platform||"":"";if(a.OS=100,c){var d=["Win",1,"Mac",2,"Linux",3,"FreeBSD",4,"iPhone",21.1,"iPod",21.2,"iPad",21.3,"Win.*CE",22.1,"Win.*Mobile",22.2,"Pocket\\s*PC",22.3,"",100];for(b=d.length-2;b>=0;b-=2)if(d[b]&&RegExp(d[b],"i").test(c)){a.OS=d[b+1];break}}},detectIE:function(){var b,c,d,e,f,g=this,h=document,i=window.navigator?navigator.userAgent||"":"";g.ActiveXFilteringEnabled=!1,g.ActiveXEnabled=!1;try{g.ActiveXFilteringEnabled=!!window.external.msActiveXFilteringEnabled()}catch(j){}for(e=["Msxml2.XMLHTTP","Msxml2.DOMDocument","Microsoft.XMLDOM","TDCCtl.TDCCtl","Shell.UIHelper","HtmlDlgSafeHelper.HtmlDlgSafeHelper","Scripting.Dictionary"],f=["WMPlayer.OCX","ShockwaveFlash.ShockwaveFlash","AgControl.AgControl"],d=e.concat(f),b=0;b<d.length&&(!a.getAXO(d[b])||a.dbug);b++);if(g.ActiveXEnabled&&g.ActiveXFilteringEnabled)for(b=0;b<f.length;b++)if(a.getAXO(f[b])){g.ActiveXFilteringEnabled=!1;break}c=h.documentMode;try{h.documentMode=""}catch(j){}g.isIE=g.ActiveXEnabled,g.isIE=g.isIE||a.isNum(h.documentMode)||Function("return!1")();try{h.documentMode=c}catch(j){}g.verIE=null,g.isIE&&(g.verIE=(a.isNum(h.documentMode)&&h.documentMode>=7?h.documentMode:0)||(/^(?:.*?[^a-zA-Z])??(?:MSIE|rv\s*\:)\s*(\d+\.?\d*)/i.test(i)?parseFloat(RegExp.$1,10):7))},detectNonIE:function(){var b=this,c=0,d=window.navigator?navigator:{},e=b.isIE?"":d.userAgent||"",f=d.vendor||"",g=d.product||"";b.isGecko=!c&&/Gecko/i.test(g)&&/Gecko\s*\/\s*\d/i.test(e),c=c||b.isGecko,b.verGecko=b.isGecko?a.formatNum(/rv\s*\:\s*([\.\,\d]+)/i.test(e)?RegExp.$1:"0.9"):null,b.isOpera=!c&&/(OPR\s*\/|Opera\s*\/\s*\d.*\s*Version\s*\/|Opera\s*[\/]?)\s*(\d+[\.,\d]*)/i.test(e),c=c||b.isOpera,b.verOpera=b.isOpera?a.formatNum(RegExp.$2):null,b.isEdge=!c&&/(Edge)\s*\/\s*(\d[\d\.]*)/i.test(e),c=c||b.isEdge,b.verEdgeHTML=b.isEdge?a.formatNum(RegExp.$2):null,b.isChrome=!c&&/(Chrome|CriOS)\s*\/\s*(\d[\d\.]*)/i.test(e),c=c||b.isChrome,b.verChrome=b.isChrome?a.formatNum(RegExp.$2):null,b.isSafari=!c&&(/Apple/i.test(f)||!f)&&/Safari\s*\/\s*(\d[\d\.]*)/i.test(e),c=c||b.isSafari,b.verSafari=b.isSafari&&/Version\s*\/\s*(\d[\d\.]*)/i.test(e)?a.formatNum(RegExp.$1):null},init:function(){var a=this;a.detectPlatform(),a.detectIE(),a.detectNonIE()}},init:{hasRun:0,library:function(){window[a.name]=a;var b=this,c=document;a.win.init(),a.head=c.getElementsByTagName("head")[0]||c.getElementsByTagName("body")[0]||c.body||null,a.browser.init(),b.hasRun=1}},ev:{addEvent:function(a,b,c){a&&b&&c&&(a.addEventListener?a.addEventListener(b,c,!1):a.attachEvent?a.attachEvent("on"+b,c):a["on"+b]=this.concatFn(c,a["on"+b]))},removeEvent:function(a,b,c){a&&b&&c&&(a.removeEventListener?a.removeEventListener(b,c,!1):a.detachEvent&&a.detachEvent("on"+b,c))},concatFn:function(a,b){return function(){a(),"function"==typeof b&&b()}},handler:function(a,b,c,d,e){return function(){a(b,c,d,e)}},handlerOnce:function(b,c,d,e){return function(){var f=a.uniqueName();b[f]||(b[f]=1,b(c,d,e))}},handlerWait:function(a,b,c,d,e){var f=this;return function(){f.setTimeout(f.handler(b,c,d,e),a)}},setTimeout:function(b,c){a.win&&a.win.unload||setTimeout(b,c)},fPush:function(b,c){a.isArray(c)&&(a.isFunc(b)||a.isArray(b)&&b.length>0&&a.isFunc(b[0]))&&c.push(b)},call0:function(b){var c=a.isArray(b)?b.length:-1;c>0&&a.isFunc(b[0])?b[0](a,c>1?b[1]:0,c>2?b[2]:0,c>3?b[3]:0):a.isFunc(b)&&b(a)},callArray0:function(b){var c,d=this;if(a.isArray(b))for(;b.length;)c=b[0],b.splice(0,1),a.win&&a.win.unload&&b!==a.win.unloadHndlrs||d.call0(c)},call:function(a){var b=this;b.call0(a),b.ifDetectDoneCallHndlrs()},callArray:function(a){var b=this;b.callArray0(a),b.ifDetectDoneCallHndlrs()},allDoneHndlrs:[],ifDetectDoneCallHndlrs:function(){var b,c,d=this;if(d.allDoneHndlrs.length&&(!a.win||a.win.loaded&&!a.win.loadPrvtHndlrs.length&&!a.win.loadPblcHndlrs.length)){if(a.Plugins)for(b in a.Plugins)if(a.hasOwn(a.Plugins,b)&&(c=a.Plugins[b],c&&a.isFunc(c.getVersion)&&(3==c.OTF||c.DoneHndlrs&&c.DoneHndlrs.length||c.BIHndlrs&&c.BIHndlrs.length)))return;d.callArray0(d.allDoneHndlrs)}}},isMinVersion:function(b,c,d,e){var f,g=a.pd.findPlugin(b),h=-1;return g.status<0?g.status:(f=g.plugin,c=a.formatNum(a.isNum(c)?""+c:a.isStrNum(c)?a.getNum(c):"0"),1!=f.getVersionDone&&(f.getVersion(c,d,e),null===f.getVersionDone&&(f.getVersionDone=1)),null!==f.installed&&(h=f.installed<=.5?f.installed:.7==f.installed?1:null===f.version?0:a.compareNums(f.version,c,f)>=0?1:-.1),h)},getVersion:function(b,c,d){var e,f,g=a.pd.findPlugin(b);return g.status<0?null:(e=g.plugin,1!=e.getVersionDone&&(e.getVersion(null,c,d),null===e.getVersionDone&&(e.getVersionDone=1)),f=e.version||e.version0,f=f?f.replace(a.splitNumRegx,a.pd.getVersionDelimiter):f)},hasMimeType:function(b){if(b&&window.navigator&&navigator.mimeTypes){var c,d,e,f,g=navigator.mimeTypes,h=a.isArray(b)?[].concat(b):a.isString(b)?[b]:[];for(f=h.length,e=0;e<f;e++){c=0;try{a.isString(h[e])&&/[^\s]/.test(h[e])&&(c=g[h[e]])}catch(i){}if(d=c?c.enabledPlugin:0,d&&(d.name||d.description))return c}}return null},getInfo:function(b,c,d){var e,f,g=null,h=a.pd.findPlugin(b);return h.status<0?g:(e=h.plugin,a.isFunc(e.getInfo)&&(null===e.getVersionDone&&(f=a.getVersion?a.getVersion(b,c,d):a.isMinVersion(b,"0",c,d)),g=e.getInfo()),g)},onDetectionDone:function(b,c,d,e){var f,g,h=a.pd.findPlugin(b);return h.status==-3?-1:(g=h.plugin,a.isArray(g.DoneHndlrs)||(g.DoneHndlrs=[]),1!=g.getVersionDone&&(f=a.getVersion?a.getVersion(b,d,e):a.isMinVersion(b,"0",d,e)),g.installed!=-.5&&.5!=g.installed?(a.ev.call(c),1):(a.ev.fPush(c,g.DoneHndlrs),0))},onWindowLoaded:function(b){a.win.loaded?a.ev.call(b):a.ev.fPush(b,a.win.loadPblcHndlrs)},onBeforeInstantiate:function(b,c){var d=a.pd.findPlugin(b),e=d.plugin;d.status!=-3&&(a.isArray(e.BIHndlrs)||(e.BIHndlrs=[]),a.ev.fPush(c,e.BIHndlrs))},win:{disable:function(){this.cancel=!0},cancel:!1,loaded:!1,unload:!1,hasRun:0,init:function(){var b=this;b.hasRun||(b.hasRun=1,/complete/i.test(document.readyState||"")?b.loaded=!0:a.ev.addEvent(window,"load",b.onLoad),a.ev.addEvent(window,"unload",b.onUnload))},loadPrvtHndlrs:[],loadPblcHndlrs:[],unloadHndlrs:[],onUnload:function(){var b=a.win;b.unload||(b.unload=!0,a.ev.removeEvent(window,"load",b.onLoad),a.ev.removeEvent(window,"unload",b.onUnload),a.ev.callArray(b.unloadHndlrs))},onLoad:function(){var b=a.win;b.loaded||b.unload||b.cancel||(b.loaded=!0,a.ev.callArray(b.loadPrvtHndlrs),a.ev.callArray(b.loadPblcHndlrs))}},DOM:{isEnabled:{objectTag:function(){var b=a.browser,c=b.isIE?0:1;return b.ActiveXEnabled&&(c=1),!!c},objectTagUsingActiveX:function(){var b=0;return a.browser.ActiveXEnabled&&(b=1),!!b},objectProperty:function(b){return b&&b.tagName&&a.browser.isIE?/applet/i.test(b.tagName)?!this.objectTag()||a.isDefined(a.pd.getPROP(document.createElement("object"),"object"))?1:0:a.isDefined(a.pd.getPROP(document.createElement(b.tagName),"object"))?1:0:0}},HTML:[],div:null,divID:"plugindetect",divWidth:500,getDiv:function(){return this.div||document.getElementById(this.divID)||null},initDiv:function(){var b,c=this;c.div||(b=c.getDiv(),b?c.div=b:(c.div=document.createElement("div"),c.div.id=c.divID,c.setStyle(c.div,c.getStyle.div()),c.insertDivInBody(c.div)),a.ev.fPush([c.onUnload,c],a.win.unloadHndlrs)),b=0},pluginSize:1,iframeWidth:40,iframeHeight:10,altHTML:"&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;",emptyNode:function(b){var c=this;if(b&&/div|span/i.test(b.tagName||"")){a.browser.isIE&&c.setStyle(b,["display","none"]);try{b.innerHTML=""}catch(d){}}},removeNode:function(a){try{a&&a.parentNode&&a.parentNode.removeChild(a)}catch(b){}},onUnload:function(a,b){var c,d,e,f,g=b.HTML,h=g.length;if(h)for(d=h-1;d>=0;d--)f=g[d],f&&(g[d]=0,b.emptyNode(f.span()),b.removeNode(f.span()),f.span=0,f.spanObj=0,f.doc=0,f.objectProperty=0);c=b.getDiv(),b.emptyNode(c),b.removeNode(c),f=0,e=0,c=0,b.div=0},span:function(){var a=this;return a.spanObj||(a.spanObj=a.doc.getElementById(a.spanId)),a.spanObj||null},width:function(){var b,c,d=this,e=d.span(),f=-1;return b=e&&a.isNum(e.scrollWidth)?e.scrollWidth:f,c=e&&a.isNum(e.offsetWidth)?e.offsetWidth:f,e=0,c>0?c:b>0?b:Math.max(c,b)},obj:function(){var a=this.span();return a?a.firstChild||null:null},readyState:function(){var b=this;return a.browser.isIE&&a.isDefined(a.pd.getPROP(b.span(),"readyState"))?a.pd.getPROP(b.obj(),"readyState"):a.UNDEFINED},objectProperty:function(){var b,c=this,d=c.DOM;return d.isEnabled.objectProperty(c)&&(b=a.pd.getPROP(c.obj(),"object")),b},onLoadHdlr:function(a,b){b.loaded=1},getTagStatus:function(b,c,d,e,f,g,h){var i=this;if(!b||!b.span())return-2;var j=b.width(),k=b.obj()?1:0,l=b.readyState(),m=b.objectProperty();if(m)return 1.5;var n=/clsid\s*\:/i,o=d&&n.test(d.outerHTML||"")?d:e&&n.test(e.outerHTML||"")?e:0,p=d&&!n.test(d.outerHTML||"")?d:e&&!n.test(e.outerHTML||"")?e:0,q=b&&n.test(b.outerHTML||"")?o:p;if(!(c&&c.span()&&q&&q.span()))return-2;var r=q.width(),s=c.width(),t=q.readyState();return j<0||r<0||s<=i.pluginSize?0:(h&&!b.pi&&a.isDefined(m)&&a.browser.isIE&&b.tagName==q.tagName&&b.time<=q.time&&j===r&&0===l&&0!==t&&(b.pi=1),r<s||!b.loaded||!c.loaded||!q.loaded?b.pi?-.1:0:j!=s&&k?j!=i.pluginSize||!k||a.isNum(l)&&4!==l?b.pi?-.5:-1:1:b.pi?-.5:-1)},setStyle:function(a,b){var c,d=a.style;if(d&&b)for(c=0;c<b.length;c+=2)try{d[b[c]]=b[c+1]}catch(e){}a=0,d=0},getStyle:{iframe:function(){return this.span()},span:function(b){var c,d=a.DOM;return c=b?this.plugin():[].concat(this.Default).concat(["display","inline","fontSize",d.pluginSize+3+"px","lineHeight",d.pluginSize+3+"px"])},div:function(){var b=a.DOM;return[].concat(this.Default).concat(["display","block","width",b.divWidth+"px","height",b.pluginSize+3+"px","fontSize",b.pluginSize+3+"px","lineHeight",b.pluginSize+3+"px","position","absolute","right","9999px","top","-9999px"])},plugin:function(b){var c=a.DOM;return"background-color:transparent;background-image:none;vertical-align:baseline;outline-style:none;border-style:none;padding:0px;margin:0px;visibility:"+(b?"hidden;":"visible;")+"display:inline;font-size:"+(c.pluginSize+3)+"px;line-height:"+(c.pluginSize+3)+"px;"},Default:["backgroundColor","transparent","backgroundImage","none","verticalAlign","baseline","outlineStyle","none","borderStyle","none","padding","0px","margin","0px","visibility","visible"]},insertDivInBody:function(b,c){var d="pd33993399",e=null,f=c?window.top.document:window.document,g=f.getElementsByTagName("body")[0]||f.body;if(!g)try{f.write('<div id="'+d+'">.'+a.openTag+"/div>"),e=f.getElementById(d)}catch(h){}g=f.getElementsByTagName("body")[0]||f.body,g&&(g.insertBefore(b,g.firstChild),e&&g.removeChild(e)),b=0},iframe:{onLoad:function(b,c){a.ev.callArray(b)},insert:function(b,c){var d,e,f,g=this,h=a.DOM,i=document.createElement("iframe");h.setStyle(i,h.getStyle.iframe()),i.width=h.iframeWidth,i.height=h.iframeHeight,h.initDiv(),d=h.getDiv(),d.appendChild(i);try{g.doc(i).open()}catch(j){}return i[a.uniqueName()]=[],e=a.ev.handlerOnce(a.isNum(b)&&b>0?a.ev.handlerWait(b,g.onLoad,i[a.uniqueName()],c):a.ev.handler(g.onLoad,i[a.uniqueName()],c)),
a.ev.addEvent(i,"load",e),i.onload||(i.onload=e),f=g.win(i),a.ev.addEvent(f,"load",e),f&&!f.onload&&(f.onload=e),i},addHandler:function(b,c){b&&a.ev.fPush(c,b[a.uniqueName()])},close:function(a){try{this.doc(a).close()}catch(b){}},write:function(a,b){var c,d=this.doc(a),e=-1;try{c=(new Date).getTime(),d.write(b),e=(new Date).getTime()-c}catch(f){}return e},win:function(a){try{return a.contentWindow}catch(b){}return null},doc:function(a){var b;try{b=a.contentWindow.document}catch(c){}try{b||(b=a.contentDocument)}catch(c){}return b||null}},insert:function(b,c,d,e,f,g,h){var i,j,k,l,m,n,o=this;if(h||(o.initDiv(),h=o.getDiv()),h&&(/div/i.test(h.tagName)&&(l=h.ownerDocument),/iframe/i.test(h.tagName)&&(l=o.iframe.doc(h))),l&&l.createElement||(l=document),a.isDefined(e)||(e=""),a.isString(b)&&/[^\s]/.test(b)){b=b.toLowerCase().replace(/\s/g,""),i=a.openTag+b+" ",i+='style="'+o.getStyle.plugin(g)+'" ';var p=1,q=1;for(m=0;m<c.length;m+=2)/[^\s]/.test(c[m+1])&&(i+=c[m]+'="'+c[m+1]+'" '),/width/i.test(c[m])&&(p=0),/height/i.test(c[m])&&(q=0);if(i+=(p?'width="'+o.pluginSize+'" ':"")+(q?'height="'+o.pluginSize+'" ':""),"embed"==b||"img"==b)i+=" />";else{for(i+=">",m=0;m<d.length;m+=2)/[^\s]/.test(d[m+1])&&(i+=a.openTag+'param name="'+d[m]+'" value="'+d[m+1]+'" />');i+=e+a.openTag+"/"+b+">"}}else b="",i=e;if(j={spanId:"",spanObj:null,span:o.span,loaded:null,tagName:b,outerHTML:i,DOM:o,time:(new Date).getTime(),insertDomDelay:-1,width:o.width,obj:o.obj,readyState:o.readyState,objectProperty:o.objectProperty,doc:l},h&&h.parentNode)if(/div|iframe/i.test(h.tagName)&&f&&f.BIHndlrs&&f.BIHndlrs.length&&a.ev.callArray(f.BIHndlrs),/iframe/i.test(h.tagName))o.iframe.addHandler(h,[o.onLoadHdlr,j]),j.loaded=0,j.spanId=a.name+"Span"+o.HTML.length,k='<span id="'+j.spanId+'" style="'+o.getStyle.span(1)+'">'+i+"</span>",j.time=(new Date).getTime(),n=o.iframe.write(h,k),n>=0&&(j.insertDomDelay=n);else if(/div/i.test(h.tagName)){k=l.createElement("span"),o.setStyle(k,o.getStyle.span()),h.appendChild(k);try{j.time=(new Date).getTime(),k.innerHTML=i,j.insertDomDelay=(new Date).getTime()-j.time}catch(r){}j.spanObj=k}return k=0,h=0,o.HTML.push(j),j}},file:{any:"fileStorageAny999",valid:"fileStorageValid999",save:function(b,c,d){var e,f=this;b&&a.isDefined(d)&&(b[f.any]||(b[f.any]=[]),b[f.valid]||(b[f.valid]=[]),b[f.any].push(d),e=f.split(c,d),e&&b[f.valid].push(e))},getValidLength:function(a){return a&&a[this.valid]?a[this.valid].length:0},getAnyLength:function(a){return a&&a[this.any]?a[this.any].length:0},getValid:function(a,b){var c=this;return a&&a[c.valid]?c.get(a[c.valid],b):null},getAny:function(a,b){var c=this;return a&&a[c.any]?c.get(a[c.any],b):null},get:function(b,c){var d=b.length-1,e=a.isNum(c)?c:d;return e<0||e>d?null:b[e]},split:function(b,c){var d,e,f=null;return b=b?b.replace(".","\\."):"",e=RegExp("^(.*[^\\/])("+b+"\\s*)$"),a.isString(c)&&e.test(c)&&(d=RegExp.$1.split("/"),f={name:d[d.length-1],ext:RegExp.$2,full:c},d[d.length-1]="",f.path=d.join("/")),f}},Plugins:{}};a.init.library();var b={mimeType:"application/x-shockwave-flash",setPluginStatus:function(b,c,d){var e,f=this;f.installed=c?1:b?0:-1,f.precision=d,f.version=a.formatNum(c),e=f.installed==-1||f.instance.version,e=e||f.axo.version,f.getVersionDone=e?1:0},getPrecision:function(b){if(a.isString(b)){var c,d="\\d+",e="[\\._,]",f=[d,d,d,d];for(c=4;c>0;c--)if(RegExp(f.slice(0,c).join(e)).test(b))return c}return 0},getVersion:function(b,c){var d=this,e=null,f=0,g=0;f&&!a.dbug||!d.navPlugin.query().installed||(f=1),e&&!a.dbug||!d.navPlugin.query().version||(e=d.navPlugin.version,g=d.navPlugin.precision),f&&!a.dbug||!d.axo.query().installed||(f=1),e&&!a.dbug||!d.axo.query().version||(e=d.axo.version,g=d.axo.precision),(!f&&!e||c||a.dbug)&&d.instance.query().version&&(f=1,e=d.instance.version,g=d.instance.precision),d.setPluginStatus(f,e,g)},navPlugin:{hasRun:0,installed:0,precision:0,version:null,getNum:function(a){if(!a)return null;var b=/[\d][\d\,\.\s]*[rRdD]{0,1}[\d\,]*/.exec(a);return b?b[0].replace(/[rRdD\.]/g,",").replace(/\s/g,""):null},query:function(){var c,d,e=this,f=b,g=e.hasRun||!a.hasMimeType(f.mimeType);return e.hasRun=1,g?e:(d=a.pd.findNavPlugin({find:"Shockwave.*Flash",mimes:f.mimeType,plugins:["Shockwave Flash"]}),d&&(e.installed=1,d.description&&(c=e.getNum(d.description))),c&&(c=a.getPluginFileVersion(d,c)),c&&/(\d+[_,]\d+[_,]\d+[_,]\d+)[^\d]+$/.test(d.filename)&&(c=a.getPluginFileVersion({filename:RegExp.$1,name:d.name,description:d.description},c,0,"filename")),c&&(e.version=c,e.precision=f.getPrecision(c)),e)}},axo:{hasRun:0,installed:0,precision:0,version:null,progID:"ShockwaveFlash.ShockwaveFlash",classID:"clsid:D27CDB6E-AE6D-11CF-96B8-444553540000",query:function(){var c,d,e,f=this,g=f.hasRun;if(f.hasRun=1,g)return f;for(d=0;d<10;d++)if(e=a.getAXO(f.progID+(d?"."+d:""))){f.installed=1,c=0;try{c=a.getNum(e.GetVariable("$version")+"")}catch(h){}if(c&&(f.version=c,f.precision=b.getPrecision(c),!a.dbug))break}return f}},instance:{hasRun:0,precision:0,version:null,HTML:null,HTML2:null,isEnabled:function(){var c=this,d=b,e=1;return!c.hasRun&&!a.DOM.isEnabled.objectTagUsingActiveX()&&a.DOM.isEnabled.objectTag()&&a.hasMimeType(d.mimeType)||(e=0),e},query:function(){var c,d=this,e=b,f=d.isEnabled();if(d.hasRun=1,f){d.HTML=a.DOM.insert("object",["type",e.mimeType],["play","false","menu","false"],"",e);try{c=d.HTML.obj().GetVariable("$version")+"",d.version=a.getNum(c)}catch(g){}if(!d.version||a.dbug){d.HTML2=a.DOM.insert("embed",["type",e.mimeType,"play","false","menu","false"],[],"",e);try{c=d.HTML2.obj().GetVariable("$version")+"",d.version=a.getNum(c)}catch(g){}}d.precision=e.getPrecision(d.version)}return d}},getInfo:function(){var a=b,c={version:a.version,precision:a.precision,flashObjUsed:!!(a.instance.HTML2&&a.instance.HTML2.obj()||a.instance.HTML&&a.instance.HTML.obj())};return c.flashObjUsed=c.flashObjUsed||!!a.axo.version,c}};a.addPlugin("flash",b);var c={getVersion:function(){var b,c=this,d=null;b&&!a.dbug||!c.nav.query().installed||(b=1),d&&!a.dbug||!c.nav.query().version||(d=c.nav.version),b&&!a.dbug||!c.axo.query().installed||(b=1),d&&!a.dbug||!c.axo.query().version||(d=c.axo.version),c.installed=d?1:b?0:-1,c.version=a.formatNum(d)},nav:{hasRun:0,installed:0,version:null,mimeType:"application/x-director",query:function(){var b,c,d=this,e=d.hasRun||!a.hasMimeType(d.mimeType);return d.hasRun=1,e?d:(c=a.pd.findNavPlugin({find:"Shockwave\\s*for\\s*Director",mimes:d.mimeType,plugins:"Shockwave for Director"}),c&&c.description&&(b=a.getNum(c.description+"")),b&&(b=a.getPluginFileVersion(c,b)),c&&(d.installed=1),b&&(d.version=b),d)}},axo:{hasRun:0,installed:null,version:null,progID:["SWCtl.SWCtl","SWCtl.SWCtl.1","SWCtl.SWCtl.7","SWCtl.SWCtl.8","SWCtl.SWCtl.11","SWCtl.SWCtl.12"],classID:"clsid:166B1BCA-3F9C-11CF-8075-444553540000",query:function(){var b,c,d,e,f,g=this,h=!g.hasRun;if(g.hasRun=1,h)for(c=0;c<g.progID.length;c++)if(b=a.getAXO(g.progID[c])){g.installed=1,e="";try{e=b.ShockwaveVersion("")+""}catch(i){}if(/(\d[\d\.\,]*)(?:\s*r\s*(\d+))?/i.test(e)&&(f=RegExp.$2,d=a.formatNum(RegExp.$1),f&&(d=d.split(a.splitNumRegx),d[3]=f,d=d.join(","))),d&&(g.version=d,!a.dbug))break}return g}}};a.addPlugin("shockwave",c);var d={OTF:null,setPluginStatus:function(){var a=this,b=a.doc.result,c=a.OTF;a.version=null,3==c?a.installed=-.5:a.installed=b>0?0:-1,a.verify&&a.verify.isEnabled()?a.getVersionDone=0:1!=a.getVersionDone&&(a.getVersionDone=a.installed==-.5||a.installed==-1&&a.doc.isDisabled()<2?0:1)},getVersion:function(b,c){var d=this,e=!1,f=d.verify,g=d.doc;null===d.getVersionDone&&(d.OTF=0,f&&f.init()),a.file.save(d,".pdf",c),0===d.getVersionDone&&f&&f.isEnabled()&&a.isNum(d.installed)&&d.installed>=0||((!e||a.dbug)&&g.insertHTMLQuery()>0&&(e=!0),d.setPluginStatus())},doc:{result:0,mimeType:"application/pdf",mimeType_dummy:"application/dummymimepdf",DummySpanTagHTML:0,HTML:0,DummyObjTagHTML1:0,isDisabled:function(){var b,c=this,e=d,f=0,g=a.browser;return e.OTF>=2||!a.DOM.isEnabled.objectTag()||a.DOM.isEnabled.objectTagUsingActiveX()?f=2:a.dbug||(!g.isGecko||a.compareNums(g.verGecko,a.formatNum("10"))<0||a.compareNums(g.verGecko,a.formatNum("19"))<0&&a.hasMimeType(c.mimeType))&&(f=2),f<2&&(b=a.file.getValid(e),b&&b.full||(f=1)),f},tabIndex:null,method:"",queryObject:function(b){var c,d,e=this,f=e.HTML?e.HTML.obj():0,g=a.dbug&&e.HTML&&!e.HTML.loaded?0:1;c=a.DOM.getTagStatus(e.HTML,e.DummySpanTagHTML,e.DummyObjTagHTML1,0),(!e.result||a.dbug)&&c<-.1&&(g&&(e.result=-1),e.method+="1,"),(!e.result||a.dbug)&&c>0&&!a.hasMimeType(e.mimeType)&&(g&&(e.result=1),e.method+="2,");try{d=f?f.tabIndex:null}catch(h){}return!a.isNum(e.tabIndex)&&a.isNum(d)&&(e.tabIndex=d),(!e.result||a.dbug)&&c>0&&(a.isNum(d)&&a.isNum(e.tabIndex)&&e.tabIndex!==d?(g&&(e.result=1),e.method+="4,"):(g&&(e.result=-1),e.method+="5,")),e.result},insertHTMLQuery:function(){var b,c,e=this,f=d,g=1,h=a.DOM.altHTML;return e.isDisabled()?e.result:(f.OTF<2&&(f.OTF=2),b=a.file.getValid(f).full,c=a.DOM.iframe.insert(99,"PDFjs"),e.DummySpanTagHTML=a.DOM.insert("",[],[],h,f,g,c),e.HTML=a.DOM.insert("object",["type",e.mimeType,"data",b],["src",b],h,f,g,c),e.DummyObjTagHTML1=a.DOM.insert("object",["type",e.mimeType_dummy],[],h,f,g,c),a.DOM.iframe.close(c),e.queryObject(),e.result&&!a.dbug?e.result:(f.NOTF.init(),e.result))}},NOTF:{count:0,intervalLength:250,init:function(){var b=this,c=d,e=c.doc;c.OTF<3&&e.HTML&&(c.OTF=3,a.ev.setTimeout(b.onIntervalQuery,b.intervalLength))},onIntervalQuery:function(){var b=d.doc,c=d.NOTF;c.count++,3==d.OTF&&(b.queryObject(c.count),b.result&&c.queryCompleted()),3==d.OTF&&a.ev.setTimeout(c.onIntervalQuery,c.intervalLength)},queryCompleted:function(){var b=d;4!=b.OTF&&(b.OTF=4,b.setPluginStatus(),a.ev.callArray(b.DoneHndlrs))}}};a.addPlugin("pdfjs",d)}(),SJ.Core.Calendar={fullCalendarList:[],calendar_id:null,conteiner:null,init:function(a,b){SJ.Core.Calendar.calendar_id=a,SJ.Core.Calendar.conteiner=$("#sj-content").length>0?"#sj-content":"body";var c={};void 0!==b&&$.extend(c,b);var d=$(a),e=$(document);c.edit!==!1?e.on("click",".hide_event",function(){$(this).closest(".bs3-popover").hide()}):e.click(function(){$(".bs3-popover").hide()});var f=' &nbsp; <i class="fa fa-times hide_event" style="float:right; cursor:pointer;"></i>',g={defaultDate:c.defaultDate||null,aspectRatio:1.35,weekends:!0,weekNumbers:!1,weekNumberCalculation:"ISO",weekLabel:"W",allDayDefault:!0,titleFormat:{month:"long",year:"numeric"},columnHeaderFormat:{weekday:"short",omitCommas:!0},eventTimeFormat:{hour:"numeric",minute:"2-digit",meridiem:!1,hour12:!1},dir:"ltl",lazyFetching:!0,startParam:"start",endParam:"end",eventSources:SJ.Core.Calendar.get_events(),theme:!1,buttonIcons:{prev:"circle-triangle-w",next:"circle-triangle-e",prevYear:"left-double-arrow",nextYear:"right-double-arrow"},allDayText:__("All Day"),buttonText:{prev:"<span class='fc-text-arrow'>&lsaquo;</span>",next:"<span class='fc-text-arrow'>&rsaquo;</span>",prevYear:"<span class='fc-text-arrow'>&laquo;</span>",nextYear:"<span class='fc-text-arrow'>&raquo;</span>",today:"today",month:"month",week:"week",day:"day"},unselectAuto:!0,dropAccept:"*",handleWindowResize:!0,firstDay:1,ignoreTimezone:!c.time_zone,timeZone:c.time_zone||"local",defaultView:"dayGridMonth",plugins:["rrule","dayGrid","interaction","timeGrid"],header:{right:"dayGridMonth,timeGridWeek,timeGridDay,dayGridDay,dayGridWeek",center:"title",left:"prev,next today"},buttonText:{prev:"<",next:">",today:__("Today"),dayGridDay:__("Basic Day"),dayGridWeek:__("Basic Week"),day:__("Day"),week:__("Week"),month:__("Month")},contentHeight:"auto",eventRender:function(a){$(a.el).popover({title:a.event.title+f,content:SJ.Core.Calendar.get_content(a.event),trigger:"manual",placement:"auto left",html:!0,container:$("body")})},eventClick:function(a){var b=a.jsEvent,c=a.view;b.preventDefault(),b.stopPropagation(),$(".bs3-popover").hide(),$(a.el).popover("show");var d=$(".bs3-popover");d.appendTo($("body")).addClass("popover-calendar"),"dayGridDay"!==c.type&&"timeGridDay"!==c.type||d.css("left",b.pageX-290)},datesRender:function(a){$(".bs3-popover").hide(),"timeGridWeek"!==a.view.type&&"timeGridDay"!==a.view.type||$(".fc-agenda-slots").css("margin-bottom",0);var b=$(".fc-state-active");b.length>0&&($(".sj-fc-state-active").removeClass("sj-fc-state-active"),b.removeClass("fc-state-active").addClass("sj-fc-state-active")),SJ.Core.Calendar.optimization_view(this)},dateClick:function(a){if(c.edit!==!1&&void 0===c.events){$(a.dayEl).popover({title:"Add Event"+f,content:SJ.Core.Calendar.init_add_event(a.date),trigger:"manual",placement:"auto left",html:!0,container:$("body")}),$(".bs3-popover").hide(),$(a.dayEl).popover("show");var b=$(".bs3-popover");b.appendTo($("body")).addClass("popover-calendar"),"dayGridWeek"!==a.view.type&&"timeGridWeek"!==a.view.type||b.css("top",a.jsEvent.clientY-50),"dayGridDay"!==a.view.type&&"timeGridDay"!==a.view.type||b.css("top",a.jsEvent.clientY-50).css("left",a.jsEvent.clientX-290)}},loading:function(a){a?(SJ.Core.Calendar.processing_event_source=!0,$(".sj-calendar-menu-item").length&&SJ.Core.Overlay.add()):(SJ.Core.Calendar.processing_event_source=!1,$(".sj-calendar-menu-item").length&&SJ.Core.Overlay.remove())}};d.fullCalendar(g),$(".fc-state-active").removeClass("fc-state-active").addClass("sj-fc-state-active"),$(".fc-button").removeClass("fc-button").addClass("sj-fc-button"),$(".fc-state-default").removeClass("fc-state-default").addClass("sj-fc-state-default")},get_events:function(){SJ.Core.Overlay.remove();var a=(SJ.Core.Calendar.calendar_id,[]);$("a.bs3-active.sj-calendar-menu-item").each(function(){var b,c;if($(this).hasClass("gcalendar")){$(this).data("calendar-url");SJ.Core.Calendar.processing_event_source=!1}var d=$(this);b=d.data("calendar-id"),c=d.data("calendar-edit");var e=!1;"yes"===c&&(e=!0),a.push(SJ.Core.Calendar.buildFCsource(b,e))});var b=!1,c=$(this.calendar_id);if(c){var d=c.data("calendars");for(var e in d)a.push(SJ.Core.Calendar.buildFCsource(d[e],b))}return a},buildFCsource:function(a,b){return{events:function(b,c,d){SJ.Core.Overlay.add(),$.ajax({url:SJ.Core.url("/calendar/events"),type:"GET",data:{calendar_id:a,start:Math.round(b.start.valueOf()/1e3),end:Math.round(b.end.valueOf()/1e3)}}).done(function(a){a=JSON.parse(a),1!=a.status&&(SJ.Core.Calendar.syncStatus=!1),c(a.map(function(a){return{id:a.id,allDay:a.allDay,start:a.start,end:a.end,title:a.title,editable:a.edit,backgroundColor:a.color,borderColor:a.color,textColor:"#222222",extendedProps:a}})),SJ.Core.Overlay.remove()}).fail(function(){SJ.Core.Overlay.remove(),d(function(){alert(__("There was an error while fetching events!"))})})},id:a,className:"calendar_id_"+a,color:"#9fc6e7",backgroundColor:"#990000",borderColor:"#000099",textColor:"#222222",edit:b}},init_add_event:function(a){var b=new Date(a),c=b.getTime()-60*b.getTimezoneOffset()*1e3,d=new Date(c),e=d.toISOString().slice(0,16);return jotter_add_link='<a class="bs3-btn bs3-btn-default edit_event" href="'+SJ.Core.url("/event/add/?add=1&start="+e)+'">'+__("Add in Jotter")+"</a>",content='<div style="margin-top: 10px;">'+jotter_add_link+"</div>",content},get_content:function(a){var b=SJ.Core.Calendar.get_event_date(a);if(""!==a.extendedProps.where&&void 0!==a.extendedProps.where&&(b+="<br><b>Where</b> "+a.extendedProps.where),""!==a.extendedProps.description&&(b+='<br><small><em class="sj-white-space-pre-line">'+a.extendedProps.description+"</em></small>"),a.source.internalEventSource._raw.edit===!0){var c,d;a.extendedProps.external_edit_link.length>0?(c='<a class="bs3-btn bs3-btn-default edit_event edit_event_local" data-link="'+decodeURIComponent(a.extendedProps.external_edit_link)+'" href="#">'+__("Edit")+"</a>",d='<a class="use-pane bs3-btn bs3-btn-default delete_event" href="'+SJ.Core.url("/app/event/delete/"+a.extendedProps.id+"?start="+a.extendedProps.start_timestamp)+'">'+__("Delete")+"</a>"):(c='<a class="bs3-btn bs3-btn-default edit_event" href="'+SJ.Core.url("/event/add/"+a.extendedProps.id+"?edit=1&start="+a.extendedProps.start_timestamp)+'">'+__("Edit")+"</a>",d='<a class="use-pane bs3-btn bs3-btn-default delete_event" href="'+SJ.Core.url("/app/event/delete/"+a.extendedProps.id+"?start="+a.extendedProps.start_timestamp)+'">'+__("Delete")+"</a>"),b+='<div style="margin-top: 10px;">'+c+" "+d+"</div>"}return $(".bs3-alert-dismissable").hide(),SJ.Core.Overlay.remove(),b},get_event_date:function(a){var b=[__("Sun"),__("Mon"),__("Tue"),__("Wed"),__("Thu"),__("Fri"),__("Sat")],c=[__("January"),__("February"),__("March"),__("April"),__("May"),__("June"),__("July"),__("August"),__("September"),__("October"),__("November"),__("December")],d=b[a.start.getDay()]+", "+a.start.getDate()+" "+c[a.start.getMonth()];if(a.allDay=!!+a.allDay,a.allDay){if(null!=a.end){var e=new Date(a.end);e.setDate(e.getDate()-1),d+=" - "+b[e.getDay()]+", "+e.getDate()+" "+c[e.getMonth()]}}else{var f=new Date(a.start);f.setMinutes(f.getMinutes()+f.getTimezoneOffset());var g=f.getHours(),h=""+f.getMinutes();if(h.length<2&&(h="0"+h),d+=", "+g+":"+h,null!=a.end){a.end!=a.start&&(d+=" - "+b[a.end.getDay()]+", "+a.end.getDate()+" "+c[a.end.getMonth()]);var e=new Date(a.end);e.setMinutes(e.getMinutes()+e.getTimezoneOffset());var i=e.getHours(),j=""+e.getMinutes();j.length<2&&(j="0"+j),d+=", "+i+":"+j}}return d},optimization_view:function(a){$(a).each(function(){$(this).parents(".column").length>0&&($(this).parents(".column").width()<=330?($(this).find(".fc-header-title").children().css("font-size","small").css("font-weight","200"),$(this).find(".fc-widget-header").css("font-size","small"),$(this).find(".fc-header-left").hide()):$(this).parents(".column").width()<=450&&($(this).find(".fc-header-title").children().css("font-size","smaller").css("font-weight","200"),$(this).find(".fc-widget-header").css("font-size","smaller")))})},processing_event_source:!1},SJ.Core.Overlay={add:function(){$("body").prepend('<div class="pane-greyout"></div><div class="pane pane-loading"></div>')},remove:function(){$(".pane.pane-loading").remove(),$(".pane-greyout").remove()}},function(a){a.fn.fullCalendar=function(b){if("string"==typeof b){var c,d=Array.prototype.slice.call(arguments,1);return this.each(function(){var e=a.data(this,"fullCalendar");if(e&&a.isFunction(e[b])){var f=e[b].apply(e,d);void 0===c&&(c=f),"destroy"==b&&a.removeData(this,"fullCalendar")}}),void 0!==c?c:this}return this.each(function(c,d){var e=a(d),f=new FullCalendar.Calendar(e.get()[0],b);e.data("fullCalendar",f),f.render(),SJ.Core.Calendar.fullCalendarList.push(f)}),this}}(jQuery),function(a,b){"object"==typeof exports&&"undefined"!=typeof module?b(exports):"function"==typeof define&&define.amd?define(["exports"],b):(a=a||self,b(a.FullCalendar={}))}(this,function(a){"use strict";function b(a,b,c){var d=document.createElement(a);if(b)for(var e in b)"style"===e?q(d,b[e]):ue[e]?d[e]=b[e]:d.setAttribute(e,b[e]);return"string"==typeof c?d.innerHTML=c:null!=c&&g(d,c),d}function c(a){a=a.trim();var b=document.createElement(f(a));return b.innerHTML=a,b.firstChild}function d(a){return Array.prototype.slice.call(e(a))}function e(a){a=a.trim();var b=document.createElement(f(a));return b.innerHTML=a,b.childNodes}function f(a){return ve[a.substr(0,3)]||"div"}function g(a,b){for(var c=j(b),d=0;d<c.length;d++)a.appendChild(c[d])}function h(a,b){for(var c=j(b),d=a.firstChild||null,e=0;e<c.length;e++)a.insertBefore(c[e],d)}function i(a,b){for(var c=j(b),d=a.nextSibling||null,e=0;e<c.length;e++)a.parentNode.insertBefore(c[e],d)}function j(a){var b;return b="string"==typeof a?d(a):a instanceof Node?[a]:Array.prototype.slice.call(a)}function k(a){a.parentNode&&a.parentNode.removeChild(a)}function l(a,b){return xe.call(a,b)}function m(a,b){return we.call(a,b)}function n(a,b){for(var c=a instanceof HTMLElement?[a]:a,d=[],e=0;e<c.length;e++)for(var f=c[e].querySelectorAll(b),g=0;g<f.length;g++)d.push(f[g]);return d}function o(a,b){for(var c=a instanceof HTMLElement?[a]:a,d=[],e=0;e<c.length;e++)for(var f=c[e].children,g=0;g<f.length;g++){var h=f[g];b&&!m(h,b)||d.push(h)}return d}function p(a,b,c){c?a.classList.add(b):a.classList.remove(b)}function q(a,b){for(var c in b)r(a,c,b[c])}function r(a,b,c){null==c?a.style[b]="":"number"==typeof c&&ye.test(b)?a.style[b]=c+"px":a.style[b]=c}function s(a,b){return a.left>=b.left&&a.left<b.right&&a.top>=b.top&&a.top<b.bottom}function t(a,b){var c={left:Math.max(a.left,b.left),right:Math.min(a.right,b.right),top:Math.max(a.top,b.top),bottom:Math.min(a.bottom,b.bottom)};return c.left<c.right&&c.top<c.bottom&&c}function u(a,b,c){return{left:a.left+b,right:a.right+b,top:a.top+c,bottom:a.bottom+c}}function v(a,b){return{left:Math.min(Math.max(a.left,b.left),b.right),top:Math.min(Math.max(a.top,b.top),b.bottom)}}function w(a){return{left:(a.left+a.right)/2,top:(a.top+a.bottom)/2}}function x(a,b){return{left:a.left-b.left,top:a.top-b.top}}function y(){return null===ze&&(ze=z()),ze}function z(){var a=b("div",{style:{position:"absolute",top:-1e3,left:0,border:0,padding:0,overflow:"scroll",direction:"rtl"}},"<div></div>");document.body.appendChild(a);var c=a.firstChild,d=c.getBoundingClientRect().left>a.getBoundingClientRect().left;return k(a),d}function A(a){return a=Math.max(0,a),a=Math.round(a)}function B(a,b){void 0===b&&(b=!1);var c=window.getComputedStyle(a),d=parseInt(c.borderLeftWidth,10)||0,e=parseInt(c.borderRightWidth,10)||0,f=parseInt(c.borderTopWidth,10)||0,g=parseInt(c.borderBottomWidth,10)||0,h=A(a.offsetWidth-a.clientWidth-d-e),i=A(a.offsetHeight-a.clientHeight-f-g),j={borderLeft:d,borderRight:e,borderTop:f,borderBottom:g,scrollbarBottom:i,scrollbarLeft:0,scrollbarRight:0};return y()&&"rtl"===c.direction?j.scrollbarLeft=h:j.scrollbarRight=h,b&&(j.paddingLeft=parseInt(c.paddingLeft,10)||0,j.paddingRight=parseInt(c.paddingRight,10)||0,j.paddingTop=parseInt(c.paddingTop,10)||0,j.paddingBottom=parseInt(c.paddingBottom,10)||0),j}function C(a,b){void 0===b&&(b=!1);var c=D(a),d=B(a,b),e={left:c.left+d.borderLeft+d.scrollbarLeft,right:c.right-d.borderRight-d.scrollbarRight,top:c.top+d.borderTop,bottom:c.bottom-d.borderBottom-d.scrollbarBottom};return b&&(e.left+=d.paddingLeft,e.right-=d.paddingRight,e.top+=d.paddingTop,e.bottom-=d.paddingBottom),e}function D(a){var b=a.getBoundingClientRect();return{left:b.left+window.pageXOffset,top:b.top+window.pageYOffset,right:b.right+window.pageXOffset,bottom:b.bottom+window.pageYOffset}}function E(){return{left:window.pageXOffset,right:window.pageXOffset+document.documentElement.clientWidth,top:window.pageYOffset,bottom:window.pageYOffset+document.documentElement.clientHeight}}function F(a){return a.getBoundingClientRect().height+G(a)}function G(a){var b=window.getComputedStyle(a);return parseInt(b.marginTop,10)+parseInt(b.marginBottom,10)}function H(a){for(var b=[];a instanceof HTMLElement;){var c=window.getComputedStyle(a);if("fixed"===c.position)break;/(auto|scroll)/.test(c.overflow+c.overflowY+c.overflowX)&&b.push(a),a=a.parentNode}return b}function I(a){return H(a).map(function(a){return C(a)}).concat(E()).reduce(function(a,b){return t(a,b)||b})}function J(a){a.preventDefault()}function K(a,b,c,d){function e(a){var b=l(a.target,c);b&&d.call(b,a,b)}return a.addEventListener(b,e),function(){a.removeEventListener(b,e)}}function L(a,b,c,d){var e;return K(a,"mouseover",b,function(a,b){if(b!==e){e=b,c(a,b);var f=function(a){e=null,d(a,b),b.removeEventListener("mouseleave",f)};b.addEventListener("mouseleave",f)}})}function M(a,b){var c=function(d){b(d),Ae.forEach(function(b){a.removeEventListener(b,c)})};Ae.forEach(function(b){a.addEventListener(b,c)})}function N(a,b){var c=fa(a);return c[2]+=7*b,ga(c)}function O(a,b){var c=fa(a);return c[2]+=b,ga(c)}function P(a,b){var c=fa(a);return c[6]+=b,ga(c)}function Q(a,b){return R(a,b)/7}function R(a,b){return(b.valueOf()-a.valueOf())/864e5}function S(a,b){return(b.valueOf()-a.valueOf())/36e5}function T(a,b){return(b.valueOf()-a.valueOf())/6e4}function U(a,b){return(b.valueOf()-a.valueOf())/1e3}function V(a,b){var c=Y(a),d=Y(b);return{years:0,months:0,days:Math.round(R(c,d)),milliseconds:b.valueOf()-d.valueOf()-(a.valueOf()-c.valueOf())}}function W(a,b){var c=X(a,b);return null!==c&&c%7===0?c/7:null}function X(a,b){return ia(a)===ia(b)?Math.round(R(a,b)):null}function Y(a){return ga([a.getUTCFullYear(),a.getUTCMonth(),a.getUTCDate()])}function Z(a){return ga([a.getUTCFullYear(),a.getUTCMonth(),a.getUTCDate(),a.getUTCHours()])}function $(a){return ga([a.getUTCFullYear(),a.getUTCMonth(),a.getUTCDate(),a.getUTCHours(),a.getUTCMinutes()])}function _(a){return ga([a.getUTCFullYear(),a.getUTCMonth(),a.getUTCDate(),a.getUTCHours(),a.getUTCMinutes(),a.getUTCSeconds()])}function aa(a,b,c){var d=a.getUTCFullYear(),e=ba(a,d,b,c);if(e<1)return ba(a,d-1,b,c);var f=ba(a,d+1,b,c);return f>=1?Math.min(e,f):e}function ba(a,b,c,d){var e=ga([b,0,1+ca(b,c,d)]),f=Y(a),g=Math.round(R(e,f));return Math.floor(g/7)+1}function ca(a,b,c){var d=7+b-c,e=(7+ga([a,0,d]).getUTCDay()-b)%7;return-e+d-1}function da(a){return[a.getFullYear(),a.getMonth(),a.getDate(),a.getHours(),a.getMinutes(),a.getSeconds(),a.getMilliseconds()]}function ea(a){return new Date(a[0],a[1]||0,null==a[2]?1:a[2],a[3]||0,a[4]||0,a[5]||0)}function fa(a){return[a.getUTCFullYear(),a.getUTCMonth(),a.getUTCDate(),a.getUTCHours(),a.getUTCMinutes(),a.getUTCSeconds(),a.getUTCMilliseconds()]}function ga(a){return 1===a.length&&(a=a.concat([0])),new Date(Date.UTC.apply(Date,a))}function ha(a){return!isNaN(a.valueOf())}function ia(a){return 1e3*a.getUTCHours()*60*60+1e3*a.getUTCMinutes()*60+1e3*a.getUTCSeconds()+a.getUTCMilliseconds()}function ja(a,b){var c;return"string"==typeof a?ka(a):"object"==typeof a&&a?la(a):"number"==typeof a?la((c={},c[b||"milliseconds"]=a,c)):null}function ka(a){var b=De.exec(a);if(b){var c=b[1]?-1:1;return{years:0,months:0,days:c*(b[2]?parseInt(b[2],10):0),milliseconds:c*(60*(b[3]?parseInt(b[3],10):0)*60*1e3+60*(b[4]?parseInt(b[4],10):0)*1e3+1e3*(b[5]?parseInt(b[5],10):0)+(b[6]?parseInt(b[6],10):0))}}return null}function la(a){return{years:a.years||a.year||0,months:a.months||a.month||0,days:(a.days||a.day||0)+7*ma(a),milliseconds:60*(a.hours||a.hour||0)*60*1e3+60*(a.minutes||a.minute||0)*1e3+1e3*(a.seconds||a.second||0)+(a.milliseconds||a.millisecond||a.ms||0)}}function ma(a){return a.weeks||a.week||0}function na(a,b){return a.years===b.years&&a.months===b.months&&a.days===b.days&&a.milliseconds===b.milliseconds}function oa(a){return 0===a.years&&0===a.months&&1===a.days&&0===a.milliseconds}function pa(a,b){return{years:a.years+b.years,months:a.months+b.months,days:a.days+b.days,milliseconds:a.milliseconds+b.milliseconds}}function qa(a,b){return{years:a.years-b.years,months:a.months-b.months,days:a.days-b.days,milliseconds:a.milliseconds-b.milliseconds}}function ra(a,b){return{years:a.years*b,months:a.months*b,days:a.days*b,milliseconds:a.milliseconds*b}}function sa(a){return ua(a)/365}function ta(a){return ua(a)/30}function ua(a){return xa(a)/864e5}function va(a){return xa(a)/6e4}function wa(a){return xa(a)/1e3}function xa(a){return 31536e6*a.years+2592e6*a.months+864e5*a.days+a.milliseconds}function ya(a,b){for(var c=null,d=0;d<Ce.length;d++){var e=Ce[d];if(b[e]){var f=a[e]/b[e];if(!Ta(f)||null!==c&&c!==f)return null;c=f}else if(a[e])return null}return c}function za(a,b){var c=a.milliseconds;if(c){if(c%1e3!==0)return{unit:"millisecond",value:c};if(c%6e4!==0)return{unit:"second",value:c/1e3};if(c%36e5!==0)return{unit:"minute",value:c/6e4};if(c)return{unit:"hour",value:c/36e5}}return a.days?b||a.days%7!==0?{unit:"day",value:a.days}:{unit:"week",value:a.days/7}:a.months?{unit:"month",value:a.months}:a.years?{unit:"year",value:a.years}:{unit:"millisecond",value:0}}function Aa(a,b){b.left&&q(a,{borderLeftWidth:1,marginLeft:b.left-1}),b.right&&q(a,{borderRightWidth:1,marginRight:b.right-1})}function Ba(a){q(a,{marginLeft:"",marginRight:"",borderLeftWidth:"",borderRightWidth:""})}function Ca(){document.body.classList.add("fc-not-allowed")}function Da(){document.body.classList.remove("fc-not-allowed")}function Ea(a,b,c){var d=Math.floor(b/a.length),e=Math.floor(b-d*(a.length-1)),f=[],g=[],h=[],i=0;Fa(a),a.forEach(function(b,c){var j=c===a.length-1?e:d,k=b.getBoundingClientRect().height,l=k+G(b);l<j?(f.push(b),g.push(l),h.push(k)):i+=l}),c&&(b-=i,d=Math.floor(b/f.length),e=Math.floor(b-d*(f.length-1))),f.forEach(function(a,b){var c=b===f.length-1?e:d,i=g[b],j=h[b],k=c-(i-j);i<c&&(a.style.height=k+"px")})}function Fa(a){a.forEach(function(a){a.style.height=""})}function Ga(a){var b=0;return a.forEach(function(a){var c=a.firstChild;if(c instanceof HTMLElement){var d=c.getBoundingClientRect().width;d>b&&(b=d)}}),b++,a.forEach(function(a){a.style.width=b+"px"}),b}function Ha(a,b){var c={position:"relative",left:-1};q(a,c),q(b,c);var d=a.getBoundingClientRect().height-b.getBoundingClientRect().height,e={position:"",left:""};return q(a,e),q(b,e),d}function Ia(a){a.classList.add("fc-unselectable"),a.addEventListener("selectstart",J)}function Ja(a){a.classList.remove("fc-unselectable"),a.removeEventListener("selectstart",J)}function Ka(a){a.addEventListener("contextmenu",J)}function La(a){a.removeEventListener("contextmenu",J)}function Ma(a){var b,c,d=[],e=[];for("string"==typeof a?e=a.split(/\s*,\s*/):"function"==typeof a?e=[a]:Array.isArray(a)&&(e=a),b=0;b<e.length;b++)c=e[b],"string"==typeof c?d.push("-"===c.charAt(0)?{field:c.substring(1),order:-1}:{field:c,order:1}):"function"==typeof c&&d.push({func:c});return d}function Na(a,b,c){var d,e;for(d=0;d<c.length;d++)if(e=Oa(a,b,c[d]))return e;return 0}function Oa(a,b,c){return c.func?c.func(a,b):Pa(a[c.field],b[c.field])*(c.order||1)}function Pa(a,b){return a||b?null==b?-1:null==a?1:"string"==typeof a||"string"==typeof b?(a+"").localeCompare(b+""):a-b:0}function Qa(a){return a.charAt(0).toUpperCase()+a.slice(1)}function Ra(a,b){var c=a+"";return"000".substr(0,b-c.length)+c}function Sa(a,b){return a-b}function Ta(a){return a%1===0}function Ua(a,b,c){if("function"==typeof a&&(a=[a]),a){var d=void 0,e=void 0;for(d=0;d<a.length;d++)e=a[d].apply(b,c)||e;return e}}function Va(){for(var a=[],b=0;b<arguments.length;b++)a[b]=arguments[b];for(var c=0;c<a.length;c++)if(void 0!==a[c])return a[c]}function Wa(a,b){var c,d,e,f,g,h=function(){var i=(new Date).valueOf()-f;i<b?c=setTimeout(h,b-i):(c=null,g=a.apply(e,d),e=d=null)};return function(){return e=this,d=arguments,f=(new Date).valueOf(),c||(c=setTimeout(h,b)),g}}function Xa(a,b,c,d){void 0===c&&(c={});var e={};for(var f in b){var g=b[f];void 0!==a[f]?g===Function?e[f]="function"==typeof a[f]?a[f]:null:g?e[f]=g(a[f]):e[f]=a[f]:void 0!==c[f]?e[f]=c[f]:g===String?e[f]="":g&&g!==Number&&g!==Boolean&&g!==Function?e[f]=g(null):e[f]=null}if(d)for(var f in a)void 0===b[f]&&(d[f]=a[f]);return e}function Ya(a){var b=Math.floor(R(a.start,a.end))||1,c=Y(a.start),d=O(c,b);return{start:c,end:d}}function Za(a,b){void 0===b&&(b=ja(0));var c=null,d=null;if(a.end){d=Y(a.end);var e=a.end.valueOf()-d.valueOf();e&&e>=xa(b)&&(d=O(d,1))}return a.start&&(c=Y(a.start),d&&d<=c&&(d=O(c,1))),{start:c,end:d}}function $a(a){var b=Za(a);return R(b.start,b.end)>1}function _a(a,b,c,d){return"year"===d?ja(c.diffWholeYears(a,b),"year"):"month"===d?ja(c.diffWholeMonths(a,b),"month"):V(a,b)}function ab(a,b){function c(){this.constructor=a}Ee(a,b),a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c)}function bb(a,b,c,d,e){for(var f=0;f<d.length;f++){var g={},h=d[f].parse(a,g,c);if(h){var i=g.allDay;return delete g.allDay,null==i&&(i=b,null==i&&(i=h.allDayGuess,null==i&&(i=!1))),Fe(e,g),{allDay:i,duration:h.duration,typeData:h.typeData,typeId:f}}}return null}function cb(a,b,c,d,e){var f=e[a.recurringDef.typeId],g=f.expand(a.recurringDef.typeData,{start:d.subtract(c.start,b),end:c.end},d);return a.allDay&&(g=g.map(Y)),g}function db(a,b){var c,d,e,f,g,h,i={};if(b)for(c=0;c<b.length;c++){for(d=b[c],e=[],f=a.length-1;f>=0;f--)if(g=a[f][d],"object"==typeof g&&g)e.unshift(g);else if(void 0!==g){i[d]=g;break}e.length&&(i[d]=db(e))}for(c=a.length-1;c>=0;c--){h=a[c];for(d in h)d in i||(i[d]=h[d]);
}return i}function eb(a,b){var c={};for(var d in a)b(a[d],d)&&(c[d]=a[d]);return c}function fb(a,b){var c={};for(var d in a)c[d]=b(a[d],d);return c}function gb(a){for(var b={},c=0,d=a;c<d.length;c++){var e=d[c];b[e]=!0}return b}function hb(a){var b=[];for(var c in a)b.push(a[c]);return b}function ib(a,b){for(var c in a)if(Ge.call(a,c)&&!(c in b))return!1;for(var c in b)if(Ge.call(b,c)&&a[c]!==b[c])return!1;return!0}function jb(a,b,c,d){for(var e=qb(),f=0,g=a;f<g.length;f++){var h=g[f],i=Ic(h,b,c,d);i&&kb(i,e)}return e}function kb(a,b){return void 0===b&&(b=qb()),b.defs[a.def.defId]=a.def,a.instance&&(b.instances[a.instance.instanceId]=a.instance),b}function lb(a,b,c){var d=c.dateEnv,e=a.defs,f=a.instances;f=eb(f,function(a){return!e[a.defId].recurringDef});for(var g in e){var h=e[g];if(h.recurringDef){var i=h.recurringDef.duration;i||(i=h.allDay?c.defaultAllDayEventDuration:c.defaultTimedEventDuration);for(var j=cb(h,i,b,c.dateEnv,c.pluginSystem.hooks.recurringTypes),k=0,l=j;k<l.length;k++){var m=l[k],n=Kc(g,{start:m,end:d.add(m,i)});f[n.instanceId]=n}}}return{defs:e,instances:f}}function mb(a,b){var c=a.instances[b];if(c){var d=a.defs[c.defId],e=sb(a,function(a){return nb(d,a)});return e.defs[d.defId]=d,e.instances[c.instanceId]=c,e}return qb()}function nb(a,b){return!(!a.groupId||a.groupId!==b.groupId)}function ob(a,b,c){var d=c.opt("eventDataTransform"),e=b?b.eventDataTransform:null;return e&&(a=pb(a,e)),d&&(a=pb(a,d)),a}function pb(a,b){var c;if(b){c=[];for(var d=0,e=a;d<e.length;d++){var f=e[d],g=b(f);g?c.push(g):null==g&&c.push(f)}}else c=a;return c}function qb(){return{defs:{},instances:{}}}function rb(a,b){return{defs:Fe({},a.defs,b.defs),instances:Fe({},a.instances,b.instances)}}function sb(a,b){var c=eb(a.defs,b),d=eb(a.instances,function(a){return c[a.defId]});return{defs:c,instances:d}}function tb(a,b){var c=null,d=null;return a.start&&(c=b.createMarker(a.start)),a.end&&(d=b.createMarker(a.end)),c||d?c&&d&&d<c?null:{start:c,end:d}:null}function ub(a,b){var c,d,e=[],f=b.start;for(a.sort(vb),c=0;c<a.length;c++)d=a[c],d.start>f&&e.push({start:f,end:d.start}),d.end>f&&(f=d.end);return f<b.end&&e.push({start:f,end:b.end}),e}function vb(a,b){return a.start.valueOf()-b.start.valueOf()}function wb(a,b){var c=a.start,d=a.end,e=null;return null!==b.start&&(c=null===c?b.start:new Date(Math.max(c.valueOf(),b.start.valueOf()))),null!=b.end&&(d=null===d?b.end:new Date(Math.min(d.valueOf(),b.end.valueOf()))),(null===c||null===d||c<d)&&(e={start:c,end:d}),e}function xb(a,b){return(null===a.start?null:a.start.valueOf())===(null===b.start?null:b.start.valueOf())&&(null===a.end?null:a.end.valueOf())===(null===b.end?null:b.end.valueOf())}function yb(a,b){return(null===a.end||null===b.start||a.end>b.start)&&(null===a.start||null===b.end||a.start<b.end)}function zb(a,b){return(null===a.start||null!==b.start&&b.start>=a.start)&&(null===a.end||null!==b.end&&b.end<=a.end)}function Ab(a,b){return(null===a.start||b>=a.start)&&(null===a.end||b<a.end)}function Bb(a,b){return null!=b.start&&a<b.start?b.start:null!=b.end&&a>=b.end?new Date(b.end.valueOf()-1):a}function Cb(a,b){for(var c=0,d=0;d<a.length;)a[d]===b?(a.splice(d,1),c++):d++;return c}function Db(a,b){var c,d=a.length;if(d!==b.length)return!1;for(c=0;c<d;c++)if(a[c]!==b[c])return!1;return!0}function Eb(a){var b,c;return function(){return b&&Db(b,arguments)||(b=arguments,c=a.apply(this,arguments)),c}}function Fb(a,b){var c=null;return function(){var d=a.apply(this,arguments);return(null===c||c!==d&&!b(c,d))&&(c=d),c}}function Gb(a,b,c){var d=Object.keys(a).length;return 1===d&&"short"===a.timeZoneName?function(a){return Sb(a.timeZoneOffset)}:0===d&&b.week?function(a){return Lb(c.computeWeekNumber(a.marker),c.weekLabel,c.locale,b.week)}:Hb(a,b,c)}function Hb(a,b,c){a=Fe({},a),b=Fe({},b),Ib(a,b),a.timeZone="UTC";var d,e=new Intl.DateTimeFormat(c.locale.codes,a);if(b.omitZeroMinute){var f=Fe({},a);delete f.minute,d=new Intl.DateTimeFormat(c.locale.codes,f)}return function(f){var g,h=f.marker;g=d&&!h.getUTCMinutes()?d:e;var i=g.format(h);return Jb(i,f,a,b,c)}}function Ib(a,b){a.timeZoneName&&(a.hour||(a.hour="2-digit"),a.minute||(a.minute="2-digit")),"long"===a.timeZoneName&&(a.timeZoneName="short"),b.omitZeroMinute&&(a.second||a.millisecond)&&delete b.omitZeroMinute}function Jb(a,b,c,d,e){return a=a.replace(Me,""),"short"===c.timeZoneName&&(a=Kb(a,"UTC"===e.timeZone||null==b.timeZoneOffset?"UTC":Sb(b.timeZoneOffset))),d.omitCommas&&(a=a.replace(Ke,"").trim()),d.omitZeroMinute&&(a=a.replace(":00","")),d.meridiem===!1?a=a.replace(Je,"").trim():"narrow"===d.meridiem?a=a.replace(Je,function(a,b){return b.toLocaleLowerCase()}):"short"===d.meridiem?a=a.replace(Je,function(a,b){return b.toLocaleLowerCase()+"m"}):"lowercase"===d.meridiem&&(a=a.replace(Je,function(a){return a.toLocaleLowerCase()})),a=a.replace(Le," "),a=a.trim()}function Kb(a,b){var c=!1;return a=a.replace(Ne,function(){return c=!0,b}),c||(a+=" "+b),a}function Lb(a,b,c,d){var e=[];return"narrow"===d?e.push(b):"short"===d&&e.push(b," "),e.push(c.simpleNumberFormat.format(a)),c.options.isRtl&&e.reverse(),e.join("")}function Mb(a,b,c){return c.getMarkerYear(a)!==c.getMarkerYear(b)?5:c.getMarkerMonth(a)!==c.getMarkerMonth(b)?4:c.getMarkerDay(a)!==c.getMarkerDay(b)?2:ia(a)!==ia(b)?1:0}function Nb(a,b){var c={};for(var d in a)d in Ie&&!(Ie[d]<=b)||(c[d]=a[d]);return c}function Ob(a,b,c,d){for(var e=0;e<a.length;){var f=a.indexOf(b,e);if(f===-1)break;var g=a.substr(0,f);e=f+b.length;for(var h=a.substr(e),i=0;i<c.length;){var j=c.indexOf(d,i);if(j===-1)break;var k=c.substr(0,j);i=j+d.length;var l=c.substr(i);if(g===k&&h===l)return{before:g,after:h}}}return null}function Pb(a,b){return"object"==typeof a&&a?("string"==typeof b&&(a=Fe({separator:b},a)),new Oe(a)):"string"==typeof a?new Pe(a,b):"function"==typeof a?new Qe(a):void 0}function Qb(a,b,c){void 0===c&&(c=!1);var d=a.toISOString();return d=d.replace(".000",""),c&&(d=d.replace("T00:00:00Z","")),d.length>10&&(null==b?d=d.replace("Z",""):0!==b&&(d=d.replace("Z",Sb(b,!0)))),d}function Rb(a){return Ra(a.getUTCHours(),2)+":"+Ra(a.getUTCMinutes(),2)+":"+Ra(a.getUTCSeconds(),2)}function Sb(a,b){void 0===b&&(b=!1);var c=a<0?"-":"+",d=Math.abs(a),e=Math.floor(d/60),f=Math.round(d%60);return b?c+Ra(e,2)+":"+Ra(f,2):"GMT"+c+e+(f?":"+Ra(f,2):"")}function Tb(a,b,c,d){var e=Ub(a,c.calendarSystem),f=b?Ub(b,c.calendarSystem):null;return{date:e,start:e,end:f,timeZone:c.timeZone,localeCodes:c.locale.codes,separator:d}}function Ub(a,b){var c=b.markerToArray(a.marker);return{marker:a.marker,timeZoneOffset:a.timeZoneOffset,array:c,year:c[0],month:c[1],day:c[2],hour:c[3],minute:c[4],second:c[5],millisecond:c[6]}}function Vb(a,b,c,d){var e={},f={},g={},h=[],i=[],j=$b(a.defs,b);for(var k in a.defs){var l=a.defs[k];"inverse-background"===l.rendering&&(l.groupId?(e[l.groupId]=[],g[l.groupId]||(g[l.groupId]=l)):f[k]=[])}for(var m in a.instances){var n=a.instances[m],l=a.defs[n.defId],o=j[l.defId],p=n.range,q=!l.allDay&&d?Za(p,d):p,r=wb(q,c);r&&("inverse-background"===l.rendering?l.groupId?e[l.groupId].push(r):f[n.defId].push(r):("background"===l.rendering?h:i).push({def:l,ui:o,instance:n,range:r,isStart:q.start&&q.start.valueOf()===r.start.valueOf(),isEnd:q.end&&q.end.valueOf()===r.end.valueOf()}))}for(var s in e)for(var t=e[s],u=ub(t,c),v=0,w=u;v<w.length;v++){var x=w[v],l=g[s],o=j[l.defId];h.push({def:l,ui:o,instance:null,range:x,isStart:!1,isEnd:!1})}for(var k in f)for(var t=f[k],u=ub(t,c),y=0,z=u;y<z.length;y++){var x=z[y];h.push({def:a.defs[k],ui:j[k],instance:null,range:x,isStart:!1,isEnd:!1})}return{bg:h,fg:i}}function Wb(a){return"background"===a.rendering||"inverse-background"===a.rendering}function Xb(a,b,c){var d=a.calendar,e=a.view;d.hasPublicHandlers("eventRender")&&(b=b.filter(function(a){var b=d.publiclyTrigger("eventRender",[{event:new Se(d,a.eventRange.def,a.eventRange.instance),isMirror:c,isStart:a.isStart,isEnd:a.isEnd,el:a.el,view:e}]);return b!==!1&&(b&&b!==!0&&(a.el=b),!0)}));for(var f=0,g=b;f<g.length;f++){var h=g[f];Yb(h.el,h)}return b}function Yb(a,b){a.fcSeg=b}function Zb(a){return a.fcSeg||null}function $b(a,b){return fb(a,function(a){return _b(a,b)})}function _b(a,b){var c=[];return b[""]&&c.push(b[""]),b[a.defId]&&c.push(b[a.defId]),c.push(a.ui),Gc(c)}function ac(a,b,c){var d=a.calendar,e=a.view;if(d.hasPublicHandlers("eventPositioned"))for(var f=0,g=b;f<g.length;f++){var h=g[f];d.publiclyTriggerAfterSizing("eventPositioned",[{event:new Se(d,h.eventRange.def,h.eventRange.instance),isMirror:c,isStart:h.isStart,isEnd:h.isEnd,el:h.el,view:e}])}d.state.eventSourceLoadingLevel||(d.afterSizingTriggers._eventsPositioned=[null])}function bc(a,b,c){for(var d=a.calendar,e=a.view,f=0,g=b;f<g.length;f++){var h=g[f];d.trigger("eventElRemove",h.el)}if(d.hasPublicHandlers("eventDestroy"))for(var i=0,j=b;i<j.length;i++){var h=j[i];d.publiclyTrigger("eventDestroy",[{event:new Se(d,h.eventRange.def,h.eventRange.instance),isMirror:c,el:h.el,view:e}])}}function cc(a,b,c){for(var d=a.calendar,e=a.view,f=d.pluginSystem.hooks.isDraggableTransformers,g=c.startEditable,h=0,i=f;h<i.length;h++){var j=i[h];g=j(g,b,c,e)}return g}function dc(a,b,c){return c.durationEditable&&a.options.eventResizableFromStart}function ec(a,b,c){return c.durationEditable}function fc(a,b,c,d){var e=$b(a.defs,b),f=qb();for(var g in a.defs){var h=a.defs[g];f.defs[g]=gc(h,e[g],c,d.pluginSystem.hooks.eventDefMutationAppliers,d)}for(var i in a.instances){var j=a.instances[i],h=f.defs[j.defId];f.instances[i]=hc(j,h,e[j.defId],c,d)}return f}function gc(a,b,c,d,e){var f=c.standardProps||{};null==f.hasEnd&&b.durationEditable&&(c.startDelta||c.endDelta)&&(f.hasEnd=!0);var g=Fe({},a,f,{ui:Fe({},a.ui,f.ui)});c.extendedProps&&(g.extendedProps=Fe({},g.extendedProps,c.extendedProps));for(var h=0,i=d;h<i.length;h++){var j=i[h];j(g,c,e)}return!g.hasEnd&&e.opt("forceEventDuration")&&(g.hasEnd=!0),g}function hc(a,b,c,d,e){var f=e.dateEnv,g=d.standardProps&&d.standardProps.allDay===!0,h=d.standardProps&&d.standardProps.hasEnd===!1,i=Fe({},a);return g&&(i.range=Ya(i.range)),d.datesDelta&&c.startEditable&&(i.range={start:f.add(i.range.start,d.datesDelta),end:f.add(i.range.end,d.datesDelta)}),d.startDelta&&c.durationEditable&&(i.range={start:f.add(i.range.start,d.startDelta),end:i.range.end}),d.endDelta&&c.durationEditable&&(i.range={start:i.range.start,end:f.add(i.range.end,d.endDelta)}),h&&(i.range={start:i.range.start,end:e.getDefaultEventEnd(b.allDay,i.range.start)}),b.allDay&&(i.range={start:Y(i.range.start),end:Y(i.range.end)}),i.range.end<i.range.start&&(i.range.end=e.getDefaultEventEnd(b.allDay,i.range.start)),i}function ic(a,b,c,d,e){switch(b.type){case"RECEIVE_EVENTS":return jc(a,c[b.sourceId],b.fetchId,b.fetchRange,b.rawEvents,e);case"ADD_EVENTS":return kc(a,b.eventStore,d?d.activeRange:null,e);case"MERGE_EVENTS":return rb(a,b.eventStore);case"PREV":case"NEXT":case"SET_DATE":case"SET_VIEW_TYPE":return d?lb(a,d.activeRange,e):a;case"CHANGE_TIMEZONE":return lc(a,b.oldDateEnv,e.dateEnv);case"MUTATE_EVENTS":return mc(a,b.instanceId,b.mutation,b.fromApi,e);case"REMOVE_EVENT_INSTANCES":return oc(a,b.instances);case"REMOVE_EVENT_DEF":return sb(a,function(a){return a.defId!==b.defId});case"REMOVE_EVENT_SOURCE":return nc(a,b.sourceId);case"REMOVE_ALL_EVENT_SOURCES":return sb(a,function(a){return!a.sourceId});case"REMOVE_ALL_EVENTS":return qb();case"RESET_EVENTS":return{defs:a.defs,instances:a.instances};default:return a}}function jc(a,b,c,d,e,f){if(b&&c===b.latestFetchId){var g=jb(ob(e,b,f),b.sourceId,f);return d&&(g=lb(g,d,f)),rb(nc(a,b.sourceId),g)}return a}function kc(a,b,c,d){return c&&(b=lb(b,c,d)),rb(a,b)}function lc(a,b,c){var d=a.defs,e=fb(a.instances,function(a){var e=d[a.defId];return e.allDay||e.recurringDef?a:Fe({},a,{range:{start:c.createMarker(b.toDate(a.range.start,a.forcedStartTzo)),end:c.createMarker(b.toDate(a.range.end,a.forcedEndTzo))},forcedStartTzo:c.canComputeOffset?null:a.forcedStartTzo,forcedEndTzo:c.canComputeOffset?null:a.forcedEndTzo})});return{defs:d,instances:e}}function mc(a,b,c,d,e){var f=mb(a,b),g=d?{"":{startEditable:!0,durationEditable:!0,constraints:[],overlap:null,allows:[],backgroundColor:"",borderColor:"",textColor:"",classNames:[]}}:e.eventUiBases;return f=fc(f,g,c,e),rb(a,f)}function nc(a,b){return sb(a,function(a){return a.sourceId!==b})}function oc(a,b){return{defs:a.defs,instances:eb(a.instances,function(a){return!b[a.instanceId]})}}function pc(a,b){return rc({eventDrag:a},b)}function qc(a,b){return rc({dateSelection:a},b)}function rc(a,b){var c=b.view,d=Fe({businessHours:c?c.props.businessHours:qb(),dateSelection:"",eventStore:b.state.eventStore,eventUiBases:b.eventUiBases,eventSelection:"",eventDrag:null,eventResize:null},a);return(b.pluginSystem.hooks.isPropsValid||sc)(d,b)}function sc(a,b,c,d){return void 0===c&&(c={}),!(a.eventDrag&&!tc(a,b,c,d))&&!(a.dateSelection&&!uc(a,b,c,d))}function tc(a,b,c,d){var e=a.eventDrag,f=e.mutatedEvents,g=f.defs,h=f.instances,i=$b(g,e.isEvent?a.eventUiBases:{"":b.selectionConfig});d&&(i=fb(i,d));var j=oc(a.eventStore,e.affectedEvents.instances),k=j.defs,l=j.instances,m=$b(k,a.eventUiBases);for(var n in h){var o=h[n],p=o.range,q=i[o.defId],r=g[o.defId];if(!vc(q.constraints,p,j,a.businessHours,b))return!1;var s=b.opt("eventOverlap");"function"!=typeof s&&(s=null);for(var t in l){var u=l[t];if(yb(p,u.range)){var v=m[u.defId].overlap;if(v===!1&&e.isEvent)return!1;if(q.overlap===!1)return!1;if(s&&!s(new Se(b,k[u.defId],u),new Se(b,r,o)))return!1}}for(var w=b.state.eventStore,x=0,y=q.allows;x<y.length;x++){var z=y[x],A=Fe({},c,{range:o.range,allDay:r.allDay}),B=w.defs[r.defId],C=w.instances[n],D=void 0;if(D=B?new Se(b,B,C):new Se(b,r),!z(b.buildDateSpanApi(A),D))return!1}}return!0}function uc(a,b,c,d){var e=a.eventStore,f=e.defs,g=e.instances,h=a.dateSelection,i=h.range,j=b.selectionConfig;if(d&&(j=d(j)),!vc(j.constraints,i,e,a.businessHours,b))return!1;var k=b.opt("selectOverlap");"function"!=typeof k&&(k=null);for(var l in g){var m=g[l];if(yb(i,m.range)){if(j.overlap===!1)return!1;if(k&&!k(new Se(b,f[m.defId],m)))return!1}}for(var n=0,o=j.allows;n<o.length;n++){var p=o[n],q=Fe({},c,h);if(!p(b.buildDateSpanApi(q),null))return!1}return!0}function vc(a,b,c,d,e){for(var f=0,g=a;f<g.length;f++){var h=g[f];if(!yc(wc(h,b,c,d,e),b))return!1}return!0}function wc(a,b,c,d,e){return"businessHours"===a?xc(lb(d,b,e)):"string"==typeof a?xc(sb(c,function(b){return b.groupId===a})):"object"==typeof a&&a?xc(lb(a,b,e)):[]}function xc(a){var b=a.instances,c=[];for(var d in b)c.push(b[d].range);return c}function yc(a,b){for(var c=0,d=a;c<d.length;c++){var e=d[c];if(zb(e,b))return!0}return!1}function zc(a,b){return Array.isArray(a)?jb(a,"",b,!0):"object"==typeof a&&a?jb([a],"",b,!0):null!=a?a+"":null}function Ac(a){return(a+"").replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/'/g,"&#039;").replace(/"/g,"&quot;").replace(/\n/g,"<br />")}function Bc(a){var b=[];for(var c in a){var d=a[c];null!=d&&""!==d&&b.push(c+":"+d)}return b.join(";")}function Cc(a){var b=[];for(var c in a){var d=a[c];null!=d&&b.push(c+'="'+Ac(d)+'"')}return b.join(" ")}function Dc(a){return Array.isArray(a)?a:"string"==typeof a?a.split(/\s+/):[]}function Ec(a,b,c){var d=Xa(a,Te,{},c),e=zc(d.constraint,b);return{startEditable:null!=d.startEditable?d.startEditable:d.editable,durationEditable:null!=d.durationEditable?d.durationEditable:d.editable,constraints:null!=e?[e]:[],overlap:d.overlap,allows:null!=d.allow?[d.allow]:[],backgroundColor:d.backgroundColor||d.color,borderColor:d.borderColor||d.color,textColor:d.textColor,classNames:d.classNames.concat(d.className)}}function Fc(a,b,c,d){var e={},f={};for(var g in Te){var h=a+Qa(g);e[g]=b[h],f[h]=!0}if("event"===a&&(e.editable=b.editable),d)for(var g in b)f[g]||(d[g]=b[g]);return Ec(e,c)}function Gc(a){return a.reduce(Hc,Ue)}function Hc(a,b){return{startEditable:null!=b.startEditable?b.startEditable:a.startEditable,durationEditable:null!=b.durationEditable?b.durationEditable:a.durationEditable,constraints:a.constraints.concat(b.constraints),overlap:"boolean"==typeof b.overlap?b.overlap:a.overlap,allows:a.allows.concat(b.allows),backgroundColor:b.backgroundColor||a.backgroundColor,borderColor:b.borderColor||a.borderColor,textColor:b.textColor||a.textColor,classNames:a.classNames.concat(b.classNames)}}function Ic(a,b,c,d){var e=Oc(b,c),f={},g=bb(a,e,c.dateEnv,c.pluginSystem.hooks.recurringTypes,f);if(g){var h=Jc(f,b,g.allDay,!!g.duration,c);return h.recurringDef={typeId:g.typeId,typeData:g.typeData,duration:g.duration},{def:h,instance:null}}var i={},j=Lc(a,e,c,i,d);if(j){var h=Jc(i,b,j.allDay,j.hasEnd,c),k=Kc(h.defId,j.range,j.forcedStartTzo,j.forcedEndTzo);return{def:h,instance:k}}return null}function Jc(a,b,c,d,e){var f={},g=Nc(a,e,f);g.defId=Xe++ +"",g.sourceId=b,g.allDay=c,g.hasEnd=d;for(var h=0,i=e.pluginSystem.hooks.eventDefParsers;h<i.length;h++){var j=i[h],k={};j(g,f,k),f=k}return g.extendedProps=Fe(f,g.extendedProps||{}),Object.freeze(g.ui.classNames),Object.freeze(g.extendedProps),g}function Kc(a,b,c,d){return{instanceId:Xe++ +"",defId:a,range:b,forcedStartTzo:null==c?null:c,forcedEndTzo:null==d?null:d}}function Lc(a,b,c,d,e){var f,g,h=Mc(a,d),i=h.allDay,j=null,k=!1,l=null;if(f=c.dateEnv.createMarkerMeta(h.start))j=f.marker;else if(!e)return null;return null!=h.end&&(g=c.dateEnv.createMarkerMeta(h.end)),null==i&&(i=null!=b?b:(!f||f.isTimeUnspecified)&&(!g||g.isTimeUnspecified)),i&&j&&(j=Y(j)),g&&(l=g.marker,i&&(l=Y(l)),j&&l<=j&&(l=null)),l?k=!0:e||(k=c.opt("forceEventDuration")||!1,l=c.dateEnv.add(j,i?c.defaultAllDayEventDuration:c.defaultTimedEventDuration)),{allDay:i,hasEnd:k,range:{start:j,end:l},forcedStartTzo:f?f.forcedTzo:null,forcedEndTzo:g?g.forcedTzo:null}}function Mc(a,b){var c=Xa(a,We,{},b);return c.start=null!==c.start?c.start:c.date,delete c.date,c}function Nc(a,b,c){var d={},e=Xa(a,Ve,{},d),f=Ec(d,b,c);return e.publicId=e.id,delete e.id,e.ui=f,e}function Oc(a,b){var c=null;if(a){var d=b.state.eventSources[a];c=d.allDayDefault}return null==c&&(c=b.opt("allDayDefault")),c}function Pc(a,b){return jb(Qc(a),"",b)}function Qc(a){var b;return b=a===!0?[{}]:Array.isArray(a)?a.filter(function(a){return a.daysOfWeek}):"object"==typeof a&&a?[a]:[],b=b.map(function(a){return Fe({},Ye,a)})}function Rc(a,b,c){function d(){if(g){for(var a=0,c=h;a<c.length;a++){var d=c[a];d.unrender()}b&&b.apply(f,g),g=null}}function e(){g&&Db(g,arguments)||(d(),f=this,g=arguments,a.apply(this,arguments))}void 0===c&&(c=[]);var f,g,h=[];e.dependents=h,e.unrender=d;for(var i=0,j=c;i<j.length;i++){var k=j[i];k.dependents.push(e)}return e}function Sc(a,b,c){var d=[];a&&d.push(a),b&&d.push(b);var e={"":Gc(d)};return c&&Fe(e,c),e}function Tc(a,b,c,d,e){var f,g,h,i;return c instanceof Date?f=c:(f=c.date,g=c.type,h=c.forceOff),i={date:b.formatIso(f,{omitTime:!0}),type:g||"day"},"string"==typeof d&&(e=d,d=null),d=d?" "+Cc(d):"",e=e||"",!h&&a.navLinks?"<a"+d+' data-goto="'+Ac(JSON.stringify(i))+'">'+e+"</a>":"<span"+d+">"+e+"</span>"}function Uc(a){return a.allDayHtml||Ac(a.allDayText)}function Vc(a,b,c,d){var e,f,g=c.calendar,h=c.options,i=c.theme,j=c.dateEnv,k=[];return Ab(b.activeRange,a)?(k.push("fc-"+Be[a.getUTCDay()]),h.monthMode&&j.getMonth(a)!==j.getMonth(b.currentRange.start)&&k.push("fc-other-month"),e=Y(g.getNow()),f=O(e,1),a<e?k.push("fc-past"):a>=f?k.push("fc-future"):(k.push("fc-today"),d!==!0&&k.push(i.getClass("today")))):k.push("fc-disabled-day"),k}function Wc(a,b,c){var d=!1,e=function(){d||(d=!0,b.apply(this,arguments))},f=function(){d||(d=!0,c&&c.apply(this,arguments))},g=a(e,f);g&&"function"==typeof g.then&&g.then(e,f)}function Xc(a,b,c){(a[b]||(a[b]=[])).push(c)}function Yc(a,b,c){c?a[b]&&(a[b]=a[b].filter(function(a){return a!==c})):delete a[b]}function Zc(a,b,c){var d={},e=!1;for(var f in b)f in a&&(a[f]===b[f]||c[f]&&c[f](a[f],b[f]))?d[f]=a[f]:(d[f]=b[f],e=!0);for(var f in a)if(!(f in b)){e=!0;break}return{anyChanges:e,comboProps:d}}function $c(a){return{id:mf++ +"",deps:a.deps||[],reducers:a.reducers||[],eventDefParsers:a.eventDefParsers||[],isDraggableTransformers:a.isDraggableTransformers||[],eventDragMutationMassagers:a.eventDragMutationMassagers||[],eventDefMutationAppliers:a.eventDefMutationAppliers||[],dateSelectionTransformers:a.dateSelectionTransformers||[],datePointTransforms:a.datePointTransforms||[],dateSpanTransforms:a.dateSpanTransforms||[],views:a.views||{},viewPropsTransformers:a.viewPropsTransformers||[],isPropsValid:a.isPropsValid||null,externalDefTransforms:a.externalDefTransforms||[],eventResizeJoinTransforms:a.eventResizeJoinTransforms||[],viewContainerModifiers:a.viewContainerModifiers||[],eventDropTransformers:a.eventDropTransformers||[],componentInteractions:a.componentInteractions||[],calendarInteractions:a.calendarInteractions||[],themeClasses:a.themeClasses||{},eventSourceDefs:a.eventSourceDefs||[],cmdFormatter:a.cmdFormatter,recurringTypes:a.recurringTypes||[],namedTimeZonedImpl:a.namedTimeZonedImpl,defaultView:a.defaultView||"",elementDraggingImpl:a.elementDraggingImpl,optionChangeHandlers:a.optionChangeHandlers||{}}}function _c(a,b){return{reducers:a.reducers.concat(b.reducers),eventDefParsers:a.eventDefParsers.concat(b.eventDefParsers),isDraggableTransformers:a.isDraggableTransformers.concat(b.isDraggableTransformers),eventDragMutationMassagers:a.eventDragMutationMassagers.concat(b.eventDragMutationMassagers),eventDefMutationAppliers:a.eventDefMutationAppliers.concat(b.eventDefMutationAppliers),dateSelectionTransformers:a.dateSelectionTransformers.concat(b.dateSelectionTransformers),datePointTransforms:a.datePointTransforms.concat(b.datePointTransforms),dateSpanTransforms:a.dateSpanTransforms.concat(b.dateSpanTransforms),views:Fe({},a.views,b.views),viewPropsTransformers:a.viewPropsTransformers.concat(b.viewPropsTransformers),isPropsValid:b.isPropsValid||a.isPropsValid,externalDefTransforms:a.externalDefTransforms.concat(b.externalDefTransforms),eventResizeJoinTransforms:a.eventResizeJoinTransforms.concat(b.eventResizeJoinTransforms),viewContainerModifiers:a.viewContainerModifiers.concat(b.viewContainerModifiers),eventDropTransformers:a.eventDropTransformers.concat(b.eventDropTransformers),calendarInteractions:a.calendarInteractions.concat(b.calendarInteractions),componentInteractions:a.componentInteractions.concat(b.componentInteractions),themeClasses:Fe({},a.themeClasses,b.themeClasses),eventSourceDefs:a.eventSourceDefs.concat(b.eventSourceDefs),cmdFormatter:b.cmdFormatter||a.cmdFormatter,recurringTypes:a.recurringTypes.concat(b.recurringTypes),namedTimeZonedImpl:b.namedTimeZonedImpl||a.namedTimeZonedImpl,defaultView:a.defaultView||b.defaultView,elementDraggingImpl:a.elementDraggingImpl||b.elementDraggingImpl,optionChangeHandlers:Fe({},a.optionChangeHandlers,b.optionChangeHandlers)}}function ad(a,b,c,d,e){a=a.toUpperCase();var f=null;"GET"===a?b=bd(b,c):f=cd(c);var g=new XMLHttpRequest;g.open(a,b,!0),"GET"!==a&&g.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),g.onload=function(){if(g.status>=200&&g.status<400)try{var a=JSON.parse(g.responseText);d(a,g)}catch(b){e("Failure parsing JSON",g)}else e("Request failed",g)},g.onerror=function(){e("Request failed",g)},g.send(f)}function bd(a,b){return a+(a.indexOf("?")===-1?"?":"&")+cd(b)}function cd(a){var b=[];for(var c in a)b.push(encodeURIComponent(c)+"="+encodeURIComponent(a[c]));return b.join("&")}function dd(a,b,c){var d,e,f,g,h=c.dateEnv,i={};return d=a.startParam,null==d&&(d=c.opt("startParam")),e=a.endParam,null==e&&(e=c.opt("endParam")),f=a.timeZoneParam,null==f&&(f=c.opt("timeZoneParam")),g="function"==typeof a.extraParams?a.extraParams():a.extraParams||{},Fe(i,g),i[d]=h.formatIso(b.start),i[e]=h.formatIso(b.end),"local"!==h.timeZone&&(i[f]=h.timeZone),i}function ed(a,b,c,d){for(var e=a?gb(a):null,f=Y(c.start),g=c.end,h=[];f<g;){var i=void 0;e&&!e[f.getUTCDay()]||(i=b?d.add(f,b):f,h.push(i)),f=O(f,1)}return h}function fd(a,b,c){for(var d=hb(b.state.eventSources),e=[],f=0,g=a;f<g.length;f++){for(var h=g[f],i=!1,j=0;j<d.length;j++)if(c(d[j]._raw,h)){d.splice(j,1),i=!0;break}i||e.push(h)}for(var k=0,l=d;k<l.length;k++){var m=l[k];b.dispatch({type:"REMOVE_EVENT_SOURCE",sourceId:m.sourceId})}for(var n=0,o=e;n<o.length;n++){var p=o[n];b.addEventSource(p)}}function gd(a,b){b.addPluginInputs(a)}function hd(a){return db(a,Af)}function id(a){for(var b=[],c=0,d=a;c<d.length;c++){var e=d[c];if("string"==typeof e){var f="FullCalendar"+Qa(e);window[f]&&b.push(window[f]["default"])}else b.push(e)}return Bf.concat(b)}function jd(a){for(var b=a.length>0?a[0].code:"en",c=window.FullCalendarLocalesAll||[],d=window.FullCalendarLocales||{},e=c.concat(hb(d),a),f={en:Cf},g=0,h=e;g<h.length;g++){var i=h[g];f[i.code]=i}return{map:f,defaultCode:b}}function kd(a,b){return"object"!=typeof a||Array.isArray(a)?ld(a,b):nd(a.code,[a.code],a)}function ld(a,b){var c=[].concat(a||[]),d=md(c,b)||Cf;return nd(a,c,d)}function md(a,b){for(var c=0;c<a.length;c++)for(var d=a[c].toLocaleLowerCase().split("-"),e=d.length;e>0;e--){var f=d.slice(0,e).join("-");if(b[f])return b[f]}return null}function nd(a,b,c){var d=db([Cf,c],["buttonText"]);delete d.code;var e=d.week;return delete d.week,{codeArg:a,codes:b,week:e,simpleNumberFormat:new Intl.NumberFormat(a),options:d}}function od(a,b){Ef[a]=b}function pd(a){return new Ef[a]}function qd(a){var b=Gf.exec(a);if(b){var c=new Date(Date.UTC(+b[1],b[3]?+b[3]-1:0,+(b[5]||1),+(b[7]||0),+(b[8]||0),+(b[10]||0),b[12]?1e3*+("0."+b[12]):0));if(ha(c)){var d=null;return b[13]&&(d=("-"===b[15]?-1:1)*(60*+(b[16]||0)+ +(b[18]||0))),{marker:c,isTimeUnspecified:!b[6],timeZoneOffset:d}}}return null}function rd(a,b){var c=b.pluginSystem.hooks.eventSourceDefs;return!c[a.sourceDefId].ignoreRange}function sd(a,b){for(var c=b.pluginSystem.hooks.eventSourceDefs,d=c.length-1;d>=0;d--){var e=c[d],f=e.parseMeta(a);if(f){var g=td("object"==typeof a?a:{},f,d,b);return g._raw=a,g}}return null}function td(a,b,c,d){var e={},f=Xa(a,If,{},e),g={},h=Ec(e,d,g);return f.isFetching=!1,f.latestFetchId="",f.fetchRange=null,f.publicId=(a.id||"")+"",f.sourceId=Jf++ +"",f.sourceDefId=c,f.meta=b,f.ui=h,f.extendedProps=g,f}function ud(a,b,c,d){switch(b.type){case"ADD_EVENT_SOURCES":return vd(a,b.sources,c?c.activeRange:null,d);case"REMOVE_EVENT_SOURCE":return wd(a,b.sourceId);case"PREV":case"NEXT":case"SET_DATE":case"SET_VIEW_TYPE":return c?xd(a,c.activeRange,d):a;case"FETCH_EVENT_SOURCES":case"CHANGE_TIMEZONE":return zd(a,b.sourceIds?gb(b.sourceIds):Cd(a,d),c?c.activeRange:null,d);case"RECEIVE_EVENTS":case"RECEIVE_EVENT_ERROR":return Bd(a,b.sourceId,b.fetchId,b.fetchRange);case"REMOVE_ALL_EVENT_SOURCES":return{};default:return a}}function vd(a,b,c,d){for(var e={},f=0,g=b;f<g.length;f++){var h=g[f];e[h.sourceId]=h}return c&&(e=xd(e,c,d)),Fe({},a,e)}function wd(a,b){return eb(a,function(a){return a.sourceId!==b})}function xd(a,b,c){return zd(a,eb(a,function(a){return yd(a,b,c)}),b,c)}function yd(a,b,c){return rd(a,c)?!c.opt("lazyFetching")||!a.fetchRange||a.isFetching||b.start<a.fetchRange.start||b.end>a.fetchRange.end:!a.latestFetchId}function zd(a,b,c,d){var e={};for(var f in a){var g=a[f];b[f]?e[f]=Ad(g,c,d):e[f]=g}return e}function Ad(a,b,c){var d=c.pluginSystem.hooks.eventSourceDefs[a.sourceDefId],e=Kf++ +"";return d.fetch({eventSource:a,calendar:c,range:b},function(d){var f,g,h=d.rawEvents,i=c.opt("eventSourceSuccess");a.success&&(g=a.success(h,d.xhr)),i&&(f=i(h,d.xhr)),h=g||f||h,c.dispatch({type:"RECEIVE_EVENTS",sourceId:a.sourceId,fetchId:e,fetchRange:b,rawEvents:h})},function(d){var f=c.opt("eventSourceFailure");a.failure&&a.failure(d),f&&f(d),c.dispatch({type:"RECEIVE_EVENT_ERROR",sourceId:a.sourceId,fetchId:e,fetchRange:b,error:d})}),Fe({},a,{isFetching:!0,latestFetchId:e})}function Bd(a,b,c,d){var e,f=a[b];return f&&c===f.latestFetchId?Fe({},a,(e={},e[b]=Fe({},f,{isFetching:!1,fetchRange:d}),e)):a}function Cd(a,b){return eb(a,function(a){return rd(a,b)})}function Dd(a,b){return xb(a.validRange,b.validRange)&&xb(a.activeRange,b.activeRange)&&xb(a.renderRange,b.renderRange)&&na(a.minTime,b.minTime)&&na(a.maxTime,b.maxTime)}function Ed(a,b,c){for(var d=Fd(a.viewType,b),e=Gd(a.dateProfile,b,a.currentDate,d,c),f=ud(a.eventSources,b,e,c),g=Fe({},a,{viewType:d,dateProfile:e,currentDate:Hd(a.currentDate,b,e),eventSources:f,eventStore:ic(a.eventStore,b,f,e,c),dateSelection:Id(a.dateSelection,b,c),eventSelection:Jd(a.eventSelection,b),eventDrag:Kd(a.eventDrag,b,f,c),eventResize:Ld(a.eventResize,b,f,c),eventSourceLoadingLevel:Md(f),loadingLevel:Md(f)}),h=0,i=c.pluginSystem.hooks.reducers;h<i.length;h++){var j=i[h];g=j(g,b,c)}return g}function Fd(a,b){switch(b.type){case"SET_VIEW_TYPE":return b.viewType;default:return a}}function Gd(a,b,c,d,e){var f;switch(b.type){case"PREV":f=e.dateProfileGenerators[d].buildPrev(a,c);break;case"NEXT":f=e.dateProfileGenerators[d].buildNext(a,c);break;case"SET_DATE":a.activeRange&&Ab(a.currentRange,b.dateMarker)||(f=e.dateProfileGenerators[d].build(b.dateMarker,void 0,!0));break;case"SET_VIEW_TYPE":var g=e.dateProfileGenerators[d];if(!g)throw Error(d?'The FullCalendar view "'+d+'" does not exist. Make sure your plugins are loaded correctly.':"No available FullCalendar view plugins.");f=g.build(b.dateMarker||c,void 0,!0)}return!f||!f.isValid||a&&Dd(a,f)?a:f}function Hd(a,b,c){switch(b.type){case"PREV":case"NEXT":return Ab(c.currentRange,a)?a:c.currentRange.start;case"SET_DATE":case"SET_VIEW_TYPE":var d=b.dateMarker||a;return c.activeRange&&!Ab(c.activeRange,d)?c.currentRange.start:d;default:return a}}function Id(a,b,c){switch(b.type){case"SELECT_DATES":return b.selection;case"UNSELECT_DATES":return null;default:return a}}function Jd(a,b){switch(b.type){case"SELECT_EVENT":return b.eventInstanceId;case"UNSELECT_EVENT":return"";default:return a}}function Kd(a,b,c,d){switch(b.type){case"SET_EVENT_DRAG":var e=b.state;return{affectedEvents:e.affectedEvents,mutatedEvents:e.mutatedEvents,isEvent:e.isEvent,origSeg:e.origSeg};case"UNSET_EVENT_DRAG":return null;default:return a}}function Ld(a,b,c,d){switch(b.type){case"SET_EVENT_RESIZE":var e=b.state;return{affectedEvents:e.affectedEvents,mutatedEvents:e.mutatedEvents,isEvent:e.isEvent,origSeg:e.origSeg};case"UNSET_EVENT_RESIZE":return null;default:return a}}function Md(a){var b=0;for(var c in a)a[c].isFetching&&b++;return b}function Nd(a,b,c){var d=Od(a,b),e=d.range;if(!e.start)return null;if(!e.end){if(null==c)return null;e.end=b.add(e.start,c)}return d}function Od(a,b){var c={},d=Xa(a,Mf,{},c),e=d.start?b.createMarkerMeta(d.start):null,f=d.end?b.createMarkerMeta(d.end):null,g=d.allDay;return null==g&&(g=e&&e.isTimeUnspecified&&(!f||f.isTimeUnspecified)),c.range={start:e?e.marker:null,end:f?f.marker:null},c.allDay=g,c}function Pd(a,b){return xb(a.range,b.range)&&a.allDay===b.allDay&&Qd(a,b)}function Qd(a,b){for(var c in b)if("range"!==c&&"allDay"!==c&&a[c]!==b[c])return!1;for(var c in a)if(!(c in b))return!1;return!0}function Rd(a,b){return{start:b.toDate(a.range.start),end:b.toDate(a.range.end),startStr:b.formatIso(a.range.start,{omitTime:a.allDay}),endStr:b.formatIso(a.range.end,{omitTime:a.allDay}),allDay:a.allDay}}function Sd(a,b){return{date:b.toDate(a.range.start),dateStr:b.formatIso(a.range.start,{omitTime:a.allDay}),allDay:a.allDay}}function Td(a,b,c){var d=Jc({editable:!1},"",a.allDay,!0,c);return{def:d,ui:_b(d,b),instance:Kc(d.defId,a.range),range:a.range,isStart:!0,isEnd:!0}}function Ud(a,b){var c,d={};for(c in a)Vd(c,d,a,b);for(c in b)Vd(c,d,a,b);return d}function Vd(a,b,c,d){if(b[a])return b[a];var e=Wd(a,b,c,d);return e&&(b[a]=e),e}function Wd(a,b,c,d){var e=c[a],f=d[a],g=function(a){return e&&null!==e[a]?e[a]:f&&null!==f[a]?f[a]:null},h=g("class"),i=g("superType");!i&&h&&(i=Xd(h,d)||Xd(h,c));var j=null;if(i){if(i===a)throw Error("Can't have a custom view type that references itself");j=Vd(i,b,c,d)}return!h&&j&&(h=j["class"]),h?{type:a,"class":h,defaults:Fe({},j?j.defaults:{},e?e.options:{}),overrides:Fe({},j?j.overrides:{},f?f.options:{})}:null}function Xd(a,b){var c=Object.getPrototypeOf(a.prototype);for(var d in b){var e=b[d];if(e["class"]&&e["class"].prototype===c)return d;
}return""}function Yd(a){return fb(a,Zd)}function Zd(a){"function"==typeof a&&(a={"class":a});var b={},c=Xa(a,Nf,{},b);return{superType:c.type,"class":c["class"],options:b}}function $d(a,b){var c=Yd(a),d=Yd(b.overrides.views),e=Ud(c,d);return fb(e,function(a){return _d(a,d,b)})}function _d(a,b,c){var d=a.overrides.duration||a.defaults.duration||c.dynamicOverrides.duration||c.overrides.duration,e=null,f="",g="",h={};if(d&&(e=ja(d))){var i=za(e,!ma(d));f=i.unit,1===i.value&&(g=f,h=b[f]?b[f].options:{})}var j=function(b){var c=b.buttonText||{},d=a.defaults.buttonTextKey;return null!=d&&null!=c[d]?c[d]:null!=c[a.type]?c[a.type]:null!=c[g]?c[g]:void 0};return{type:a.type,"class":a["class"],duration:e,durationUnit:f,singleUnit:g,options:Fe({},yf,a.defaults,c.dirDefaults,c.localeDefaults,c.overrides,h,a.overrides,c.dynamicOverrides),buttonTextOverride:j(c.dynamicOverrides)||j(c.overrides)||a.overrides.buttonText,buttonTextDefault:j(c.localeDefaults)||j(c.dirDefaults)||a.defaults.buttonText||j(yf)||a.type}}function ae(a,b){var c;return c=/^(year|month)$/.test(a.currentRangeUnit)?a.currentRange:a.activeRange,this.context.dateEnv.formatRange(c.start,c.end,Pb(b.titleFormat||be(a),b.titleRangeSeparator),{isEndExclusive:a.isRangeAllDay})}function be(a){var b=a.currentRangeUnit;if("year"===b)return{year:"numeric"};if("month"===b)return{year:"numeric",month:"long"};var c=X(a.currentRange.start,a.currentRange.end);return null!==c&&c>1?{year:"numeric",month:"short",day:"numeric"}:{year:"numeric",month:"long",day:"numeric"}}function ce(a,b,c){return a.extend(b.options,c)}function de(a){return a.map(function(a){return new a})}function ee(a,b){return{component:a,el:b.el,useEventCenter:null==b.useEventCenter||b.useEventCenter}}function fe(a){var b;return b={},b[a.component.uid]=a,b}function ge(a,b,c){return new jf(this,a,b,c,null)}function he(a,b,c,d,e,f,g){return new Hf({calendarSystem:"gregory",timeZone:b,namedTimeZoneImpl:c,locale:a,weekNumberCalculation:e,firstDay:d,weekLabel:f,cmdFormatter:g})}function ie(a){var b=this.pluginSystem.hooks.themeClasses[a.themeSystem]||Uf;return new b(a)}function je(a){var b=this.tryRerender.bind(this);return null!=a&&(b=Wa(b,a)),b}function ke(a){return fb(a,function(a){return a.ui})}function le(a,b,c){var d={"":b};for(var e in a){var f=a[e];f.sourceId&&c[f.sourceId]&&(d[e]=c[f.sourceId])}return d}function me(a){var b=a.eventRange.def,c=a.eventRange.instance.range,d=c.start?c.start.valueOf():0,e=c.end?c.end.valueOf():0;return Fe({},b.extendedProps,b,{id:b.publicId,start:d,end:e,duration:e-d,allDay:+b.allDay,_seg:a})}function ne(a,b){void 0===b&&(b={});var c=pe(b),d=Pb(b),e=c.createMarkerMeta(a);return e?c.format(e.marker,d,{forcedTzo:e.forcedTzo}):""}function oe(a,b,c){var d=pe("object"==typeof c&&c?c:{}),e=Pb(c,yf.defaultRangeSeparator),f=d.createMarkerMeta(a),g=d.createMarkerMeta(b);return f&&g?d.formatRange(f.marker,g.marker,e,{forcedStartTzo:f.forcedTzo,forcedEndTzo:g.forcedTzo,isEndExclusive:c.isEndExclusive}):""}function pe(a){var b=kd(a.locale||"en",jd([]).map);return a=Fe({timeZone:yf.timeZone,calendarSystem:"gregory"},a,{locale:b}),new Hf(a)}function qe(a){var b={},c=Xa(a,_f,ag,b);return c.leftoverProps=b,c}function re(a,b){return!a||b>10?{weekday:"short"}:b>1?{weekday:"short",month:"numeric",day:"numeric",omitCommas:!0}:{weekday:"long"}}function se(a,b,c,d,e,f,g,h){var i,j=f.dateEnv,k=f.theme,l=f.options,m=Ab(b.activeRange,a),n=["fc-day-header",k.getClass("widgetHeader")];return i="function"==typeof l.columnHeaderHtml?l.columnHeaderHtml(j.toDate(a)):Ac("function"==typeof l.columnHeaderText?l.columnHeaderText(j.toDate(a)):j.format(a,e)),c?n=n.concat(Vc(a,b,f,!0)):n.push("fc-"+Be[a.getUTCDay()]),'<th class="'+n.join(" ")+'"'+(m&&c?' data-date="'+j.formatIso(a,{omitTime:!0})+'"':"")+(g>1?' colspan="'+g+'"':"")+(h?" "+h:"")+">"+(m?Tc(l,j,{date:a,forceOff:!c||1===d},i):i)+"</th>"}function te(a,b){var c=a.activeRange;return b?c:{start:P(c.start,a.minTime.milliseconds),end:P(c.end,a.maxTime.milliseconds-864e5)}}var ue={className:!0,colSpan:!0,rowSpan:!0},ve={"<tr":"tbody","<td":"tr"},we=Element.prototype.matches||Element.prototype.matchesSelector||Element.prototype.msMatchesSelector,xe=Element.prototype.closest||function(a){var b=this;if(!document.documentElement.contains(b))return null;do{if(m(b,a))return b;b=b.parentElement||b.parentNode}while(null!==b&&1===b.nodeType);return null},ye=/(top|left|right|bottom|width|height)$/i,ze=null,Ae=["webkitTransitionEnd","otransitionend","oTransitionEnd","msTransitionEnd","transitionend"],Be=["sun","mon","tue","wed","thu","fri","sat"],Ce=["years","months","days","milliseconds"],De=/^(-?)(?:(\d+)\.)?(\d+):(\d\d)(?::(\d\d)(?:\.(\d\d\d))?)?/,Ee=function(a,b){return(Ee=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c])})(a,b)},Fe=function(){return Fe=Object.assign||function(a){for(var b,c=1,d=arguments.length;c<d;c++){b=arguments[c];for(var e in b)Object.prototype.hasOwnProperty.call(b,e)&&(a[e]=b[e])}return a},Fe.apply(this,arguments)},Ge=Object.prototype.hasOwnProperty,He={week:3,separator:0,omitZeroMinute:0,meridiem:0,omitCommas:0},Ie={timeZoneName:7,era:6,year:5,month:4,day:2,weekday:2,hour:1,minute:1,second:1},Je=/\s*([ap])\.?m\.?/i,Ke=/,/g,Le=/\s+/g,Me=/\u200e/g,Ne=/UTC|GMT/,Oe=function(){function a(a){var b={},c={},d=0;for(var e in a)e in He?(c[e]=a[e],d=Math.max(He[e],d)):(b[e]=a[e],e in Ie&&(d=Math.max(Ie[e],d)));this.standardDateProps=b,this.extendedSettings=c,this.severity=d,this.buildFormattingFunc=Eb(Gb)}return a.prototype.format=function(a,b){return this.buildFormattingFunc(this.standardDateProps,this.extendedSettings,b)(a)},a.prototype.formatRange=function(a,b,c){var d=this,e=d.standardDateProps,f=d.extendedSettings,g=Mb(a.marker,b.marker,c.calendarSystem);if(!g)return this.format(a,c);var h=g;!(h>1)||"numeric"!==e.year&&"2-digit"!==e.year||"numeric"!==e.month&&"2-digit"!==e.month||"numeric"!==e.day&&"2-digit"!==e.day||(h=1);var i=this.format(a,c),j=this.format(b,c);if(i===j)return i;var k=Nb(e,h),l=Gb(k,f,c),m=l(a),n=l(b),o=Ob(i,m,j,n),p=f.separator||"";return o?o.before+m+p+n+o.after:i+p+j},a.prototype.getLargestUnit=function(){switch(this.severity){case 7:case 6:case 5:return"year";case 4:return"month";case 3:return"week";default:return"day"}},a}(),Pe=function(){function a(a,b){this.cmdStr=a,this.separator=b}return a.prototype.format=function(a,b){return b.cmdFormatter(this.cmdStr,Tb(a,null,b,this.separator))},a.prototype.formatRange=function(a,b,c){return c.cmdFormatter(this.cmdStr,Tb(a,b,c,this.separator))},a}(),Qe=function(){function a(a){this.func=a}return a.prototype.format=function(a,b){return this.func(Tb(a,null,b))},a.prototype.formatRange=function(a,b,c){return this.func(Tb(a,b,c))},a}(),Re=function(){function a(a,b){this.calendar=a,this.internalEventSource=b}return a.prototype.remove=function(){this.calendar.dispatch({type:"REMOVE_EVENT_SOURCE",sourceId:this.internalEventSource.sourceId})},a.prototype.refetch=function(){this.calendar.dispatch({type:"FETCH_EVENT_SOURCES",sourceIds:[this.internalEventSource.sourceId]})},Object.defineProperty(a.prototype,"id",{get:function(){return this.internalEventSource.publicId},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"url",{get:function(){return this.internalEventSource.meta.url},enumerable:!0,configurable:!0}),a}(),Se=function(){function a(a,b,c){this._calendar=a,this._def=b,this._instance=c||null}return a.prototype.setProp=function(a,b){var c,d;if(a in We);else if(a in Ve)"function"==typeof Ve[a]&&(b=Ve[a](b)),this.mutate({standardProps:(c={},c[a]=b,c)});else if(a in Te){var e=void 0;"function"==typeof Te[a]&&(b=Te[a](b)),"color"===a?e={backgroundColor:b,borderColor:b}:"editable"===a?e={startEditable:b,durationEditable:b}:(d={},d[a]=b,e=d),this.mutate({standardProps:{ui:e}})}},a.prototype.setExtendedProp=function(a,b){var c;this.mutate({extendedProps:(c={},c[a]=b,c)})},a.prototype.setStart=function(a,b){void 0===b&&(b={});var c=this._calendar.dateEnv,d=c.createMarker(a);if(d&&this._instance){var e=this._instance.range,f=_a(e.start,d,c,b.granularity);b.maintainDuration?this.mutate({datesDelta:f}):this.mutate({startDelta:f})}},a.prototype.setEnd=function(a,b){void 0===b&&(b={});var c,d=this._calendar.dateEnv;if((null==a||(c=d.createMarker(a)))&&this._instance)if(c){var e=_a(this._instance.range.end,c,d,b.granularity);this.mutate({endDelta:e})}else this.mutate({standardProps:{hasEnd:!1}})},a.prototype.setDates=function(a,b,c){void 0===c&&(c={});var d,e=this._calendar.dateEnv,f={allDay:c.allDay},g=e.createMarker(a);if(g&&(null==b||(d=e.createMarker(b)))&&this._instance){var h=this._instance.range;c.allDay===!0&&(h=Ya(h));var i=_a(h.start,g,e,c.granularity);if(d){var j=_a(h.end,d,e,c.granularity);na(i,j)?this.mutate({datesDelta:i,standardProps:f}):this.mutate({startDelta:i,endDelta:j,standardProps:f})}else f.hasEnd=!1,this.mutate({datesDelta:i,standardProps:f})}},a.prototype.moveStart=function(a){var b=ja(a);b&&this.mutate({startDelta:b})},a.prototype.moveEnd=function(a){var b=ja(a);b&&this.mutate({endDelta:b})},a.prototype.moveDates=function(a){var b=ja(a);b&&this.mutate({datesDelta:b})},a.prototype.setAllDay=function(a,b){void 0===b&&(b={});var c={allDay:a},d=b.maintainDuration;null==d&&(d=this._calendar.opt("allDayMaintainDuration")),this._def.allDay!==a&&(c.hasEnd=d),this.mutate({standardProps:c})},a.prototype.formatRange=function(a){var b=this._calendar.dateEnv,c=this._instance,d=Pb(a,this._calendar.opt("defaultRangeSeparator"));return this._def.hasEnd?b.formatRange(c.range.start,c.range.end,d,{forcedStartTzo:c.forcedStartTzo,forcedEndTzo:c.forcedEndTzo}):b.format(c.range.start,d,{forcedTzo:c.forcedStartTzo})},a.prototype.mutate=function(a){var b=this._def,c=this._instance;if(c){this._calendar.dispatch({type:"MUTATE_EVENTS",instanceId:c.instanceId,mutation:a,fromApi:!0});var d=this._calendar.state.eventStore;this._def=d.defs[b.defId],this._instance=d.instances[c.instanceId]}},a.prototype.remove=function(){this._calendar.dispatch({type:"REMOVE_EVENT_DEF",defId:this._def.defId})},Object.defineProperty(a.prototype,"source",{get:function(){var a=this._def.sourceId;return a?new Re(this._calendar,this._calendar.state.eventSources[a]):null},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"start",{get:function(){return this._instance?this._calendar.dateEnv.toDate(this._instance.range.start):null},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"end",{get:function(){return this._instance&&this._def.hasEnd?this._calendar.dateEnv.toDate(this._instance.range.end):null},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"id",{get:function(){return this._def.publicId},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"groupId",{get:function(){return this._def.groupId},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"allDay",{get:function(){return this._def.allDay},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"title",{get:function(){return this._def.title},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"url",{get:function(){return this._def.url},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"rendering",{get:function(){return this._def.rendering},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"startEditable",{get:function(){return this._def.ui.startEditable},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"durationEditable",{get:function(){return this._def.ui.durationEditable},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"constraint",{get:function(){return this._def.ui.constraints[0]||null},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"overlap",{get:function(){return this._def.ui.overlap},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"allow",{get:function(){return this._def.ui.allows[0]||null},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"backgroundColor",{get:function(){return this._def.ui.backgroundColor},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"borderColor",{get:function(){return this._def.ui.borderColor},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"textColor",{get:function(){return this._def.ui.textColor},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"classNames",{get:function(){return this._def.ui.classNames},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"extendedProps",{get:function(){return this._def.extendedProps},enumerable:!0,configurable:!0}),a}(),Te={editable:Boolean,startEditable:Boolean,durationEditable:Boolean,constraint:null,overlap:null,allow:null,className:Dc,classNames:Dc,color:String,backgroundColor:String,borderColor:String,textColor:String},Ue={startEditable:null,durationEditable:null,constraints:[],overlap:null,allows:[],backgroundColor:"",borderColor:"",textColor:"",classNames:[]},Ve={id:String,groupId:String,title:String,url:String,rendering:String,extendedProps:null},We={start:null,date:null,end:null,allDay:null},Xe=0,Ye={startTime:"09:00",endTime:"17:00",daysOfWeek:[1,2,3,4,5],rendering:"inverse-background",classNames:"fc-nonbusiness",groupId:"_businessHours"},Ze=qb(),$e=function(){function a(){this.getKeysForEventDefs=Eb(this._getKeysForEventDefs),this.splitDateSelection=Eb(this._splitDateSpan),this.splitEventStore=Eb(this._splitEventStore),this.splitIndividualUi=Eb(this._splitIndividualUi),this.splitEventDrag=Eb(this._splitInteraction),this.splitEventResize=Eb(this._splitInteraction),this.eventUiBuilders={}}return a.prototype.splitProps=function(a){var b=this,c=this.getKeyInfo(a),d=this.getKeysForEventDefs(a.eventStore),e=this.splitDateSelection(a.dateSelection),f=this.splitIndividualUi(a.eventUiBases,d),g=this.splitEventStore(a.eventStore,d),h=this.splitEventDrag(a.eventDrag),i=this.splitEventResize(a.eventResize),j={};this.eventUiBuilders=fb(c,function(a,c){return b.eventUiBuilders[c]||Eb(Sc)});for(var k in c){var l=c[k],m=g[k]||Ze,n=this.eventUiBuilders[k];j[k]={businessHours:l.businessHours||a.businessHours,dateSelection:e[k]||null,eventStore:m,eventUiBases:n(a.eventUiBases[""],l.ui,f[k]),eventSelection:m.instances[a.eventSelection]?a.eventSelection:"",eventDrag:h[k]||null,eventResize:i[k]||null}}return j},a.prototype._splitDateSpan=function(a){var b={};if(a)for(var c=this.getKeysForDateSpan(a),d=0,e=c;d<e.length;d++){var f=e[d];b[f]=a}return b},a.prototype._getKeysForEventDefs=function(a){var b=this;return fb(a.defs,function(a){return b.getKeysForEventDef(a)})},a.prototype._splitEventStore=function(a,b){var c=a.defs,d=a.instances,e={};for(var f in c)for(var g=0,h=b[f];g<h.length;g++){var i=h[g];e[i]||(e[i]=qb()),e[i].defs[f]=c[f]}for(var j in d)for(var k=d[j],l=0,m=b[k.defId];l<m.length;l++){var i=m[l];e[i]&&(e[i].instances[j]=k)}return e},a.prototype._splitIndividualUi=function(a,b){var c={};for(var d in a)if(d)for(var e=0,f=b[d];e<f.length;e++){var g=f[e];c[g]||(c[g]={}),c[g][d]=a[d]}return c},a.prototype._splitInteraction=function(a){var b={};if(a){var c=this._splitEventStore(a.affectedEvents,this._getKeysForEventDefs(a.affectedEvents)),d=this._getKeysForEventDefs(a.mutatedEvents),e=this._splitEventStore(a.mutatedEvents,d),f=function(d){b[d]||(b[d]={affectedEvents:c[d]||Ze,mutatedEvents:e[d]||Ze,isEvent:a.isEvent,origSeg:a.origSeg})};for(var g in c)f(g);for(var g in e)f(g)}return b},a}(),_e=function(){function a(){}return a.mixInto=function(a){this.mixIntoObj(a.prototype)},a.mixIntoObj=function(a){var b=this;Object.getOwnPropertyNames(this.prototype).forEach(function(c){a[c]||(a[c]=b.prototype[c])})},a.mixOver=function(a){var b=this;Object.getOwnPropertyNames(this.prototype).forEach(function(c){a.prototype[c]=b.prototype[c]})},a}(),af=function(a){function b(){return null!==a&&a.apply(this,arguments)||this}return ab(b,a),b.prototype.on=function(a,b){return Xc(this._handlers||(this._handlers={}),a,b),this},b.prototype.one=function(a,b){return Xc(this._oneHandlers||(this._oneHandlers={}),a,b),this},b.prototype.off=function(a,b){return this._handlers&&Yc(this._handlers,a,b),this._oneHandlers&&Yc(this._oneHandlers,a,b),this},b.prototype.trigger=function(a){for(var b=[],c=1;c<arguments.length;c++)b[c-1]=arguments[c];return this.triggerWith(a,this,b),this},b.prototype.triggerWith=function(a,b,c){return this._handlers&&Ua(this._handlers[a],b,c),this._oneHandlers&&(Ua(this._oneHandlers[a],b,c),delete this._oneHandlers[a]),this},b.prototype.hasHandlers=function(a){return this._handlers&&this._handlers[a]&&this._handlers[a].length||this._oneHandlers&&this._oneHandlers[a]&&this._oneHandlers[a].length},b}(_e),bf=function(){function a(a,b,c,d){this.originEl=a,this.els=b,this.isHorizontal=c,this.isVertical=d}return a.prototype.build=function(){var a=this.originEl,b=this.originClientRect=a.getBoundingClientRect();this.isHorizontal&&this.buildElHorizontals(b.left),this.isVertical&&this.buildElVerticals(b.top)},a.prototype.buildElHorizontals=function(a){for(var b=[],c=[],d=0,e=this.els;d<e.length;d++){var f=e[d],g=f.getBoundingClientRect();b.push(g.left-a),c.push(g.right-a)}this.lefts=b,this.rights=c},a.prototype.buildElVerticals=function(a){for(var b=[],c=[],d=0,e=this.els;d<e.length;d++){var f=e[d],g=f.getBoundingClientRect();b.push(g.top-a),c.push(g.bottom-a)}this.tops=b,this.bottoms=c},a.prototype.leftToIndex=function(a){var b,c=this.lefts,d=this.rights,e=c.length;for(b=0;b<e;b++)if(a>=c[b]&&a<d[b])return b},a.prototype.topToIndex=function(a){var b,c=this.tops,d=this.bottoms,e=c.length;for(b=0;b<e;b++)if(a>=c[b]&&a<d[b])return b},a.prototype.getWidth=function(a){return this.rights[a]-this.lefts[a]},a.prototype.getHeight=function(a){return this.bottoms[a]-this.tops[a]},a}(),cf=function(){function a(){}return a.prototype.getMaxScrollTop=function(){return this.getScrollHeight()-this.getClientHeight()},a.prototype.getMaxScrollLeft=function(){return this.getScrollWidth()-this.getClientWidth()},a.prototype.canScrollVertically=function(){return this.getMaxScrollTop()>0},a.prototype.canScrollHorizontally=function(){return this.getMaxScrollLeft()>0},a.prototype.canScrollUp=function(){return this.getScrollTop()>0},a.prototype.canScrollDown=function(){return this.getScrollTop()<this.getMaxScrollTop()},a.prototype.canScrollLeft=function(){return this.getScrollLeft()>0},a.prototype.canScrollRight=function(){return this.getScrollLeft()<this.getMaxScrollLeft()},a}(),df=function(a){function b(b){var c=a.call(this)||this;return c.el=b,c}return ab(b,a),b.prototype.getScrollTop=function(){return this.el.scrollTop},b.prototype.getScrollLeft=function(){return this.el.scrollLeft},b.prototype.setScrollTop=function(a){this.el.scrollTop=a},b.prototype.setScrollLeft=function(a){this.el.scrollLeft=a},b.prototype.getScrollWidth=function(){return this.el.scrollWidth},b.prototype.getScrollHeight=function(){return this.el.scrollHeight},b.prototype.getClientHeight=function(){return this.el.clientHeight},b.prototype.getClientWidth=function(){return this.el.clientWidth},b}(cf),ef=function(a){function b(){return null!==a&&a.apply(this,arguments)||this}return ab(b,a),b.prototype.getScrollTop=function(){return window.pageYOffset},b.prototype.getScrollLeft=function(){return window.pageXOffset},b.prototype.setScrollTop=function(a){window.scroll(window.pageXOffset,a)},b.prototype.setScrollLeft=function(a){window.scroll(a,window.pageYOffset)},b.prototype.getScrollWidth=function(){return document.documentElement.scrollWidth},b.prototype.getScrollHeight=function(){return document.documentElement.scrollHeight},b.prototype.getClientHeight=function(){return document.documentElement.clientHeight},b.prototype.getClientWidth=function(){return document.documentElement.clientWidth},b}(cf),ff=function(a){function c(c,d){var e=a.call(this,b("div",{className:"fc-scroller"}))||this;return e.overflowX=c,e.overflowY=d,e.applyOverflow(),e}return ab(c,a),c.prototype.clear=function(){this.setHeight("auto"),this.applyOverflow()},c.prototype.destroy=function(){k(this.el)},c.prototype.applyOverflow=function(){q(this.el,{overflowX:this.overflowX,overflowY:this.overflowY})},c.prototype.lockOverflow=function(a){var b=this.overflowX,c=this.overflowY;a=a||this.getScrollbarWidths(),"auto"===b&&(b=a.bottom||this.canScrollHorizontally()?"scroll":"hidden"),"auto"===c&&(c=a.left||a.right||this.canScrollVertically()?"scroll":"hidden"),q(this.el,{overflowX:b,overflowY:c})},c.prototype.setHeight=function(a){r(this.el,"height",a)},c.prototype.getScrollbarWidths=function(){var a=B(this.el);return{left:a.scrollbarLeft,right:a.scrollbarRight,bottom:a.scrollbarBottom}},c}(df),gf=function(){function a(a){this.calendarOptions=a,this.processIconOverride()}return a.prototype.processIconOverride=function(){this.iconOverrideOption&&this.setIconOverride(this.calendarOptions[this.iconOverrideOption])},a.prototype.setIconOverride=function(a){var b,c;if("object"==typeof a&&a){b=Fe({},this.iconClasses);for(c in a)b[c]=this.applyIconOverridePrefix(a[c]);this.iconClasses=b}else a===!1&&(this.iconClasses={})},a.prototype.applyIconOverridePrefix=function(a){var b=this.iconOverridePrefix;return b&&0!==a.indexOf(b)&&(a=b+a),a},a.prototype.getClass=function(a){return this.classes[a]||""},a.prototype.getIconClass=function(a){var b=this.iconClasses[a];return b?this.baseIconClass+" "+b:""},a.prototype.getCustomButtonIconClass=function(a){var b;return this.iconOverrideCustomButtonOption&&(b=a[this.iconOverrideCustomButtonOption])?this.baseIconClass+" "+this.applyIconOverridePrefix(b):""},a}();gf.prototype.classes={},gf.prototype.iconClasses={},gf.prototype.baseIconClass="",gf.prototype.iconOverridePrefix="";var hf=0,jf=function(){function a(a,b,c,d,e){this.calendar=a,this.theme=b,this.dateEnv=c,this.options=d,this.view=e,this.isRtl="rtl"===d.dir,this.eventOrderSpecs=Ma(d.eventOrder),this.nextDayThreshold=ja(d.nextDayThreshold)}return a.prototype.extend=function(b,c){return new a(this.calendar,this.theme,this.dateEnv,b||this.options,c||this.view)},a}(),kf=function(){function a(){this.everRendered=!1,this.uid=hf++ +""}return a.addEqualityFuncs=function(a){this.prototype.equalityFuncs=Fe({},this.prototype.equalityFuncs,a)},a.prototype.receiveProps=function(a,b){this.receiveContext(b);var c=Zc(this.props||{},a,this.equalityFuncs),d=c.anyChanges,e=c.comboProps;this.props=e,d&&(this.everRendered&&this.beforeUpdate(),this.render(e,b),this.everRendered&&this.afterUpdate()),this.everRendered=!0},a.prototype.receiveContext=function(a){var b=this.context;this.context=a,b||this.firstContext(a)},a.prototype.render=function(a,b){},a.prototype.firstContext=function(a){},a.prototype.beforeUpdate=function(){},a.prototype.afterUpdate=function(){},a.prototype.destroy=function(){},a}();kf.prototype.equalityFuncs={};var lf=function(a){function b(b){var c=a.call(this)||this;return c.el=b,c}return ab(b,a),b.prototype.destroy=function(){a.prototype.destroy.call(this),k(this.el)},b.prototype.buildPositionCaches=function(){},b.prototype.queryHit=function(a,b,c,d){return null},b.prototype.isInteractionValid=function(a){var b=this.context.calendar,c=this.props.dateProfile,d=a.mutatedEvents.instances;if(c)for(var e in d)if(!zb(c.validRange,d[e].range))return!1;return pc(a,b)},b.prototype.isDateSelectionValid=function(a){var b=this.context.calendar,c=this.props.dateProfile;return!(c&&!zb(c.validRange,a.range))&&qc(a,b)},b.prototype.isValidSegDownEl=function(a){return!this.props.eventDrag&&!this.props.eventResize&&!l(a,".fc-mirror")&&(this.isPopover()||!this.isInPopover(a))},b.prototype.isValidDateDownEl=function(a){var b=l(a,this.fgSegSelector);return(!b||b.classList.contains("fc-mirror"))&&!l(a,".fc-more")&&!l(a,"a[data-goto]")&&!this.isInPopover(a)},b.prototype.isPopover=function(){return this.el.classList.contains("fc-popover")},b.prototype.isInPopover=function(a){return!!l(a,".fc-popover")},b}(kf);lf.prototype.fgSegSelector=".fc-event-container > *",lf.prototype.bgSegSelector=".fc-bgevent:not(.fc-nonbusiness)";var mf=0,nf=function(){function a(){this.hooks={reducers:[],eventDefParsers:[],isDraggableTransformers:[],eventDragMutationMassagers:[],eventDefMutationAppliers:[],dateSelectionTransformers:[],datePointTransforms:[],dateSpanTransforms:[],views:{},viewPropsTransformers:[],isPropsValid:null,externalDefTransforms:[],eventResizeJoinTransforms:[],viewContainerModifiers:[],eventDropTransformers:[],componentInteractions:[],calendarInteractions:[],themeClasses:{},eventSourceDefs:[],cmdFormatter:null,recurringTypes:[],namedTimeZonedImpl:null,defaultView:"",elementDraggingImpl:null,optionChangeHandlers:{}},this.addedHash={}}return a.prototype.add=function(a){if(!this.addedHash[a.id]){this.addedHash[a.id]=!0;for(var b=0,c=a.deps;b<c.length;b++){var d=c[b];this.add(d)}this.hooks=_c(this.hooks,a)}},a}(),of={ignoreRange:!0,parseMeta:function(a){return Array.isArray(a)?a:Array.isArray(a.events)?a.events:null},fetch:function(a,b){b({rawEvents:a.eventSource.meta})}},pf=$c({eventSourceDefs:[of]}),qf={parseMeta:function(a){return"function"==typeof a?a:"function"==typeof a.events?a.events:null},fetch:function(a,b,c){var d=a.calendar.dateEnv,e=a.eventSource.meta;Wc(e.bind(null,{start:d.toDate(a.range.start),end:d.toDate(a.range.end),startStr:d.formatIso(a.range.start),endStr:d.formatIso(a.range.end),timeZone:d.timeZone}),function(a){b({rawEvents:a})},c)}},rf=$c({eventSourceDefs:[qf]}),sf={parseMeta:function(a){if("string"==typeof a)a={url:a};else if(!a||"object"!=typeof a||!a.url)return null;return{url:a.url,method:(a.method||"GET").toUpperCase(),extraParams:a.extraParams,startParam:a.startParam,endParam:a.endParam,timeZoneParam:a.timeZoneParam}},fetch:function(a,b,c){var d=a.eventSource.meta,e=dd(d,a.range,a.calendar);ad(d.method,d.url,e,function(a,c){b({rawEvents:a,xhr:c})},function(a,b){c({message:a,xhr:b})})}},tf=$c({eventSourceDefs:[sf]}),uf={parse:function(a,b,c){var d=c.createMarker.bind(c),e={daysOfWeek:null,startTime:ja,endTime:ja,startRecur:d,endRecur:d},f=Xa(a,e,{},b),g=!1;for(var h in f)if(null!=f[h]){g=!0;break}if(g){var i=null;return"duration"in b&&(i=ja(b.duration),delete b.duration),!i&&f.startTime&&f.endTime&&(i=qa(f.endTime,f.startTime)),{allDayGuess:!(f.startTime||f.endTime),duration:i,typeData:f}}return null},expand:function(a,b,c){var d=wb(b,{start:a.startRecur,end:a.endRecur});return d?ed(a.daysOfWeek,a.startTime,d,c):[]}},vf=$c({recurringTypes:[uf]}),wf=$c({optionChangeHandlers:{events:function(a,b,c){fd([a],b,c)},eventSources:fd,plugins:gd}}),xf={},yf={defaultRangeSeparator:" - ",titleRangeSeparator:"  ",defaultTimedEventDuration:"01:00:00",defaultAllDayEventDuration:{day:1},forceEventDuration:!1,nextDayThreshold:"00:00:00",columnHeader:!0,defaultView:"",aspectRatio:1.35,header:{left:"title",center:"",right:"today prev,next"},weekends:!0,weekNumbers:!1,weekNumberCalculation:"local",editable:!1,scrollTime:"06:00:00",minTime:"00:00:00",maxTime:"24:00:00",showNonCurrentDates:!0,lazyFetching:!0,startParam:"start",endParam:"end",timeZoneParam:"timeZone",timeZone:"local",locales:[],locale:"",timeGridEventMinHeight:0,themeSystem:"standard",dragRevertDuration:500,dragScroll:!0,allDayMaintainDuration:!1,unselectAuto:!0,dropAccept:"*",eventOrder:"start,-duration,allDay,title",eventLimit:!1,eventLimitClick:"popover",dayPopoverFormat:{month:"long",day:"numeric",year:"numeric"},handleWindowResize:!0,windowResizeDelay:100,longPressDelay:1e3,eventDragMinDistance:5},zf={header:{left:"next,prev today",center:"",right:"title"},buttonIcons:{prev:"fc-icon-chevron-right",next:"fc-icon-chevron-left",prevYear:"fc-icon-chevrons-right",nextYear:"fc-icon-chevrons-left"}},Af=["header","footer","buttonText","buttonIcons"],Bf=[pf,rf,tf,vf,wf],Cf={code:"en",week:{dow:0,doy:4},dir:"ltr",buttonText:{prev:"prev",next:"next",prevYear:"prev year",nextYear:"next year",year:"year",today:"today",month:"month",week:"week",day:"day",list:"list"},weekLabel:"W",allDayText:"all-day",eventLimitText:"more",noEventsMessage:"No events to display"},Df=function(){function a(a){this.overrides=Fe({},a),this.dynamicOverrides={},this.compute()}return a.prototype.mutate=function(a,b,c){if(Object.keys(a).length||b.length){var d=c?this.dynamicOverrides:this.overrides;Fe(d,a);for(var e=0,f=b;e<f.length;e++){var g=f[e];delete d[g]}this.compute()}},a.prototype.compute=function(){var a=Va(this.dynamicOverrides.locales,this.overrides.locales,yf.locales),b=Va(this.dynamicOverrides.locale,this.overrides.locale,yf.locale),c=jd(a),d=kd(b||c.defaultCode,c.map).options,e=Va(this.dynamicOverrides.dir,this.overrides.dir,d.dir),f="rtl"===e?zf:{};this.dirDefaults=f,this.localeDefaults=d,this.computed=hd([yf,f,d,this.overrides,this.dynamicOverrides])},a}(),Ef={},Ff=function(){function a(){}return a.prototype.getMarkerYear=function(a){return a.getUTCFullYear()},a.prototype.getMarkerMonth=function(a){return a.getUTCMonth()},a.prototype.getMarkerDay=function(a){return a.getUTCDate()},a.prototype.arrayToMarker=function(a){return ga(a)},a.prototype.markerToArray=function(a){return fa(a)},a}();od("gregory",Ff);var Gf=/^\s*(\d{4})(-(\d{2})(-(\d{2})([T ](\d{2}):(\d{2})(:(\d{2})(\.(\d+))?)?(Z|(([-+])(\d{2})(:?(\d{2}))?))?)?)?)?$/,Hf=function(){function a(a){var b=this.timeZone=a.timeZone,c="local"!==b&&"UTC"!==b;a.namedTimeZoneImpl&&c&&(this.namedTimeZoneImpl=new a.namedTimeZoneImpl(b)),this.canComputeOffset=!(c&&!this.namedTimeZoneImpl),this.calendarSystem=pd(a.calendarSystem),this.locale=a.locale,this.weekDow=a.locale.week.dow,this.weekDoy=a.locale.week.doy,"ISO"===a.weekNumberCalculation&&(this.weekDow=1,this.weekDoy=4),"number"==typeof a.firstDay&&(this.weekDow=a.firstDay),"function"==typeof a.weekNumberCalculation&&(this.weekNumberFunc=a.weekNumberCalculation),this.weekLabel=null!=a.weekLabel?a.weekLabel:a.locale.options.weekLabel,this.cmdFormatter=a.cmdFormatter}return a.prototype.createMarker=function(a){var b=this.createMarkerMeta(a);return null===b?null:b.marker},a.prototype.createNowMarker=function(){return this.canComputeOffset?this.timestampToMarker((new Date).valueOf()):ga(da(new Date))},a.prototype.createMarkerMeta=function(a){if("string"==typeof a)return this.parse(a);var b=null;return"number"==typeof a?b=this.timestampToMarker(a):a instanceof Date?(a=a.valueOf(),isNaN(a)||(b=this.timestampToMarker(a))):Array.isArray(a)&&(b=ga(a)),null!==b&&ha(b)?{marker:b,isTimeUnspecified:!1,forcedTzo:null}:null},a.prototype.parse=function(a){var b=qd(a);if(null===b)return null;var c=b.marker,d=null;return null!==b.timeZoneOffset&&(this.canComputeOffset?c=this.timestampToMarker(c.valueOf()-60*b.timeZoneOffset*1e3):d=b.timeZoneOffset),{marker:c,isTimeUnspecified:b.isTimeUnspecified,forcedTzo:d}},a.prototype.getYear=function(a){return this.calendarSystem.getMarkerYear(a)},a.prototype.getMonth=function(a){return this.calendarSystem.getMarkerMonth(a)},a.prototype.add=function(a,b){var c=this.calendarSystem.markerToArray(a);return c[0]+=b.years,c[1]+=b.months,c[2]+=b.days,c[6]+=b.milliseconds,this.calendarSystem.arrayToMarker(c)},a.prototype.subtract=function(a,b){var c=this.calendarSystem.markerToArray(a);return c[0]-=b.years,c[1]-=b.months,c[2]-=b.days,c[6]-=b.milliseconds,this.calendarSystem.arrayToMarker(c)},a.prototype.addYears=function(a,b){var c=this.calendarSystem.markerToArray(a);return c[0]+=b,this.calendarSystem.arrayToMarker(c)},a.prototype.addMonths=function(a,b){var c=this.calendarSystem.markerToArray(a);return c[1]+=b,this.calendarSystem.arrayToMarker(c)},a.prototype.diffWholeYears=function(a,b){var c=this.calendarSystem;return ia(a)===ia(b)&&c.getMarkerDay(a)===c.getMarkerDay(b)&&c.getMarkerMonth(a)===c.getMarkerMonth(b)?c.getMarkerYear(b)-c.getMarkerYear(a):null},a.prototype.diffWholeMonths=function(a,b){var c=this.calendarSystem;return ia(a)===ia(b)&&c.getMarkerDay(a)===c.getMarkerDay(b)?c.getMarkerMonth(b)-c.getMarkerMonth(a)+12*(c.getMarkerYear(b)-c.getMarkerYear(a)):null},a.prototype.greatestWholeUnit=function(a,b){var c=this.diffWholeYears(a,b);return null!==c?{unit:"year",
value:c}:(c=this.diffWholeMonths(a,b),null!==c?{unit:"month",value:c}:(c=W(a,b),null!==c?{unit:"week",value:c}:(c=X(a,b),null!==c?{unit:"day",value:c}:(c=S(a,b),Ta(c)?{unit:"hour",value:c}:(c=T(a,b),Ta(c)?{unit:"minute",value:c}:(c=U(a,b),Ta(c)?{unit:"second",value:c}:{unit:"millisecond",value:b.valueOf()-a.valueOf()}))))))},a.prototype.countDurationsBetween=function(a,b,c){var d;return c.years&&(d=this.diffWholeYears(a,b),null!==d)?d/sa(c):c.months&&(d=this.diffWholeMonths(a,b),null!==d)?d/ta(c):c.days&&(d=X(a,b),null!==d)?d/ua(c):(b.valueOf()-a.valueOf())/xa(c)},a.prototype.startOf=function(a,b){return"year"===b?this.startOfYear(a):"month"===b?this.startOfMonth(a):"week"===b?this.startOfWeek(a):"day"===b?Y(a):"hour"===b?Z(a):"minute"===b?$(a):"second"===b?_(a):void 0},a.prototype.startOfYear=function(a){return this.calendarSystem.arrayToMarker([this.calendarSystem.getMarkerYear(a)])},a.prototype.startOfMonth=function(a){return this.calendarSystem.arrayToMarker([this.calendarSystem.getMarkerYear(a),this.calendarSystem.getMarkerMonth(a)])},a.prototype.startOfWeek=function(a){return this.calendarSystem.arrayToMarker([this.calendarSystem.getMarkerYear(a),this.calendarSystem.getMarkerMonth(a),a.getUTCDate()-(a.getUTCDay()-this.weekDow+7)%7])},a.prototype.computeWeekNumber=function(a){return this.weekNumberFunc?this.weekNumberFunc(this.toDate(a)):aa(a,this.weekDow,this.weekDoy)},a.prototype.format=function(a,b,c){return void 0===c&&(c={}),b.format({marker:a,timeZoneOffset:null!=c.forcedTzo?c.forcedTzo:this.offsetForMarker(a)},this)},a.prototype.formatRange=function(a,b,c,d){return void 0===d&&(d={}),d.isEndExclusive&&(b=P(b,-1)),c.formatRange({marker:a,timeZoneOffset:null!=d.forcedStartTzo?d.forcedStartTzo:this.offsetForMarker(a)},{marker:b,timeZoneOffset:null!=d.forcedEndTzo?d.forcedEndTzo:this.offsetForMarker(b)},this)},a.prototype.formatIso=function(a,b){void 0===b&&(b={});var c=null;return b.omitTimeZoneOffset||(c=null!=b.forcedTzo?b.forcedTzo:this.offsetForMarker(a)),Qb(a,c,b.omitTime)},a.prototype.timestampToMarker=function(a){return"local"===this.timeZone?ga(da(new Date(a))):"UTC"!==this.timeZone&&this.namedTimeZoneImpl?ga(this.namedTimeZoneImpl.timestampToArray(a)):new Date(a)},a.prototype.offsetForMarker=function(a){return"local"===this.timeZone?-ea(fa(a)).getTimezoneOffset():"UTC"===this.timeZone?0:this.namedTimeZoneImpl?this.namedTimeZoneImpl.offsetForArray(fa(a)):null},a.prototype.toDate=function(a,b){return"local"===this.timeZone?ea(fa(a)):"UTC"===this.timeZone?new Date(a.valueOf()):this.namedTimeZoneImpl?new Date(a.valueOf()-1e3*this.namedTimeZoneImpl.offsetForArray(fa(a))*60):new Date(a.valueOf()-(b||0))},a}(),If={id:String,allDayDefault:Boolean,eventDataTransform:Function,success:Function,failure:Function},Jf=0,Kf=0,Lf=function(){function a(a,b){this.viewSpec=a,this.options=a.options,this.dateEnv=b.dateEnv,this.calendar=b,this.initHiddenDays()}return a.prototype.buildPrev=function(a,b){var c=this.dateEnv,d=c.subtract(c.startOf(b,a.currentRangeUnit),a.dateIncrement);return this.build(d,-1)},a.prototype.buildNext=function(a,b){var c=this.dateEnv,d=c.add(c.startOf(b,a.currentRangeUnit),a.dateIncrement);return this.build(d,1)},a.prototype.build=function(a,b,c){void 0===c&&(c=!1);var d,e,f,g,h,i,j=null,k=null;return d=this.buildValidRange(),d=this.trimHiddenDays(d),c&&(a=Bb(a,d)),e=this.buildCurrentRangeInfo(a,b),f=/^(year|month|week|day)$/.test(e.unit),g=this.buildRenderRange(this.trimHiddenDays(e.range),e.unit,f),g=this.trimHiddenDays(g),h=g,this.options.showNonCurrentDates||(h=wb(h,e.range)),j=ja(this.options.minTime),k=ja(this.options.maxTime),h=this.adjustActiveRange(h,j,k),h=wb(h,d),i=yb(e.range,d),{validRange:d,currentRange:e.range,currentRangeUnit:e.unit,isRangeAllDay:f,activeRange:h,renderRange:g,minTime:j,maxTime:k,isValid:i,dateIncrement:this.buildDateIncrement(e.duration)}},a.prototype.buildValidRange=function(){return this.getRangeOption("validRange",this.calendar.getNow())||{start:null,end:null}},a.prototype.buildCurrentRangeInfo=function(a,b){var c,d=this,e=d.viewSpec,f=d.dateEnv,g=null,h=null,i=null;return e.duration?(g=e.duration,h=e.durationUnit,i=this.buildRangeFromDuration(a,b,g,h)):(c=this.options.dayCount)?(h="day",i=this.buildRangeFromDayCount(a,b,c)):(i=this.buildCustomVisibleRange(a))?h=f.greatestWholeUnit(i.start,i.end).unit:(g=this.getFallbackDuration(),h=za(g).unit,i=this.buildRangeFromDuration(a,b,g,h)),{duration:g,unit:h,range:i}},a.prototype.getFallbackDuration=function(){return ja({day:1})},a.prototype.adjustActiveRange=function(a,b,c){var d=this.dateEnv,e=a.start,f=a.end;return this.viewSpec["class"].prototype.usesMinMaxTime&&(ua(b)<0&&(e=Y(e),e=d.add(e,b)),ua(c)>1&&(f=Y(f),f=O(f,-1),f=d.add(f,c))),{start:e,end:f}},a.prototype.buildRangeFromDuration=function(a,b,c,d){function e(){h=k.startOf(a,l),i=k.add(h,c),j={start:h,end:i}}var f,g,h,i,j,k=this.dateEnv,l=this.options.dateAlignment;return l||(f=this.options.dateIncrement,f?(g=ja(f),l=xa(g)<xa(c)?za(g,!ma(f)).unit:d):l=d),ua(c)<=1&&this.isHiddenDay(h)&&(h=this.skipHiddenDays(h,b),h=Y(h)),e(),this.trimHiddenDays(j)||(a=this.skipHiddenDays(a,b),e()),j},a.prototype.buildRangeFromDayCount=function(a,b,c){var d,e=this.dateEnv,f=this.options.dateAlignment,g=0,h=a;f&&(h=e.startOf(h,f)),h=Y(h),h=this.skipHiddenDays(h,b),d=h;do d=O(d,1),this.isHiddenDay(d)||g++;while(g<c);return{start:h,end:d}},a.prototype.buildCustomVisibleRange=function(a){var b=this.dateEnv,c=this.getRangeOption("visibleRange",b.toDate(a));return!c||null!=c.start&&null!=c.end?c:null},a.prototype.buildRenderRange=function(a,b,c){return a},a.prototype.buildDateIncrement=function(a){var b,c=this.options.dateIncrement;return c?ja(c):(b=this.options.dateAlignment)?ja(1,b):a?a:ja({days:1})},a.prototype.getRangeOption=function(a){for(var b=[],c=1;c<arguments.length;c++)b[c-1]=arguments[c];var d=this.options[a];return"function"==typeof d&&(d=d.apply(null,b)),d&&(d=tb(d,this.dateEnv)),d&&(d=Za(d)),d},a.prototype.initHiddenDays=function(){var a,b=this.options.hiddenDays||[],c=[],d=0;for(this.options.weekends===!1&&b.push(0,6),a=0;a<7;a++)(c[a]=b.indexOf(a)!==-1)||d++;if(!d)throw Error("invalid hiddenDays");this.isHiddenDayHash=c},a.prototype.trimHiddenDays=function(a){var b=a.start,c=a.end;return b&&(b=this.skipHiddenDays(b)),c&&(c=this.skipHiddenDays(c,-1,!0)),null==b||null==c||b<c?{start:b,end:c}:null},a.prototype.isHiddenDay=function(a){return a instanceof Date&&(a=a.getUTCDay()),this.isHiddenDayHash[a]},a.prototype.skipHiddenDays=function(a,b,c){for(void 0===b&&(b=1),void 0===c&&(c=!1);this.isHiddenDayHash[(a.getUTCDay()+(c?b:0)+7)%7];)a=O(a,b);return a},a}(),Mf={start:null,end:null,allDay:Boolean},Nf={type:String,"class":null},Of=function(a){function d(c){var d=a.call(this)||this;return d._renderLayout=Rc(d.renderLayout,d.unrenderLayout),d._updateTitle=Rc(d.updateTitle,null,[d._renderLayout]),d._updateActiveButton=Rc(d.updateActiveButton,null,[d._renderLayout]),d._updateToday=Rc(d.updateToday,null,[d._renderLayout]),d._updatePrev=Rc(d.updatePrev,null,[d._renderLayout]),d._updateNext=Rc(d.updateNext,null,[d._renderLayout]),d.el=b("div",{className:"fc-toolbar "+c}),d}return ab(d,a),d.prototype.destroy=function(){a.prototype.destroy.call(this),this._renderLayout.unrender(),k(this.el)},d.prototype.render=function(a){this._renderLayout(a.layout),this._updateTitle(a.title),this._updateActiveButton(a.activeButton),this._updateToday(a.isTodayEnabled),this._updatePrev(a.isPrevEnabled),this._updateNext(a.isNextEnabled)},d.prototype.renderLayout=function(a){var b=this.el;this.viewsWithButtons=[],g(b,this.renderSection("left",a.left)),g(b,this.renderSection("center",a.center)),g(b,this.renderSection("right",a.right))},d.prototype.unrenderLayout=function(){this.el.innerHTML=""},d.prototype.renderSection=function(a,d){var e=this,f=this.context,h=f.theme,i=f.calendar,j=i.optionsManager,k=i.viewSpecs,l=b("div",{className:"fc-"+a}),m=j.computed.customButtons||{},n=j.overrides.buttonText||{},o=j.computed.buttonText||{};return d&&d.split(" ").forEach(function(a,b){var d,f=[],j=!0;if(a.split(",").forEach(function(a,b){var d,g,l,p,q,r,s,t,u;"title"===a?(f.push(c("<h2>&nbsp;</h2>")),j=!1):((d=m[a])?(l=function(a){d.click&&d.click.call(t,a)},(p=h.getCustomButtonIconClass(d))||(p=h.getIconClass(a))||(q=d.text)):(g=k[a])?(e.viewsWithButtons.push(a),l=function(){i.changeView(a)},(q=g.buttonTextOverride)||(p=h.getIconClass(a))||(q=g.buttonTextDefault)):i[a]&&(l=function(){i[a]()},(q=n[a])||(p=h.getIconClass(a))||(q=o[a])),l&&(s=["fc-"+a+"-button",h.getClass("button")],q?(r=Ac(q),u=""):p&&(r="<span class='"+p+"'></span>",u=' aria-label="'+a+'"'),t=c('<button type="button" class="'+s.join(" ")+'"'+u+">"+r+"</button>"),t.addEventListener("click",l),f.push(t)))}),f.length>1){d=document.createElement("div");var p=h.getClass("buttonGroup");j&&p&&d.classList.add(p),g(d,f),l.appendChild(d)}else g(l,f)}),l},d.prototype.updateToday=function(a){this.toggleButtonEnabled("today",a)},d.prototype.updatePrev=function(a){this.toggleButtonEnabled("prev",a)},d.prototype.updateNext=function(a){this.toggleButtonEnabled("next",a)},d.prototype.updateTitle=function(a){n(this.el,"h2").forEach(function(b){b.innerText=a})},d.prototype.updateActiveButton=function(a){var b=this.context.theme,c=b.getClass("buttonActive");n(this.el,"button").forEach(function(b){a&&b.classList.contains("fc-"+a+"-button")?b.classList.add(c):b.classList.remove(c)})},d.prototype.toggleButtonEnabled=function(a,b){n(this.el,".fc-"+a+"-button").forEach(function(a){a.disabled=!b})},d}(kf),Pf=function(a){function c(b){var c=a.call(this)||this;return c.elClassNames=[],c.renderSkeleton=Rc(c._renderSkeleton,c._unrenderSkeleton),c.renderToolbars=Rc(c._renderToolbars,c._unrenderToolbars,[c.renderSkeleton]),c.buildComponentContext=Eb(ce),c.buildViewPropTransformers=Eb(de),c.el=b,c.computeTitle=Eb(ae),c.parseBusinessHours=Eb(function(a){return Pc(a,c.context.calendar)}),c}return ab(c,a),c.prototype.render=function(a,b){this.freezeHeight();var c=this.computeTitle(a.dateProfile,a.viewSpec.options);this.renderSkeleton(b),this.renderToolbars(a.viewSpec,a.dateProfile,a.currentDate,c),this.renderView(a,c),this.updateSize(),this.thawHeight()},c.prototype.destroy=function(){this.header&&this.header.destroy(),this.footer&&this.footer.destroy(),this.renderSkeleton.unrender(),a.prototype.destroy.call(this)},c.prototype._renderSkeleton=function(a){this.updateElClassNames(a),h(this.el,this.contentEl=b("div",{className:"fc-view-container"}));for(var c=a.calendar,d=0,e=c.pluginSystem.hooks.viewContainerModifiers;d<e.length;d++){var f=e[d];f(this.contentEl,c)}},c.prototype._unrenderSkeleton=function(){this.view&&(this.savedScroll=this.view.queryScroll(),this.view.destroy(),this.view=null),k(this.contentEl),this.removeElClassNames()},c.prototype.removeElClassNames=function(){for(var a=this.el.classList,b=0,c=this.elClassNames;b<c.length;b++){var d=c[b];a.remove(d)}this.elClassNames=[]},c.prototype.updateElClassNames=function(a){this.removeElClassNames();var b=a.theme,c=a.options;this.elClassNames=["fc","fc-"+c.dir,b.getClass("widget")];for(var d=this.el.classList,e=0,f=this.elClassNames;e<f.length;e++){var g=f[e];d.add(g)}},c.prototype._renderToolbars=function(a,b,c,d){var e=this,f=e.context,i=e.header,j=e.footer,k=f.options,l=f.calendar,m=k.header,n=k.footer,o=this.props.dateProfileGenerator,p=l.getNow(),q=o.build(p),r=o.buildPrev(b,c),s=o.buildNext(b,c),t={title:d,activeButton:a.type,isTodayEnabled:q.isValid&&!Ab(b.currentRange,p),isPrevEnabled:r.isValid,isNextEnabled:s.isValid};m?(i||(i=this.header=new Of("fc-header-toolbar"),h(this.el,i.el)),i.receiveProps(Fe({layout:m},t),f)):i&&(i.destroy(),i=this.header=null),n?(j||(j=this.footer=new Of("fc-footer-toolbar"),g(this.el,j.el)),j.receiveProps(Fe({layout:n},t),f)):j&&(j.destroy(),j=this.footer=null)},c.prototype._unrenderToolbars=function(){this.header&&(this.header.destroy(),this.header=null),this.footer&&(this.footer.destroy(),this.footer=null)},c.prototype.renderView=function(a,b){var c=this.view,d=this.context,e=d.calendar,f=d.options,g=a.viewSpec,h=a.dateProfileGenerator;c&&c.viewSpec===g||(c&&c.destroy(),c=this.view=new g["class"](g,this.contentEl),this.savedScroll&&(c.addScroll(this.savedScroll,!0),this.savedScroll=null)),c.title=b;for(var i={dateProfileGenerator:h,dateProfile:a.dateProfile,businessHours:this.parseBusinessHours(g.options.businessHours),eventStore:a.eventStore,eventUiBases:a.eventUiBases,dateSelection:a.dateSelection,eventSelection:a.eventSelection,eventDrag:a.eventDrag,eventResize:a.eventResize},j=this.buildViewPropTransformers(e.pluginSystem.hooks.viewPropsTransformers),k=0,l=j;k<l.length;k++){var m=l[k];Fe(i,m.transform(i,g,a,f))}c.receiveProps(i,this.buildComponentContext(this.context,g,c))},c.prototype.updateSize=function(a){void 0===a&&(a=!1);var b=this.view;b&&((a||null==this.isHeightAuto)&&this.computeHeightVars(),b.updateSize(a,this.viewHeight,this.isHeightAuto),b.updateNowIndicator(),b.popScroll(a))},c.prototype.computeHeightVars=function(){var a=this.context.calendar,b=a.opt("height"),c=a.opt("contentHeight");if(this.isHeightAuto="auto"===b||"auto"===c,"number"==typeof c)this.viewHeight=c;else if("function"==typeof c)this.viewHeight=c();else if("number"==typeof b)this.viewHeight=b-this.queryToolbarsHeight();else if("function"==typeof b)this.viewHeight=b()-this.queryToolbarsHeight();else if("parent"===b){var d=this.el.parentNode;this.viewHeight=d.getBoundingClientRect().height-this.queryToolbarsHeight()}else this.viewHeight=Math.round(this.contentEl.getBoundingClientRect().width/Math.max(a.opt("aspectRatio"),.5))},c.prototype.queryToolbarsHeight=function(){var a=0;return this.header&&(a+=F(this.header.el)),this.footer&&(a+=F(this.footer.el)),a},c.prototype.freezeHeight=function(){q(this.el,{height:this.el.getBoundingClientRect().height,overflow:"hidden"})},c.prototype.thawHeight=function(){q(this.el,{height:"",overflow:""})},c}(kf),Qf=function(){function a(a){this.component=a.component}return a.prototype.destroy=function(){},a}(),Rf={},Sf=function(a){function b(b){var c=a.call(this,b)||this;c.handleSegClick=function(a,b){var d=c.component,e=d.context,f=e.calendar,g=e.view,h=Zb(b);if(h&&d.isValidSegDownEl(a.target)){var i=l(a.target,".fc-has-url"),j=i?i.querySelector("a[href]").href:"";f.publiclyTrigger("eventClick",[{el:b,event:new Se(d.context.calendar,h.eventRange.def,h.eventRange.instance),jsEvent:a,view:g}]),j&&!a.defaultPrevented&&(window.location.href=j)}};var d=b.component;return c.destroy=K(d.el,"click",d.fgSegSelector+","+d.bgSegSelector,c.handleSegClick),c}return ab(b,a),b}(Qf),Tf=function(a){function b(b){var c=a.call(this,b)||this;c.handleEventElRemove=function(a){a===c.currentSegEl&&c.handleSegLeave(null,c.currentSegEl)},c.handleSegEnter=function(a,b){Zb(b)&&(b.classList.add("fc-allow-mouse-resize"),c.currentSegEl=b,c.triggerEvent("eventMouseEnter",a,b))},c.handleSegLeave=function(a,b){c.currentSegEl&&(b.classList.remove("fc-allow-mouse-resize"),c.currentSegEl=null,c.triggerEvent("eventMouseLeave",a,b))};var d=b.component;return c.removeHoverListeners=L(d.el,d.fgSegSelector+","+d.bgSegSelector,c.handleSegEnter,c.handleSegLeave),d.context.calendar.on("eventElRemove",c.handleEventElRemove),c}return ab(b,a),b.prototype.destroy=function(){this.removeHoverListeners(),this.component.context.calendar.off("eventElRemove",this.handleEventElRemove)},b.prototype.triggerEvent=function(a,b,c){var d=this.component,e=d.context,f=e.calendar,g=e.view,h=Zb(c);b&&!d.isValidSegDownEl(b.target)||f.publiclyTrigger(a,[{el:c,event:new Se(f,h.eventRange.def,h.eventRange.instance),jsEvent:b,view:g}])},b}(Qf),Uf=function(a){function b(){return null!==a&&a.apply(this,arguments)||this}return ab(b,a),b}(gf);Uf.prototype.classes={widget:"fc-unthemed",widgetHeader:"fc-widget-header",widgetContent:"fc-widget-content",buttonGroup:"fc-button-group",button:"fc-button fc-button-primary",buttonActive:"fc-button-active",popoverHeader:"fc-widget-header",popoverContent:"fc-widget-content",headerRow:"fc-widget-header",dayRow:"fc-widget-content",listView:"fc-widget-content"},Uf.prototype.baseIconClass="fc-icon",Uf.prototype.iconClasses={close:"fc-icon-x",prev:"fc-icon-chevron-left",next:"fc-icon-chevron-right",prevYear:"fc-icon-chevrons-left",nextYear:"fc-icon-chevrons-right"},Uf.prototype.iconOverrideOption="buttonIcons",Uf.prototype.iconOverrideCustomButtonOption="icon",Uf.prototype.iconOverridePrefix="fc-icon-";var Vf=function(){function a(a,b){var c=this;this.buildComponentContext=Eb(ge),this.parseRawLocales=Eb(jd),this.buildLocale=Eb(kd),this.buildDateEnv=Eb(he),this.buildTheme=Eb(ie),this.buildEventUiSingleBase=Eb(this._buildEventUiSingleBase),this.buildSelectionConfig=Eb(this._buildSelectionConfig),this.buildEventUiBySource=Fb(ke,ib),this.buildEventUiBases=Eb(le),this.interactionsStore={},this.actionQueue=[],this.isReducing=!1,this.needsRerender=!1,this.isRendering=!1,this.renderingPauseDepth=0,this.buildDelayedRerender=Eb(je),this.afterSizingTriggers={},this.isViewUpdated=!1,this.isDatesUpdated=!1,this.isEventsUpdated=!1,this.el=a,this.optionsManager=new Df(b||{}),this.pluginSystem=new nf,this.addPluginInputs(this.optionsManager.computed.plugins||[]),this.handleOptions(this.optionsManager.computed),this.publiclyTrigger("_init"),this.hydrate(),this.calendarInteractions=this.pluginSystem.hooks.calendarInteractions.map(function(a){return new a(c)})}return a.prototype.addPluginInputs=function(a){for(var b=id(a),c=0,d=b;c<d.length;c++){var e=d[c];this.pluginSystem.add(e)}},Object.defineProperty(a.prototype,"view",{get:function(){return this.component?this.component.view:null},enumerable:!0,configurable:!0}),a.prototype.render=function(){this.component?this.requestRerender():(this.component=new Pf(this.el),this.renderableEventStore=qb(),this.bindHandlers(),this.executeRender())},a.prototype.destroy=function(){if(this.component){this.unbindHandlers(),this.component.destroy(),this.component=null;for(var a=0,b=this.calendarInteractions;a<b.length;a++){var c=b[a];c.destroy()}this.publiclyTrigger("_destroyed")}},a.prototype.bindHandlers=function(){var a=this;this.removeNavLinkListener=K(this.el,"click","a[data-goto]",function(b,c){var d=c.getAttribute("data-goto");d=d?JSON.parse(d):{};var e=a.dateEnv,f=e.createMarker(d.date),g=d.type,h=a.viewOpt("navLink"+Qa(g)+"Click");"function"==typeof h?h(e.toDate(f),b):("string"==typeof h&&(g=h),a.zoomTo(f,g))}),this.opt("handleWindowResize")&&window.addEventListener("resize",this.windowResizeProxy=Wa(this.windowResize.bind(this),this.opt("windowResizeDelay")))},a.prototype.unbindHandlers=function(){this.removeNavLinkListener(),this.windowResizeProxy&&(window.removeEventListener("resize",this.windowResizeProxy),this.windowResizeProxy=null)},a.prototype.hydrate=function(){var a=this;this.state=this.buildInitialState();var b=this.opt("eventSources")||[],c=this.opt("events"),d=[];c&&b.unshift(c);for(var e=0,f=b;e<f.length;e++){var g=f[e],h=sd(g,this);h&&d.push(h)}this.batchRendering(function(){a.dispatch({type:"INIT"}),a.dispatch({type:"ADD_EVENT_SOURCES",sources:d}),a.dispatch({type:"SET_VIEW_TYPE",viewType:a.opt("defaultView")||a.pluginSystem.hooks.defaultView})})},a.prototype.buildInitialState=function(){return{viewType:null,loadingLevel:0,eventSourceLoadingLevel:0,currentDate:this.getInitialDate(),dateProfile:null,eventSources:{},eventStore:qb(),dateSelection:null,eventSelection:"",eventDrag:null,eventResize:null}},a.prototype.dispatch=function(a){if(this.actionQueue.push(a),!this.isReducing){this.isReducing=!0;for(var b=this.state;this.actionQueue.length;)this.state=this.reduce(this.state,this.actionQueue.shift(),this);var c=this.state;this.isReducing=!1,!b.loadingLevel&&c.loadingLevel?this.publiclyTrigger("loading",[!0]):b.loadingLevel&&!c.loadingLevel&&this.publiclyTrigger("loading",[!1]);var d=this.component&&this.component.view;b.eventStore!==c.eventStore&&b.eventStore&&(this.isEventsUpdated=!0),b.dateProfile!==c.dateProfile&&(b.dateProfile&&d&&this.publiclyTrigger("datesDestroy",[{view:d,el:d.el}]),this.isDatesUpdated=!0),b.viewType!==c.viewType&&(b.viewType&&d&&this.publiclyTrigger("viewSkeletonDestroy",[{view:d,el:d.el}]),this.isViewUpdated=!0),this.requestRerender()}},a.prototype.reduce=function(a,b,c){return Ed(a,b,c)},a.prototype.requestRerender=function(){this.needsRerender=!0,this.delayedRerender()},a.prototype.tryRerender=function(){this.component&&this.needsRerender&&!this.renderingPauseDepth&&!this.isRendering&&this.executeRender()},a.prototype.batchRendering=function(a){this.renderingPauseDepth++,a(),this.renderingPauseDepth--,this.needsRerender&&this.requestRerender()},a.prototype.executeRender=function(){this.needsRerender=!1,this.isRendering=!0,this.renderComponent(),this.isRendering=!1,this.needsRerender&&this.delayedRerender()},a.prototype.renderComponent=function(){var a=this,b=a.state,c=a.component,d=b.viewType,e=this.viewSpecs[d];if(!e)throw Error('View type "'+d+'" is not valid');var f=this.renderableEventStore=b.eventSourceLoadingLevel&&!this.opt("progressiveEventRendering")?this.renderableEventStore:b.eventStore,g=this.buildEventUiSingleBase(e.options),h=this.buildEventUiBySource(b.eventSources),i=this.eventUiBases=this.buildEventUiBases(f.defs,g,h);c.receiveProps(Fe({},b,{viewSpec:e,dateProfileGenerator:this.dateProfileGenerators[d],dateProfile:b.dateProfile,eventStore:f,eventUiBases:i,dateSelection:b.dateSelection,eventSelection:b.eventSelection,eventDrag:b.eventDrag,eventResize:b.eventResize}),this.buildComponentContext(this.theme,this.dateEnv,this.optionsManager.computed)),this.isViewUpdated&&(this.isViewUpdated=!1,this.publiclyTrigger("viewSkeletonRender",[{view:c.view,el:c.view.el}])),this.isDatesUpdated&&(this.isDatesUpdated=!1,this.publiclyTrigger("datesRender",[{view:c.view,el:c.view.el}])),this.isEventsUpdated&&(this.isEventsUpdated=!1),this.releaseAfterSizingTriggers()},a.prototype.setOption=function(a,b){var c;this.mutateOptions((c={},c[a]=b,c),[],!0)},a.prototype.getOption=function(a){return this.optionsManager.computed[a]},a.prototype.opt=function(a){return this.optionsManager.computed[a]},a.prototype.viewOpt=function(a){return this.viewOpts()[a]},a.prototype.viewOpts=function(){return this.viewSpecs[this.state.viewType].options},a.prototype.mutateOptions=function(a,b,c,d){var e=this,f=this.pluginSystem.hooks.optionChangeHandlers,g={},h={},i=this.dateEnv,j=!1,k=!1,l=!!b.length;for(var m in a)f[m]?h[m]=a[m]:g[m]=a[m];for(var n in g)/^(height|contentHeight|aspectRatio)$/.test(n)?k=!0:/^(defaultDate|defaultView)$/.test(n)||(l=!0,"timeZone"===n&&(j=!0));this.optionsManager.mutate(g,b,c),l&&this.handleOptions(this.optionsManager.computed),this.batchRendering(function(){if(l?(j&&e.dispatch({type:"CHANGE_TIMEZONE",oldDateEnv:i}),e.dispatch({type:"SET_VIEW_TYPE",viewType:e.state.viewType})):k&&e.updateSize(),d)for(var a in h)f[a](h[a],e,d)})},a.prototype.handleOptions=function(a){var b=this,c=this.pluginSystem.hooks;this.defaultAllDayEventDuration=ja(a.defaultAllDayEventDuration),this.defaultTimedEventDuration=ja(a.defaultTimedEventDuration),this.delayedRerender=this.buildDelayedRerender(a.rerenderDelay),this.theme=this.buildTheme(a);var d=this.parseRawLocales(a.locales);this.availableRawLocales=d.map;var e=this.buildLocale(a.locale||d.defaultCode,d.map);this.dateEnv=this.buildDateEnv(e,a.timeZone,c.namedTimeZonedImpl,a.firstDay,a.weekNumberCalculation,a.weekLabel,c.cmdFormatter),this.selectionConfig=this.buildSelectionConfig(a),this.viewSpecs=$d(c.views,this.optionsManager),this.dateProfileGenerators=fb(this.viewSpecs,function(a){return new a["class"].prototype.dateProfileGeneratorClass(a,b)})},a.prototype.getAvailableLocaleCodes=function(){return Object.keys(this.availableRawLocales)},a.prototype._buildSelectionConfig=function(a){return Fc("select",a,this)},a.prototype._buildEventUiSingleBase=function(a){return a.editable&&(a=Fe({},a,{eventEditable:!0})),Fc("event",a,this)},a.prototype.hasPublicHandlers=function(a){return this.hasHandlers(a)||this.opt(a)},a.prototype.publiclyTrigger=function(a,b){var c=this.opt(a);if(this.triggerWith(a,this,b),c)return c.apply(this,b)},a.prototype.publiclyTriggerAfterSizing=function(a,b){var c=this.afterSizingTriggers;(c[a]||(c[a]=[])).push(b)},a.prototype.releaseAfterSizingTriggers=function(){var a=this.afterSizingTriggers;for(var b in a)for(var c=0,d=a[b];c<d.length;c++){var e=d[c];this.publiclyTrigger(b,e)}this.afterSizingTriggers={}},a.prototype.isValidViewType=function(a){return!!this.viewSpecs[a]},a.prototype.changeView=function(a,b){var c=null;b&&(b.start&&b.end?(this.optionsManager.mutate({visibleRange:b},[]),this.handleOptions(this.optionsManager.computed)):c=this.dateEnv.createMarker(b)),this.unselect(),this.dispatch({type:"SET_VIEW_TYPE",viewType:a,dateMarker:c})},a.prototype.zoomTo=function(a,b){var c;b=b||"day",c=this.viewSpecs[b]||this.getUnitViewSpec(b),this.unselect(),c?this.dispatch({type:"SET_VIEW_TYPE",viewType:c.type,dateMarker:a}):this.dispatch({type:"SET_DATE",dateMarker:a})},a.prototype.getUnitViewSpec=function(a){var b,c,d=this.component,e=[];d.header&&e.push.apply(e,d.header.viewsWithButtons),d.footer&&e.push.apply(e,d.footer.viewsWithButtons);for(var f in this.viewSpecs)e.push(f);for(b=0;b<e.length;b++)if(c=this.viewSpecs[e[b]],c&&c.singleUnit===a)return c},a.prototype.getInitialDate=function(){var a=this.opt("defaultDate");return null!=a?this.dateEnv.createMarker(a):this.getNow()},a.prototype.prev=function(){this.unselect(),this.dispatch({type:"PREV"})},a.prototype.next=function(){this.unselect(),this.dispatch({type:"NEXT"})},a.prototype.prevYear=function(){this.unselect(),this.dispatch({type:"SET_DATE",dateMarker:this.dateEnv.addYears(this.state.currentDate,-1)})},a.prototype.nextYear=function(){this.unselect(),this.dispatch({type:"SET_DATE",dateMarker:this.dateEnv.addYears(this.state.currentDate,1)})},a.prototype.today=function(){this.unselect(),this.dispatch({type:"SET_DATE",dateMarker:this.getNow()})},a.prototype.gotoDate=function(a){this.unselect(),this.dispatch({type:"SET_DATE",dateMarker:this.dateEnv.createMarker(a)})},a.prototype.incrementDate=function(a){var b=ja(a);b&&(this.unselect(),this.dispatch({type:"SET_DATE",dateMarker:this.dateEnv.add(this.state.currentDate,b)}))},a.prototype.getDate=function(){return this.dateEnv.toDate(this.state.currentDate)},a.prototype.formatDate=function(a,b){var c=this.dateEnv;return c.format(c.createMarker(a),Pb(b))},a.prototype.formatRange=function(a,b,c){var d=this.dateEnv;return d.formatRange(d.createMarker(a),d.createMarker(b),Pb(c,this.opt("defaultRangeSeparator")),c)},a.prototype.formatIso=function(a,b){var c=this.dateEnv;return c.formatIso(c.createMarker(a),{omitTime:b})},a.prototype.windowResize=function(a){!this.isHandlingWindowResize&&this.component&&a.target===window&&(this.isHandlingWindowResize=!0,this.updateSize(),this.publiclyTrigger("windowResize",[this.view]),this.isHandlingWindowResize=!1)},a.prototype.updateSize=function(){this.component&&this.component.updateSize(!0)},a.prototype.registerInteractiveComponent=function(a,b){var c=ee(a,b),d=[Sf,Tf],e=d.concat(this.pluginSystem.hooks.componentInteractions),f=e.map(function(a){return new a(c)});this.interactionsStore[a.uid]=f,Rf[a.uid]=c},a.prototype.unregisterInteractiveComponent=function(a){for(var b=0,c=this.interactionsStore[a.uid];b<c.length;b++){var d=c[b];d.destroy()}delete this.interactionsStore[a.uid],delete Rf[a.uid]},a.prototype.select=function(a,b){var c;c=null==b?null!=a.start?a:{start:a,end:null}:{start:a,end:b};var d=Nd(c,this.dateEnv,ja({days:1}));d&&(this.dispatch({type:"SELECT_DATES",selection:d}),this.triggerDateSelect(d))},a.prototype.unselect=function(a){this.state.dateSelection&&(this.dispatch({type:"UNSELECT_DATES"}),this.triggerDateUnselect(a))},a.prototype.triggerDateSelect=function(a,b){var c=Fe({},this.buildDateSpanApi(a),{jsEvent:b?b.origEvent:null,view:this.view});this.publiclyTrigger("select",[c])},a.prototype.triggerDateUnselect=function(a){this.publiclyTrigger("unselect",[{jsEvent:a?a.origEvent:null,view:this.view}])},a.prototype.triggerDateClick=function(a,b,c,d){var e=Fe({},this.buildDatePointApi(a),{dayEl:b,jsEvent:d,view:c});this.publiclyTrigger("dateClick",[e])},a.prototype.buildDatePointApi=function(a){for(var b={},c=0,d=this.pluginSystem.hooks.datePointTransforms;c<d.length;c++){var e=d[c];Fe(b,e(a,this))}return Fe(b,Sd(a,this.dateEnv)),b},a.prototype.buildDateSpanApi=function(a){for(var b={},c=0,d=this.pluginSystem.hooks.dateSpanTransforms;c<d.length;c++){var e=d[c];Fe(b,e(a,this))}return Fe(b,Rd(a,this.dateEnv)),b},a.prototype.getNow=function(){var a=this.opt("now");return"function"==typeof a&&(a=a()),null==a?this.dateEnv.createNowMarker():this.dateEnv.createMarker(a)},a.prototype.getDefaultEventEnd=function(a,b){var c=b;return a?(c=Y(c),c=this.dateEnv.add(c,this.defaultAllDayEventDuration)):c=this.dateEnv.add(c,this.defaultTimedEventDuration),c},a.prototype.addEvent=function(a,b){if(a instanceof Se){var c=a._def,d=a._instance;return this.state.eventStore.defs[c.defId]||this.dispatch({type:"ADD_EVENTS",eventStore:kb({def:c,instance:d})}),a}var e;if(b instanceof Re)e=b.internalEventSource.sourceId;else if(null!=b){var f=this.getEventSourceById(b);if(!f)return null;e=f.internalEventSource.sourceId}var g=Ic(a,e,this);return g?(this.dispatch({type:"ADD_EVENTS",eventStore:kb(g)}),new Se(this,g.def,g.def.recurringDef?null:g.instance)):null},a.prototype.getEventById=function(a){var b=this.state.eventStore,c=b.defs,d=b.instances;a+="";for(var e in c){var f=c[e];if(f.publicId===a){if(f.recurringDef)return new Se(this,f,null);for(var g in d){var h=d[g];if(h.defId===f.defId)return new Se(this,f,h)}}}return null},a.prototype.getEvents=function(){var a=this.state.eventStore,b=a.defs,c=a.instances,d=[];for(var e in c){var f=c[e],g=b[f.defId];d.push(new Se(this,g,f))}return d},a.prototype.removeAllEvents=function(){this.dispatch({type:"REMOVE_ALL_EVENTS"})},a.prototype.rerenderEvents=function(){this.dispatch({type:"RESET_EVENTS"})},a.prototype.getEventSources=function(){var a=this.state.eventSources,b=[];for(var c in a)b.push(new Re(this,a[c]));return b},a.prototype.getEventSourceById=function(a){var b=this.state.eventSources;a+="";for(var c in b)if(b[c].publicId===a)return new Re(this,b[c]);return null},a.prototype.addEventSource=function(a){if(a instanceof Re)return this.state.eventSources[a.internalEventSource.sourceId]||this.dispatch({type:"ADD_EVENT_SOURCES",sources:[a.internalEventSource]}),a;var b=sd(a,this);return b?(this.dispatch({type:"ADD_EVENT_SOURCES",sources:[b]}),new Re(this,b)):null},a.prototype.removeAllEventSources=function(){this.dispatch({type:"REMOVE_ALL_EVENT_SOURCES"})},a.prototype.refetchEvents=function(){this.dispatch({type:"FETCH_EVENT_SOURCES"})},a.prototype.scrollToTime=function(a){var b=ja(a);b&&this.component.view.scrollToDuration(b)},a}();af.mixInto(Vf);var Wf=function(a){function c(c,d){var e=a.call(this,b("div",{className:"fc-view fc-"+c.type+"-view"}))||this;return e.renderDatesMem=Rc(e.renderDatesWrap,e.unrenderDatesWrap),e.renderBusinessHoursMem=Rc(e.renderBusinessHours,e.unrenderBusinessHours,[e.renderDatesMem]),e.renderDateSelectionMem=Rc(e.renderDateSelectionWrap,e.unrenderDateSelectionWrap,[e.renderDatesMem]),e.renderEventsMem=Rc(e.renderEvents,e.unrenderEvents,[e.renderDatesMem]),e.renderEventSelectionMem=Rc(e.renderEventSelectionWrap,e.unrenderEventSelectionWrap,[e.renderEventsMem]),e.renderEventDragMem=Rc(e.renderEventDragWrap,e.unrenderEventDragWrap,[e.renderDatesMem]),e.renderEventResizeMem=Rc(e.renderEventResizeWrap,e.unrenderEventResizeWrap,[e.renderDatesMem]),e.viewSpec=c,e.type=c.type,d.appendChild(e.el),e.initialize(),e}return ab(c,a),c.prototype.initialize=function(){},Object.defineProperty(c.prototype,"activeStart",{get:function(){return this.context.dateEnv.toDate(this.props.dateProfile.activeRange.start)},enumerable:!0,configurable:!0}),Object.defineProperty(c.prototype,"activeEnd",{get:function(){return this.context.dateEnv.toDate(this.props.dateProfile.activeRange.end);
},enumerable:!0,configurable:!0}),Object.defineProperty(c.prototype,"currentStart",{get:function(){return this.context.dateEnv.toDate(this.props.dateProfile.currentRange.start)},enumerable:!0,configurable:!0}),Object.defineProperty(c.prototype,"currentEnd",{get:function(){return this.context.dateEnv.toDate(this.props.dateProfile.currentRange.end)},enumerable:!0,configurable:!0}),c.prototype.render=function(a,b){this.renderDatesMem(a.dateProfile),this.renderBusinessHoursMem(a.businessHours),this.renderDateSelectionMem(a.dateSelection),this.renderEventsMem(a.eventStore),this.renderEventSelectionMem(a.eventSelection),this.renderEventDragMem(a.eventDrag),this.renderEventResizeMem(a.eventResize)},c.prototype.beforeUpdate=function(){this.addScroll(this.queryScroll())},c.prototype.destroy=function(){a.prototype.destroy.call(this),this.renderDatesMem.unrender()},c.prototype.updateSize=function(a,b,c){var d=this.context.calendar;a&&this.addScroll(this.queryScroll()),(a||d.isViewUpdated||d.isDatesUpdated||d.isEventsUpdated)&&this.updateBaseSize(a,b,c)},c.prototype.updateBaseSize=function(a,b,c){},c.prototype.renderDatesWrap=function(a){this.renderDates(a),this.addScroll({duration:ja(this.context.options.scrollTime)})},c.prototype.unrenderDatesWrap=function(){this.stopNowIndicator(),this.unrenderDates()},c.prototype.renderDates=function(a){},c.prototype.unrenderDates=function(){},c.prototype.renderBusinessHours=function(a){},c.prototype.unrenderBusinessHours=function(){},c.prototype.renderDateSelectionWrap=function(a){a&&this.renderDateSelection(a)},c.prototype.unrenderDateSelectionWrap=function(a){a&&this.unrenderDateSelection(a)},c.prototype.renderDateSelection=function(a){},c.prototype.unrenderDateSelection=function(a){},c.prototype.renderEvents=function(a){},c.prototype.unrenderEvents=function(){},c.prototype.sliceEvents=function(a,b){var c=this.props;return Vb(a,c.eventUiBases,c.dateProfile.activeRange,b?this.context.nextDayThreshold:null).fg},c.prototype.renderEventSelectionWrap=function(a){a&&this.renderEventSelection(a)},c.prototype.unrenderEventSelectionWrap=function(a){a&&this.unrenderEventSelection(a)},c.prototype.renderEventSelection=function(a){},c.prototype.unrenderEventSelection=function(a){},c.prototype.renderEventDragWrap=function(a){a&&this.renderEventDrag(a)},c.prototype.unrenderEventDragWrap=function(a){a&&this.unrenderEventDrag(a)},c.prototype.renderEventDrag=function(a){},c.prototype.unrenderEventDrag=function(a){},c.prototype.renderEventResizeWrap=function(a){a&&this.renderEventResize(a)},c.prototype.unrenderEventResizeWrap=function(a){a&&this.unrenderEventResize(a)},c.prototype.renderEventResize=function(a){},c.prototype.unrenderEventResize=function(a){},c.prototype.startNowIndicator=function(a,b){var c,d,e,f=this,g=this.context,h=g.calendar,i=g.dateEnv,j=g.options;j.nowIndicator&&!this.initialNowDate&&(c=this.getNowIndicatorUnit(a,b),c&&(d=this.updateNowIndicator.bind(this),this.initialNowDate=h.getNow(),this.initialNowQueriedMs=(new Date).valueOf(),e=i.add(i.startOf(this.initialNowDate,c),ja(1,c)).valueOf()-this.initialNowDate.valueOf(),this.nowIndicatorTimeoutID=setTimeout(function(){f.nowIndicatorTimeoutID=null,d(),e="second"===c?1e3:6e4,f.nowIndicatorIntervalID=setInterval(d,e)},e)))},c.prototype.updateNowIndicator=function(){this.props.dateProfile&&this.initialNowDate&&(this.unrenderNowIndicator(),this.renderNowIndicator(P(this.initialNowDate,(new Date).valueOf()-this.initialNowQueriedMs)),this.isNowIndicatorRendered=!0)},c.prototype.stopNowIndicator=function(){this.nowIndicatorTimeoutID&&(clearTimeout(this.nowIndicatorTimeoutID),this.nowIndicatorTimeoutID=null),this.nowIndicatorIntervalID&&(clearInterval(this.nowIndicatorIntervalID),this.nowIndicatorIntervalID=null),this.isNowIndicatorRendered&&(this.unrenderNowIndicator(),this.isNowIndicatorRendered=!1)},c.prototype.getNowIndicatorUnit=function(a,b){},c.prototype.renderNowIndicator=function(a){},c.prototype.unrenderNowIndicator=function(){},c.prototype.addScroll=function(a,b){b&&(a.isForced=b),Fe(this.queuedScroll||(this.queuedScroll={}),a)},c.prototype.popScroll=function(a){this.applyQueuedScroll(a),this.queuedScroll=null},c.prototype.applyQueuedScroll=function(a){this.queuedScroll&&this.applyScroll(this.queuedScroll,a)},c.prototype.queryScroll=function(){var a={};return this.props.dateProfile&&Fe(a,this.queryDateScroll()),a},c.prototype.applyScroll=function(a,b){var c=a.duration,d=a.isForced;null==c||d||(delete a.duration,this.props.dateProfile&&Fe(a,this.computeDateScroll(c))),this.props.dateProfile&&this.applyDateScroll(a)},c.prototype.computeDateScroll=function(a){return{}},c.prototype.queryDateScroll=function(){return{}},c.prototype.applyDateScroll=function(a){},c.prototype.scrollToDuration=function(a){this.applyScroll({duration:a},!1)},c}(lf);af.mixInto(Wf),Wf.prototype.usesMinMaxTime=!1,Wf.prototype.dateProfileGeneratorClass=Lf;var Xf=function(){function a(){this.segs=[],this.isSizeDirty=!1}return a.prototype.renderSegs=function(a,b,c){this.context=a,this.rangeUpdated(),b=this.renderSegEls(b,c),this.segs=b,this.attachSegs(b,c),this.isSizeDirty=!0,ac(this.context,this.segs,!!c)},a.prototype.unrender=function(a,b,c){bc(this.context,this.segs,!!c),this.detachSegs(this.segs),this.segs=[]},a.prototype.rangeUpdated=function(){var a,b,c=this.context.options;this.eventTimeFormat=Pb(c.eventTimeFormat||this.computeEventTimeFormat(),c.defaultRangeSeparator),a=c.displayEventTime,null==a&&(a=this.computeDisplayEventTime()),b=c.displayEventEnd,null==b&&(b=this.computeDisplayEventEnd()),this.displayEventTime=a,this.displayEventEnd=b},a.prototype.renderSegEls=function(a,b){var c,e="";if(a.length){for(c=0;c<a.length;c++)e+=this.renderSegHtml(a[c],b);d(e).forEach(function(b,c){var d=a[c];b&&(d.el=b)}),a=Xb(this.context,a,!!b)}return a},a.prototype.getSegClasses=function(a,b,c,d){var e=["fc-event",a.isStart?"fc-start":"fc-not-start",a.isEnd?"fc-end":"fc-not-end"].concat(a.eventRange.ui.classNames);return b&&e.push("fc-draggable"),c&&e.push("fc-resizable"),d&&(e.push("fc-mirror"),d.isDragging&&e.push("fc-dragging"),d.isResizing&&e.push("fc-resizing")),e},a.prototype.getTimeText=function(a,b,c){var d=a.def,e=a.instance;return this._getTimeText(e.range.start,d.hasEnd?e.range.end:null,d.allDay,b,c,e.forcedStartTzo,e.forcedEndTzo)},a.prototype._getTimeText=function(a,b,c,d,e,f,g){var h=this.context.dateEnv;return null==d&&(d=this.eventTimeFormat),null==e&&(e=this.displayEventEnd),this.displayEventTime&&!c?e&&b?h.formatRange(a,b,d,{forcedStartTzo:f,forcedEndTzo:g}):h.format(a,d,{forcedTzo:f}):""},a.prototype.computeEventTimeFormat=function(){return{hour:"numeric",minute:"2-digit",omitZeroMinute:!0}},a.prototype.computeDisplayEventTime=function(){return!0},a.prototype.computeDisplayEventEnd=function(){return!0},a.prototype.getSkinCss=function(a){return{"background-color":a.backgroundColor,"border-color":a.borderColor,color:a.textColor}},a.prototype.sortEventSegs=function(a){var b=this.context.eventOrderSpecs,c=a.map(me);return c.sort(function(a,c){return Na(a,c,b)}),c.map(function(a){return a._seg})},a.prototype.computeSizes=function(a){(a||this.isSizeDirty)&&this.computeSegSizes(this.segs)},a.prototype.assignSizes=function(a){(a||this.isSizeDirty)&&(this.assignSegSizes(this.segs),this.isSizeDirty=!1)},a.prototype.computeSegSizes=function(a){},a.prototype.assignSegSizes=function(a){},a.prototype.hideByHash=function(a){if(a)for(var b=0,c=this.segs;b<c.length;b++){var d=c[b];a[d.eventRange.instance.instanceId]&&(d.el.style.visibility="hidden")}},a.prototype.showByHash=function(a){if(a)for(var b=0,c=this.segs;b<c.length;b++){var d=c[b];a[d.eventRange.instance.instanceId]&&(d.el.style.visibility="")}},a.prototype.selectByInstanceId=function(a){if(a)for(var b=0,c=this.segs;b<c.length;b++){var d=c[b],e=d.eventRange.instance;e&&e.instanceId===a&&d.el&&d.el.classList.add("fc-selected")}},a.prototype.unselectByInstanceId=function(a){if(a)for(var b=0,c=this.segs;b<c.length;b++){var d=c[b];d.el&&d.el.classList.remove("fc-selected")}},a}(),Yf=function(){function a(){this.fillSegTag="div",this.dirtySizeFlags={},this.containerElsByType={},this.segsByType={}}return a.prototype.getSegsByType=function(a){return this.segsByType[a]||[]},a.prototype.renderSegs=function(a,b,c){var d;this.context=b;var e=this.renderSegEls(a,c),f=this.attachSegs(a,e);f&&(d=this.containerElsByType[a]||(this.containerElsByType[a]=[])).push.apply(d,f),this.segsByType[a]=e,"bgEvent"===a&&ac(b,e,!1),this.dirtySizeFlags[a]=!0},a.prototype.unrender=function(a,b){var c=this.segsByType[a];c&&("bgEvent"===a&&bc(b,c,!1),this.detachSegs(a,c))},a.prototype.renderSegEls=function(a,b){var c,e=this,f="";if(b.length){for(c=0;c<b.length;c++)f+=this.renderSegHtml(a,b[c]);d(f).forEach(function(a,c){var d=b[c];a&&(d.el=a)}),"bgEvent"===a&&(b=Xb(this.context,b,!1)),b=b.filter(function(a){return m(a.el,e.fillSegTag)})}return b},a.prototype.renderSegHtml=function(a,b){var c=null,d=[];return"highlight"!==a&&"businessHours"!==a&&(c={"background-color":b.eventRange.ui.backgroundColor}),"highlight"!==a&&(d=d.concat(b.eventRange.ui.classNames)),"businessHours"===a?d.push("fc-bgevent"):d.push("fc-"+a.toLowerCase()),"<"+this.fillSegTag+(d.length?' class="'+d.join(" ")+'"':"")+(c?' style="'+Bc(c)+'"':"")+"></"+this.fillSegTag+">"},a.prototype.detachSegs=function(a,b){var c=this.containerElsByType[a];c&&(c.forEach(k),delete this.containerElsByType[a])},a.prototype.computeSizes=function(a){for(var b in this.segsByType)(a||this.dirtySizeFlags[b])&&this.computeSegSizes(this.segsByType[b])},a.prototype.assignSizes=function(a){for(var b in this.segsByType)(a||this.dirtySizeFlags[b])&&this.assignSegSizes(this.segsByType[b]);this.dirtySizeFlags={}},a.prototype.computeSegSizes=function(a){},a.prototype.assignSegSizes=function(a){},a}(),Zf=function(){function a(a){this.timeZoneName=a}return a}(),$f=function(){function a(a){this.emitter=new af}return a.prototype.destroy=function(){},a.prototype.setMirrorIsVisible=function(a){},a.prototype.setMirrorNeedsRevert=function(a){},a.prototype.setAutoScrollEnabled=function(a){},a}(),_f={startTime:ja,duration:ja,create:Boolean,sourceId:String},ag={create:!0},bg=function(a){function b(b){var c=a.call(this)||this;return c.renderSkeleton=Rc(c._renderSkeleton,c._unrenderSkeleton),c.parentEl=b,c}return ab(b,a),b.prototype.render=function(a,b){var c=a.dates,d=a.datesRepDistinctDays,e=[];this.renderSkeleton(b),a.renderIntroHtml&&e.push(a.renderIntroHtml());for(var f=Pb(b.options.columnHeaderFormat||re(d,c.length)),g=0,h=c;g<h.length;g++){var i=h[g];e.push(se(i,a.dateProfile,d,c.length,f,b))}b.isRtl&&e.reverse(),this.thead.innerHTML="<tr>"+e.join("")+"</tr>"},b.prototype.destroy=function(){a.prototype.destroy.call(this),this.renderSkeleton.unrender()},b.prototype._renderSkeleton=function(a){var b=a.theme,d=this.parentEl;d.innerHTML="",d.appendChild(this.el=c('<div class="fc-row '+b.getClass("headerRow")+'"><table class="'+b.getClass("tableGrid")+'"><thead></thead></table></div>')),this.thead=this.el.querySelector("thead")},b.prototype._unrenderSkeleton=function(){k(this.el)},b}(kf),cg=function(){function a(a,b){for(var c=a.start,d=a.end,e=[],f=[],g=-1;c<d;)b.isHiddenDay(c)?e.push(g+.5):(g++,e.push(g),f.push(c)),c=O(c,1);this.dates=f,this.indices=e,this.cnt=f.length}return a.prototype.sliceRange=function(a){var b=this.getDateDayIndex(a.start),c=this.getDateDayIndex(O(a.end,-1)),d=Math.max(0,b),e=Math.min(this.cnt-1,c);return d=Math.ceil(d),e=Math.floor(e),d<=e?{firstIndex:d,lastIndex:e,isStart:b===d,isEnd:c===e}:null},a.prototype.getDateDayIndex=function(a){var b=this.indices,c=Math.floor(R(this.dates[0],a));return c<0?b[0]-1:c>=b.length?b[b.length-1]+1:b[c]},a}(),dg=function(){function a(a,b){var c,d,e,f=a.dates;if(b){for(d=f[0].getUTCDay(),c=1;c<f.length&&f[c].getUTCDay()!==d;c++);e=Math.ceil(f.length/c)}else e=1,c=f.length;this.rowCnt=e,this.colCnt=c,this.daySeries=a,this.cells=this.buildCells(),this.headerDates=this.buildHeaderDates()}return a.prototype.buildCells=function(){for(var a=[],b=0;b<this.rowCnt;b++){for(var c=[],d=0;d<this.colCnt;d++)c.push(this.buildCell(b,d));a.push(c)}return a},a.prototype.buildCell=function(a,b){return{date:this.daySeries.dates[a*this.colCnt+b]}},a.prototype.buildHeaderDates=function(){for(var a=[],b=0;b<this.colCnt;b++)a.push(this.cells[0][b].date);return a},a.prototype.sliceRange=function(a){var b=this.colCnt,c=this.daySeries.sliceRange(a),d=[];if(c)for(var e=c.firstIndex,f=c.lastIndex,g=e;g<=f;){var h=Math.floor(g/b),i=Math.min((h+1)*b,f+1);d.push({row:h,firstCol:g%b,lastCol:(i-1)%b,isStart:c.isStart&&g===e,isEnd:c.isEnd&&i-1===f}),g=i}return d},a}(),eg=function(){function a(){this.sliceBusinessHours=Eb(this._sliceBusinessHours),this.sliceDateSelection=Eb(this._sliceDateSpan),this.sliceEventStore=Eb(this._sliceEventStore),this.sliceEventDrag=Eb(this._sliceInteraction),this.sliceEventResize=Eb(this._sliceInteraction)}return a.prototype.sliceProps=function(a,b,c,d,e){for(var f=[],g=5;g<arguments.length;g++)f[g-5]=arguments[g];var h=a.eventUiBases,i=this.sliceEventStore.apply(this,[a.eventStore,h,b,c,e].concat(f));return{dateSelectionSegs:this.sliceDateSelection.apply(this,[a.dateSelection,h,e].concat(f)),businessHourSegs:this.sliceBusinessHours.apply(this,[a.businessHours,b,c,d,e].concat(f)),fgEventSegs:i.fg,bgEventSegs:i.bg,eventDrag:this.sliceEventDrag.apply(this,[a.eventDrag,h,b,c,e].concat(f)),eventResize:this.sliceEventResize.apply(this,[a.eventResize,h,b,c,e].concat(f)),eventSelection:a.eventSelection}},a.prototype.sliceNowDate=function(a,b){for(var c=[],d=2;d<arguments.length;d++)c[d-2]=arguments[d];return this._sliceDateSpan.apply(this,[{range:{start:a,end:P(a,1)},allDay:!1},{},b].concat(c))},a.prototype._sliceBusinessHours=function(a,b,c,d,e){for(var f=[],g=5;g<arguments.length;g++)f[g-5]=arguments[g];return a?this._sliceEventStore.apply(this,[lb(a,te(b,!!c),d),{},b,c,e].concat(f)).bg:[]},a.prototype._sliceEventStore=function(a,b,c,d,e){for(var f=[],g=5;g<arguments.length;g++)f[g-5]=arguments[g];if(a){var h=Vb(a,b,te(c,!!d),d);return{bg:this.sliceEventRanges(h.bg,e,f),fg:this.sliceEventRanges(h.fg,e,f)}}return{bg:[],fg:[]}},a.prototype._sliceInteraction=function(a,b,c,d,e){for(var f=[],g=5;g<arguments.length;g++)f[g-5]=arguments[g];if(!a)return null;var h=Vb(a.mutatedEvents,b,te(c,!!d),d);return{segs:this.sliceEventRanges(h.fg,e,f),affectedInstances:a.affectedEvents.instances,isEvent:a.isEvent,sourceSeg:a.origSeg}},a.prototype._sliceDateSpan=function(a,b,c){for(var d=[],e=3;e<arguments.length;e++)d[e-3]=arguments[e];if(!a)return[];for(var f=Td(a,b,c.context.calendar),g=this.sliceRange.apply(this,[a.range].concat(d)),h=0,i=g;h<i.length;h++){var j=i[h];j.component=c,j.eventRange=f}return g},a.prototype.sliceEventRanges=function(a,b,c){for(var d=[],e=0,f=a;e<f.length;e++){var g=f[e];d.push.apply(d,this.sliceEventRange(g,b,c))}return d},a.prototype.sliceEventRange=function(a,b,c){for(var d=this.sliceRange.apply(this,[a.range].concat(c)),e=0,f=d;e<f.length;e++){var g=f[e];g.component=b,g.eventRange=a,g.isStart=a.isStart&&g.isStart,g.isEnd=a.isEnd&&g.isEnd}return d},a}(),fg="4.4.2";a.Calendar=Vf,a.Component=kf,a.ComponentContext=jf,a.DateComponent=lf,a.DateEnv=Hf,a.DateProfileGenerator=Lf,a.DayHeader=bg,a.DaySeries=cg,a.DayTable=dg,a.ElementDragging=$f,a.ElementScrollController=df,a.EmitterMixin=af,a.EventApi=Se,a.FgEventRenderer=Xf,a.FillRenderer=Yf,a.Interaction=Qf,a.Mixin=_e,a.NamedTimeZoneImpl=Zf,a.PositionCache=bf,a.ScrollComponent=ff,a.ScrollController=cf,a.Slicer=eg,a.Splitter=$e,a.Theme=gf,a.View=Wf,a.WindowScrollController=ef,a.addDays=O,a.addDurations=pa,a.addMs=P,a.addWeeks=N,a.allowContextMenu=La,a.allowSelection=Ja,a.appendToElement=g,a.applyAll=Ua,a.applyMutationToEventStore=fc,a.applyStyle=q,a.applyStyleProp=r,a.asRoughMinutes=va,a.asRoughMs=xa,a.asRoughSeconds=wa,a.buildGotoAnchorHtml=Tc,a.buildSegCompareObj=me,a.capitaliseFirstLetter=Qa,a.combineEventUis=Gc,a.compareByFieldSpec=Oa,a.compareByFieldSpecs=Na,a.compareNumbers=Sa,a.compensateScroll=Aa,a.computeClippingRect=I,a.computeEdges=B,a.computeEventDraggable=cc,a.computeEventEndResizable=ec,a.computeEventStartResizable=dc,a.computeFallbackHeaderFormat=re,a.computeHeightAndMargins=F,a.computeInnerRect=C,a.computeRect=D,a.computeVisibleDayRange=Za,a.config=xf,a.constrainPoint=v,a.createDuration=ja,a.createElement=b,a.createEmptyEventStore=qb,a.createEventInstance=Kc,a.createFormatter=Pb,a.createPlugin=$c,a.cssToStr=Bc,a.debounce=Wa,a.diffDates=_a,a.diffDayAndTime=V,a.diffDays=R,a.diffPoints=x,a.diffWeeks=Q,a.diffWholeDays=X,a.diffWholeWeeks=W,a.disableCursor=Ca,a.distributeHeight=Ea,a.elementClosest=l,a.elementMatches=m,a.enableCursor=Da,a.eventTupleToStore=kb,a.filterEventStoreDefs=sb,a.filterHash=eb,a.findChildren=o,a.findElements=n,a.flexibleCompare=Pa,a.forceClassName=p,a.formatDate=ne,a.formatIsoTimeString=Rb,a.formatRange=oe,a.getAllDayHtml=Uc,a.getClippingParents=H,a.getDayClasses=Vc,a.getElSeg=Zb,a.getRectCenter=w,a.getRelevantEvents=mb,a.globalDefaults=yf,a.greatestDurationDenominator=za,a.hasBgRendering=Wb,a.htmlEscape=Ac,a.htmlToElement=c,a.insertAfterElement=i,a.interactionSettingsStore=Rf,a.interactionSettingsToStore=fe,a.intersectRanges=wb,a.intersectRects=t,a.isArraysEqual=Db,a.isDateSpansEqual=Pd,a.isInt=Ta,a.isInteractionValid=pc,a.isMultiDayRange=$a,a.isPropsEqual=ib,a.isPropsValid=sc,a.isSingleDay=oa,a.isValidDate=ha,a.listenBySelector=K,a.mapHash=fb,a.matchCellWidths=Ga,a.memoize=Eb,a.memoizeOutput=Fb,a.memoizeRendering=Rc,a.mergeEventStores=rb,a.multiplyDuration=ra,a.padStart=Ra,a.parseBusinessHours=Pc,a.parseDragMeta=qe,a.parseEventDef=Jc,a.parseFieldSpecs=Ma,a.parseMarker=qd,a.pointInsideRect=s,a.prependToElement=h,a.preventContextMenu=Ka,a.preventDefault=J,a.preventSelection=Ia,a.processScopedUiProps=Fc,a.rangeContainsMarker=Ab,a.rangeContainsRange=zb,a.rangesEqual=xb,a.rangesIntersect=yb,a.refineProps=Xa,a.removeElement=k,a.removeExact=Cb,a.renderDateCell=se,a.requestJson=ad,a.sliceEventStore=Vb,a.startOfDay=Y,a.subtractInnerElHeight=Ha,a.translateRect=u,a.uncompensateScroll=Ba,a.undistributeHeight=Fa,a.unpromisify=Wc,a.version=fg,a.whenTransitionDone=M,a.wholeDivideDurations=ya,Object.defineProperty(a,"__esModule",{value:!0})}),function(a,b){"object"==typeof exports&&"undefined"!=typeof module?b(exports,require("@fullcalendar/core")):"function"==typeof define&&define.amd?define(["exports","@fullcalendar/core"],b):(a=a||self,b(a.FullCalendarInteraction={},a.FullCalendar))}(this,function(a,b){"use strict";function c(a,b){function c(){this.constructor=a}s(a,b),a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c)}function d(a){return 0===a.button&&!a.ctrlKey}function e(){u++,setTimeout(function(){u--},b.config.touchMouseIgnoreWait)}function f(){v++||window.addEventListener("touchmove",h,{passive:!1})}function g(){--v||window.removeEventListener("touchmove",h,{passive:!1})}function h(a){w&&a.preventDefault()}function i(a){var b=a.tagName;return"HTML"===b||"BODY"===b}function j(a,c){return!a&&!c||!!a==!!c&&b.isDateSpansEqual(a.dateSpan,c.dateSpan)}function k(a){var b=a.context.options,c=b.selectLongPressDelay;return null==c&&(c=b.longPressDelay),c}function l(a,c,d){var e=a.dateSpan,f=c.dateSpan,g=[e.range.start,e.range.end,f.range.start,f.range.end];g.sort(b.compareNumbers);for(var h={},i=0,j=d;i<j.length;i++){var k=j[i],l=k(a,c);if(l===!1)return null;l&&t(h,l)}return h.range={start:g[0],end:g[3]},h.allDay=e.allDay,h}function m(a,c,d){var e=a.dateSpan,f=c.dateSpan,g=e.range.start,h=f.range.start,i={};e.allDay!==f.allDay&&(i.allDay=f.allDay,i.hasEnd=c.component.context.options.allDayMaintainDuration,f.allDay&&(g=b.startOfDay(g)));var j=b.diffDates(g,h,a.component.context.dateEnv,a.component===c.component?a.component.largeUnit:null);j.milliseconds&&(i.allDay=!1);for(var k={datesDelta:j,standardProps:i},l=0,m=d;l<m.length;l++){var n=m[l];n(k,a,c)}return k}function n(a){var b=a.context.options,c=b.eventLongPressDelay;return null==c&&(c=b.longPressDelay),c}function o(a,c,d,e,f){for(var g=a.component.context.dateEnv,h=a.dateSpan.range.start,i=c.dateSpan.range.start,j=b.diffDates(h,i,g,a.component.largeUnit),k={},l=0,m=f;l<m.length;l++){var n=m[l],o=n(a,c);if(o===!1)return null;o&&t(k,o)}if(d){if(g.add(e.start,j)<e.end)return k.startDelta=j,k}else if(g.add(e.end,j)>e.start)return k.endDelta=j,k;return null}function p(a,c,d){for(var e=t({},c.leftoverProps),f=0,g=d.pluginSystem.hooks.externalDefTransforms;f<g.length;f++){var h=g[f];t(e,h(a,c))}var i=b.parseEventDef(e,c.sourceId,a.allDay,d.opt("forceEventDuration")||!!c.duration,d),j=a.range.start;a.allDay&&c.startTime&&(j=d.dateEnv.add(j,c.startTime));var k=c.duration?d.dateEnv.add(j,c.duration):d.getDefaultEventEnd(a.allDay,j),l=b.createEventInstance(i.defId,{start:j,end:k});return{def:i,instance:l}}function q(a){var c=r(a,"event"),d=c?JSON.parse(c):{create:!1};return b.parseDragMeta(d)}function r(a,c){var d=b.config.dataAttrPrefix,e=(d?d+"-":"")+c;return a.getAttribute("data-"+e)||""}var s=function(a,b){return(s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c])})(a,b)},t=function(){return t=Object.assign||function(a){for(var b,c=1,d=arguments.length;c<d;c++){b=arguments[c];for(var e in b)Object.prototype.hasOwnProperty.call(b,e)&&(a[e]=b[e])}return a},t.apply(this,arguments)};b.config.touchMouseIgnoreWait=500;var u=0,v=0,w=!1,x=function(){function a(a){var c=this;this.subjectEl=null,this.downEl=null,this.selector="",this.handleSelector="",this.shouldIgnoreMove=!1,this.shouldWatchScroll=!0,this.isDragging=!1,this.isTouchDragging=!1,this.wasTouchScroll=!1,this.handleMouseDown=function(a){if(!c.shouldIgnoreMouse()&&d(a)&&c.tryStart(a)){var b=c.createEventFromMouse(a,!0);c.emitter.trigger("pointerdown",b),c.initScrollWatch(b),c.shouldIgnoreMove||document.addEventListener("mousemove",c.handleMouseMove),document.addEventListener("mouseup",c.handleMouseUp)}},this.handleMouseMove=function(a){var b=c.createEventFromMouse(a);c.recordCoords(b),c.emitter.trigger("pointermove",b)},this.handleMouseUp=function(a){document.removeEventListener("mousemove",c.handleMouseMove),document.removeEventListener("mouseup",c.handleMouseUp),c.emitter.trigger("pointerup",c.createEventFromMouse(a)),c.cleanup()},this.handleTouchStart=function(a){if(c.tryStart(a)){c.isTouchDragging=!0;var b=c.createEventFromTouch(a,!0);c.emitter.trigger("pointerdown",b),c.initScrollWatch(b);var d=a.target;c.shouldIgnoreMove||d.addEventListener("touchmove",c.handleTouchMove),d.addEventListener("touchend",c.handleTouchEnd),d.addEventListener("touchcancel",c.handleTouchEnd),window.addEventListener("scroll",c.handleTouchScroll,!0)}},this.handleTouchMove=function(a){var b=c.createEventFromTouch(a);c.recordCoords(b),c.emitter.trigger("pointermove",b)},this.handleTouchEnd=function(a){if(c.isDragging){var b=a.target;b.removeEventListener("touchmove",c.handleTouchMove),b.removeEventListener("touchend",c.handleTouchEnd),b.removeEventListener("touchcancel",c.handleTouchEnd),window.removeEventListener("scroll",c.handleTouchScroll,!0),c.emitter.trigger("pointerup",c.createEventFromTouch(a)),c.cleanup(),c.isTouchDragging=!1,e()}},this.handleTouchScroll=function(){c.wasTouchScroll=!0},this.handleScroll=function(a){if(!c.shouldIgnoreMove){var b=window.pageXOffset-c.prevScrollX+c.prevPageX,d=window.pageYOffset-c.prevScrollY+c.prevPageY;c.emitter.trigger("pointermove",{origEvent:a,isTouch:c.isTouchDragging,subjectEl:c.subjectEl,pageX:b,pageY:d,deltaX:b-c.origPageX,deltaY:d-c.origPageY})}},this.containerEl=a,this.emitter=new b.EmitterMixin,a.addEventListener("mousedown",this.handleMouseDown),a.addEventListener("touchstart",this.handleTouchStart,{passive:!0}),f()}return a.prototype.destroy=function(){this.containerEl.removeEventListener("mousedown",this.handleMouseDown),this.containerEl.removeEventListener("touchstart",this.handleTouchStart,{passive:!0}),g()},a.prototype.tryStart=function(a){var c=this.querySubjectEl(a),d=a.target;return!(!c||this.handleSelector&&!b.elementClosest(d,this.handleSelector))&&(this.subjectEl=c,this.downEl=d,this.isDragging=!0,this.wasTouchScroll=!1,!0)},a.prototype.cleanup=function(){w=!1,this.isDragging=!1,this.subjectEl=null,this.downEl=null,this.destroyScrollWatch()},a.prototype.querySubjectEl=function(a){return this.selector?b.elementClosest(a.target,this.selector):this.containerEl},a.prototype.shouldIgnoreMouse=function(){return u||this.isTouchDragging},a.prototype.cancelTouchScroll=function(){this.isDragging&&(w=!0)},a.prototype.initScrollWatch=function(a){this.shouldWatchScroll&&(this.recordCoords(a),window.addEventListener("scroll",this.handleScroll,!0))},a.prototype.recordCoords=function(a){this.shouldWatchScroll&&(this.prevPageX=a.pageX,this.prevPageY=a.pageY,this.prevScrollX=window.pageXOffset,this.prevScrollY=window.pageYOffset)},a.prototype.destroyScrollWatch=function(){this.shouldWatchScroll&&window.removeEventListener("scroll",this.handleScroll,!0)},a.prototype.createEventFromMouse=function(a,b){var c=0,d=0;return b?(this.origPageX=a.pageX,this.origPageY=a.pageY):(c=a.pageX-this.origPageX,d=a.pageY-this.origPageY),{origEvent:a,isTouch:!1,subjectEl:this.subjectEl,pageX:a.pageX,pageY:a.pageY,deltaX:c,deltaY:d}},a.prototype.createEventFromTouch=function(a,b){var c,d,e=a.touches,f=0,g=0;return e&&e.length?(c=e[0].pageX,d=e[0].pageY):(c=a.pageX,d=a.pageY),b?(this.origPageX=c,this.origPageY=d):(f=c-this.origPageX,g=d-this.origPageY),{origEvent:a,isTouch:!0,subjectEl:this.subjectEl,pageX:c,pageY:d,deltaX:f,deltaY:g}},a}(),y=function(){function a(){this.isVisible=!1,this.sourceEl=null,this.mirrorEl=null,this.sourceElRect=null,this.parentNode=document.body,this.zIndex=9999,this.revertDuration=0}return a.prototype.start=function(a,b,c){this.sourceEl=a,this.sourceElRect=this.sourceEl.getBoundingClientRect(),this.origScreenX=b-window.pageXOffset,this.origScreenY=c-window.pageYOffset,this.deltaX=0,this.deltaY=0,this.updateElPosition()},a.prototype.handleMove=function(a,b){this.deltaX=a-window.pageXOffset-this.origScreenX,this.deltaY=b-window.pageYOffset-this.origScreenY,this.updateElPosition()},a.prototype.setIsVisible=function(a){a?this.isVisible||(this.mirrorEl&&(this.mirrorEl.style.display=""),this.isVisible=a,this.updateElPosition()):this.isVisible&&(this.mirrorEl&&(this.mirrorEl.style.display="none"),this.isVisible=a)},a.prototype.stop=function(a,b){var c=this,d=function(){c.cleanup(),b()};a&&this.mirrorEl&&this.isVisible&&this.revertDuration&&(this.deltaX||this.deltaY)?this.doRevertAnimation(d,this.revertDuration):setTimeout(d,0)},a.prototype.doRevertAnimation=function(a,c){var d=this.mirrorEl,e=this.sourceEl.getBoundingClientRect();d.style.transition="top "+c+"ms,left "+c+"ms",b.applyStyle(d,{left:e.left,top:e.top}),b.whenTransitionDone(d,function(){d.style.transition="",a()})},a.prototype.cleanup=function(){this.mirrorEl&&(b.removeElement(this.mirrorEl),this.mirrorEl=null),this.sourceEl=null},a.prototype.updateElPosition=function(){this.sourceEl&&this.isVisible&&b.applyStyle(this.getMirrorEl(),{left:this.sourceElRect.left+this.deltaX,top:this.sourceElRect.top+this.deltaY})},a.prototype.getMirrorEl=function(){var a=this.sourceElRect,c=this.mirrorEl;return c||(c=this.mirrorEl=this.sourceEl.cloneNode(!0),c.classList.add("fc-unselectable"),c.classList.add("fc-dragging"),b.applyStyle(c,{position:"fixed",zIndex:this.zIndex,visibility:"",boxSizing:"border-box",width:a.right-a.left,height:a.bottom-a.top,right:"auto",bottom:"auto",margin:0}),this.parentNode.appendChild(c)),c},a}(),z=function(a){function b(b,c){var d=a.call(this)||this;return d.handleScroll=function(){d.scrollTop=d.scrollController.getScrollTop(),d.scrollLeft=d.scrollController.getScrollLeft(),d.handleScrollChange()},d.scrollController=b,d.doesListening=c,d.scrollTop=d.origScrollTop=b.getScrollTop(),d.scrollLeft=d.origScrollLeft=b.getScrollLeft(),d.scrollWidth=b.getScrollWidth(),d.scrollHeight=b.getScrollHeight(),d.clientWidth=b.getClientWidth(),d.clientHeight=b.getClientHeight(),d.clientRect=d.computeClientRect(),d.doesListening&&d.getEventTarget().addEventListener("scroll",d.handleScroll),d}return c(b,a),b.prototype.destroy=function(){this.doesListening&&this.getEventTarget().removeEventListener("scroll",this.handleScroll)},b.prototype.getScrollTop=function(){return this.scrollTop},b.prototype.getScrollLeft=function(){return this.scrollLeft},b.prototype.setScrollTop=function(a){this.scrollController.setScrollTop(a),this.doesListening||(this.scrollTop=Math.max(Math.min(a,this.getMaxScrollTop()),0),this.handleScrollChange())},b.prototype.setScrollLeft=function(a){this.scrollController.setScrollLeft(a),this.doesListening||(this.scrollLeft=Math.max(Math.min(a,this.getMaxScrollLeft()),0),this.handleScrollChange())},b.prototype.getClientWidth=function(){return this.clientWidth},b.prototype.getClientHeight=function(){return this.clientHeight},b.prototype.getScrollWidth=function(){return this.scrollWidth},b.prototype.getScrollHeight=function(){return this.scrollHeight},b.prototype.handleScrollChange=function(){},b}(b.ScrollController),A=function(a){function d(c,d){return a.call(this,new b.ElementScrollController(c),d)||this}return c(d,a),d.prototype.getEventTarget=function(){return this.scrollController.el},d.prototype.computeClientRect=function(){return b.computeInnerRect(this.scrollController.el)},d}(z),B=function(a){function d(c){return a.call(this,new b.WindowScrollController,c)||this}return c(d,a),d.prototype.getEventTarget=function(){return window},d.prototype.computeClientRect=function(){return{left:this.scrollLeft,right:this.scrollLeft+this.clientWidth,top:this.scrollTop,bottom:this.scrollTop+this.clientHeight}},d.prototype.handleScrollChange=function(){this.clientRect=this.computeClientRect()},d}(z),C="function"==typeof performance?performance.now:Date.now,D=function(){function a(){var a=this;this.isEnabled=!0,this.scrollQuery=[window,".fc-scroller"],this.edgeThreshold=50,this.maxVelocity=300,this.pointerScreenX=null,this.pointerScreenY=null,this.isAnimating=!1,this.scrollCaches=null,this.everMovedUp=!1,this.everMovedDown=!1,this.everMovedLeft=!1,this.everMovedRight=!1,this.animate=function(){if(a.isAnimating){var b=a.computeBestEdge(a.pointerScreenX+window.pageXOffset,a.pointerScreenY+window.pageYOffset);if(b){var c=C();a.handleSide(b,(c-a.msSinceRequest)/1e3),a.requestAnimation(c)}else a.isAnimating=!1}}}return a.prototype.start=function(a,b){this.isEnabled&&(this.scrollCaches=this.buildCaches(),this.pointerScreenX=null,this.pointerScreenY=null,this.everMovedUp=!1,this.everMovedDown=!1,this.everMovedLeft=!1,this.everMovedRight=!1,this.handleMove(a,b))},a.prototype.handleMove=function(a,b){if(this.isEnabled){var c=a-window.pageXOffset,d=b-window.pageYOffset,e=null===this.pointerScreenY?0:d-this.pointerScreenY,f=null===this.pointerScreenX?0:c-this.pointerScreenX;e<0?this.everMovedUp=!0:e>0&&(this.everMovedDown=!0),f<0?this.everMovedLeft=!0:f>0&&(this.everMovedRight=!0),this.pointerScreenX=c,this.pointerScreenY=d,this.isAnimating||(this.isAnimating=!0,this.requestAnimation(C()))}},a.prototype.stop=function(){if(this.isEnabled){this.isAnimating=!1;for(var a=0,b=this.scrollCaches;a<b.length;a++){var c=b[a];c.destroy()}this.scrollCaches=null}},a.prototype.requestAnimation=function(a){this.msSinceRequest=a,requestAnimationFrame(this.animate)},a.prototype.handleSide=function(a,b){var c=a.scrollCache,d=this.edgeThreshold,e=d-a.distance,f=e*e/(d*d)*this.maxVelocity*b,g=1;switch(a.name){case"left":g=-1;case"right":c.setScrollLeft(c.getScrollLeft()+f*g);break;case"top":g=-1;case"bottom":c.setScrollTop(c.getScrollTop()+f*g)}},a.prototype.computeBestEdge=function(a,b){for(var c=this.edgeThreshold,d=null,e=0,f=this.scrollCaches;e<f.length;e++){var g=f[e],h=g.clientRect,i=a-h.left,j=h.right-a,k=b-h.top,l=h.bottom-b;i>=0&&j>=0&&k>=0&&l>=0&&(k<=c&&this.everMovedUp&&g.canScrollUp()&&(!d||d.distance>k)&&(d={scrollCache:g,name:"top",distance:k}),l<=c&&this.everMovedDown&&g.canScrollDown()&&(!d||d.distance>l)&&(d={
scrollCache:g,name:"bottom",distance:l}),i<=c&&this.everMovedLeft&&g.canScrollLeft()&&(!d||d.distance>i)&&(d={scrollCache:g,name:"left",distance:i}),j<=c&&this.everMovedRight&&g.canScrollRight()&&(!d||d.distance>j)&&(d={scrollCache:g,name:"right",distance:j}))}return d},a.prototype.buildCaches=function(){return this.queryScrollEls().map(function(a){return a===window?new B((!1)):new A(a,(!1))})},a.prototype.queryScrollEls=function(){for(var a=[],b=0,c=this.scrollQuery;b<c.length;b++){var d=c[b];"object"==typeof d?a.push(d):a.push.apply(a,Array.prototype.slice.call(document.querySelectorAll(d)))}return a},a}(),E=function(a){function d(c){var d=a.call(this,c)||this;d.delay=null,d.minDistance=0,d.touchScrollAllowed=!0,d.mirrorNeedsRevert=!1,d.isInteracting=!1,d.isDragging=!1,d.isDelayEnded=!1,d.isDistanceSurpassed=!1,d.delayTimeoutId=null,d.onPointerDown=function(a){d.isDragging||(d.isInteracting=!0,d.isDelayEnded=!1,d.isDistanceSurpassed=!1,b.preventSelection(document.body),b.preventContextMenu(document.body),a.isTouch||a.origEvent.preventDefault(),d.emitter.trigger("pointerdown",a),d.pointer.shouldIgnoreMove||(d.mirror.setIsVisible(!1),d.mirror.start(a.subjectEl,a.pageX,a.pageY),d.startDelay(a),d.minDistance||d.handleDistanceSurpassed(a)))},d.onPointerMove=function(a){if(d.isInteracting){if(d.emitter.trigger("pointermove",a),!d.isDistanceSurpassed){var b=d.minDistance,c=void 0,e=a.deltaX,f=a.deltaY;c=e*e+f*f,c>=b*b&&d.handleDistanceSurpassed(a)}d.isDragging&&("scroll"!==a.origEvent.type&&(d.mirror.handleMove(a.pageX,a.pageY),d.autoScroller.handleMove(a.pageX,a.pageY)),d.emitter.trigger("dragmove",a))}},d.onPointerUp=function(a){d.isInteracting&&(d.isInteracting=!1,b.allowSelection(document.body),b.allowContextMenu(document.body),d.emitter.trigger("pointerup",a),d.isDragging&&(d.autoScroller.stop(),d.tryStopDrag(a)),d.delayTimeoutId&&(clearTimeout(d.delayTimeoutId),d.delayTimeoutId=null))};var e=d.pointer=new x(c);return e.emitter.on("pointerdown",d.onPointerDown),e.emitter.on("pointermove",d.onPointerMove),e.emitter.on("pointerup",d.onPointerUp),d.mirror=new y,d.autoScroller=new D,d}return c(d,a),d.prototype.destroy=function(){this.pointer.destroy()},d.prototype.startDelay=function(a){var b=this;"number"==typeof this.delay?this.delayTimeoutId=setTimeout(function(){b.delayTimeoutId=null,b.handleDelayEnd(a)},this.delay):this.handleDelayEnd(a)},d.prototype.handleDelayEnd=function(a){this.isDelayEnded=!0,this.tryStartDrag(a)},d.prototype.handleDistanceSurpassed=function(a){this.isDistanceSurpassed=!0,this.tryStartDrag(a)},d.prototype.tryStartDrag=function(a){this.isDelayEnded&&this.isDistanceSurpassed&&(this.pointer.wasTouchScroll&&!this.touchScrollAllowed||(this.isDragging=!0,this.mirrorNeedsRevert=!1,this.autoScroller.start(a.pageX,a.pageY),this.emitter.trigger("dragstart",a),this.touchScrollAllowed===!1&&this.pointer.cancelTouchScroll()))},d.prototype.tryStopDrag=function(a){this.mirror.stop(this.mirrorNeedsRevert,this.stopDrag.bind(this,a))},d.prototype.stopDrag=function(a){this.isDragging=!1,this.emitter.trigger("dragend",a)},d.prototype.setIgnoreMove=function(a){this.pointer.shouldIgnoreMove=a},d.prototype.setMirrorIsVisible=function(a){this.mirror.setIsVisible(a)},d.prototype.setMirrorNeedsRevert=function(a){this.mirrorNeedsRevert=a},d.prototype.setAutoScrollEnabled=function(a){this.autoScroller.isEnabled=a},d}(b.ElementDragging),F=function(){function a(a){this.origRect=b.computeRect(a),this.scrollCaches=b.getClippingParents(a).map(function(a){return new A(a,(!0))})}return a.prototype.destroy=function(){for(var a=0,b=this.scrollCaches;a<b.length;a++){var c=b[a];c.destroy()}},a.prototype.computeLeft=function(){for(var a=this.origRect.left,b=0,c=this.scrollCaches;b<c.length;b++){var d=c[b];a+=d.origScrollLeft-d.getScrollLeft()}return a},a.prototype.computeTop=function(){for(var a=this.origRect.top,b=0,c=this.scrollCaches;b<c.length;b++){var d=c[b];a+=d.origScrollTop-d.getScrollTop()}return a},a.prototype.isWithinClipping=function(a,c){for(var d={left:a,top:c},e=0,f=this.scrollCaches;e<f.length;e++){var g=f[e];if(!i(g.getEventTarget())&&!b.pointInsideRect(d,g.clientRect))return!1}return!0},a}(),G=function(){function a(a,c){var d=this;this.useSubjectCenter=!1,this.requireInitial=!0,this.initialHit=null,this.movingHit=null,this.finalHit=null,this.handlePointerDown=function(a){var b=d.dragging;d.initialHit=null,d.movingHit=null,d.finalHit=null,d.prepareHits(),d.processFirstCoord(a),d.initialHit||!d.requireInitial?(b.setIgnoreMove(!1),d.emitter.trigger("pointerdown",a)):b.setIgnoreMove(!0)},this.handleDragStart=function(a){d.emitter.trigger("dragstart",a),d.handleMove(a,!0)},this.handleDragMove=function(a){d.emitter.trigger("dragmove",a),d.handleMove(a)},this.handlePointerUp=function(a){d.releaseHits(),d.emitter.trigger("pointerup",a)},this.handleDragEnd=function(a){d.movingHit&&d.emitter.trigger("hitupdate",null,!0,a),d.finalHit=d.movingHit,d.movingHit=null,d.emitter.trigger("dragend",a)},this.droppableStore=c,a.emitter.on("pointerdown",this.handlePointerDown),a.emitter.on("dragstart",this.handleDragStart),a.emitter.on("dragmove",this.handleDragMove),a.emitter.on("pointerup",this.handlePointerUp),a.emitter.on("dragend",this.handleDragEnd),this.dragging=a,this.emitter=new b.EmitterMixin}return a.prototype.processFirstCoord=function(a){var c,d={left:a.pageX,top:a.pageY},e=d,f=a.subjectEl;f!==document&&(c=b.computeRect(f),e=b.constrainPoint(e,c));var g=this.initialHit=this.queryHitForOffset(e.left,e.top);if(g){if(this.useSubjectCenter&&c){var h=b.intersectRects(c,g.rect);h&&(e=b.getRectCenter(h))}this.coordAdjust=b.diffPoints(e,d)}else this.coordAdjust={left:0,top:0}},a.prototype.handleMove=function(a,b){var c=this.queryHitForOffset(a.pageX+this.coordAdjust.left,a.pageY+this.coordAdjust.top);!b&&j(this.movingHit,c)||(this.movingHit=c,this.emitter.trigger("hitupdate",c,!1,a))},a.prototype.prepareHits=function(){this.offsetTrackers=b.mapHash(this.droppableStore,function(a){return a.component.buildPositionCaches(),new F(a.el)})},a.prototype.releaseHits=function(){var a=this.offsetTrackers;for(var b in a)a[b].destroy();this.offsetTrackers={}},a.prototype.queryHitForOffset=function(a,c){var d=this,e=d.droppableStore,f=d.offsetTrackers,g=null;for(var h in e){var i=e[h].component,j=f[h];if(j.isWithinClipping(a,c)){var k=j.computeLeft(),l=j.computeTop(),m=a-k,n=c-l,o=j.origRect,p=o.right-o.left,q=o.bottom-o.top;if(m>=0&&m<p&&n>=0&&n<q){var r=i.queryHit(m,n,p,q);!r||i.props.dateProfile&&!b.rangeContainsRange(i.props.dateProfile.activeRange,r.dateSpan.range)||g&&!(r.layer>g.layer)||(r.rect.left+=k,r.rect.right+=k,r.rect.top+=l,r.rect.bottom+=l,g=r)}}}return g},a}(),H=function(a){function d(c){var d=a.call(this,c)||this;d.handlePointerDown=function(a){var b=d.dragging;b.setIgnoreMove(!d.component.isValidDateDownEl(b.pointer.downEl))},d.handleDragEnd=function(a){var b=d.component,c=b.context,e=c.calendar,f=c.view,g=d.dragging.pointer;if(!g.wasTouchScroll){var h=d.hitDragging,i=h.initialHit,k=h.finalHit;i&&k&&j(i,k)&&e.triggerDateClick(i.dateSpan,i.dayEl,f,a.origEvent)}};var e=c.component;d.dragging=new E(e.el),d.dragging.autoScroller.isEnabled=!1;var f=d.hitDragging=new G(d.dragging,b.interactionSettingsToStore(c));return f.emitter.on("pointerdown",d.handlePointerDown),f.emitter.on("dragend",d.handleDragEnd),d}return c(d,a),d.prototype.destroy=function(){this.dragging.destroy()},d}(b.Interaction),I=function(a){function d(c){var d=a.call(this,c)||this;d.dragSelection=null,d.handlePointerDown=function(a){var b=d,c=b.component,e=b.dragging,f=c.context.options,g=f.selectable&&c.isValidDateDownEl(a.origEvent.target);e.setIgnoreMove(!g),e.delay=a.isTouch?k(c):null},d.handleDragStart=function(a){d.component.context.calendar.unselect(a)},d.handleHitUpdate=function(a,c){var e=d.component.context.calendar,f=null,g=!1;a&&(f=l(d.hitDragging.initialHit,a,e.pluginSystem.hooks.dateSelectionTransformers),f&&d.component.isDateSelectionValid(f)||(g=!0,f=null)),f?e.dispatch({type:"SELECT_DATES",selection:f}):c||e.dispatch({type:"UNSELECT_DATES"}),g?b.disableCursor():b.enableCursor(),c||(d.dragSelection=f)},d.handlePointerUp=function(a){d.dragSelection&&(d.component.context.calendar.triggerDateSelect(d.dragSelection,a),d.dragSelection=null)};var e=c.component,f=e.context.options,g=d.dragging=new E(e.el);g.touchScrollAllowed=!1,g.minDistance=f.selectMinDistance||0,g.autoScroller.isEnabled=f.dragScroll;var h=d.hitDragging=new G(d.dragging,b.interactionSettingsToStore(c));return h.emitter.on("pointerdown",d.handlePointerDown),h.emitter.on("dragstart",d.handleDragStart),h.emitter.on("hitupdate",d.handleHitUpdate),h.emitter.on("pointerup",d.handlePointerUp),d}return c(d,a),d.prototype.destroy=function(){this.dragging.destroy()},d}(b.Interaction),J=function(a){function d(c){var e=a.call(this,c)||this;e.subjectSeg=null,e.isDragging=!1,e.eventRange=null,e.relevantEvents=null,e.receivingCalendar=null,e.validMutation=null,e.mutatedRelevantEvents=null,e.handlePointerDown=function(a){var c=a.origEvent.target,d=e,f=d.component,g=d.dragging,h=g.mirror,i=f.context.options,j=f.context.calendar,k=e.subjectSeg=b.getElSeg(a.subjectEl),l=e.eventRange=k.eventRange,m=l.instance.instanceId;e.relevantEvents=b.getRelevantEvents(j.state.eventStore,m),g.minDistance=a.isTouch?0:i.eventDragMinDistance,g.delay=a.isTouch&&m!==f.props.eventSelection?n(f):null,h.parentNode=j.el,h.revertDuration=i.dragRevertDuration;var o=f.isValidSegDownEl(c)&&!b.elementClosest(c,".fc-resizer");g.setIgnoreMove(!o),e.isDragging=o&&a.subjectEl.classList.contains("fc-draggable")},e.handleDragStart=function(a){var c=e.component.context,d=c.calendar,f=e.eventRange,g=f.instance.instanceId;a.isTouch?g!==e.component.props.eventSelection&&d.dispatch({type:"SELECT_EVENT",eventInstanceId:g}):d.dispatch({type:"UNSELECT_EVENT"}),e.isDragging&&(d.unselect(a),d.publiclyTrigger("eventDragStart",[{el:e.subjectSeg.el,event:new b.EventApi(d,f.def,f.instance),jsEvent:a.origEvent,view:c.view}]))},e.handleHitUpdate=function(a,c){if(e.isDragging){var d=e.relevantEvents,f=e.hitDragging.initialHit,g=e.component.context.calendar,h=null,i=null,k=null,l=!1,n={affectedEvents:d,mutatedEvents:b.createEmptyEventStore(),isEvent:!0,origSeg:e.subjectSeg};if(a){var o=a.component;h=o.context.calendar;var p=o.context.options;g===h||p.editable&&p.droppable?(i=m(f,a,h.pluginSystem.hooks.eventDragMutationMassagers),i&&(k=b.applyMutationToEventStore(d,h.eventUiBases,i,h),n.mutatedEvents=k,o.isInteractionValid(n)||(l=!0,i=null,k=null,n.mutatedEvents=b.createEmptyEventStore()))):h=null}e.displayDrag(h,n),l?b.disableCursor():b.enableCursor(),c||(g===h&&j(f,a)&&(i=null),e.dragging.setMirrorNeedsRevert(!i),e.dragging.setMirrorIsVisible(!a||!document.querySelector(".fc-mirror")),e.receivingCalendar=h,e.validMutation=i,e.mutatedRelevantEvents=k)}},e.handlePointerUp=function(){e.isDragging||e.cleanup()},e.handleDragEnd=function(a){if(e.isDragging){var c=e.component.context,d=c.calendar,f=c.view,g=e,h=g.receivingCalendar,i=g.validMutation,j=e.eventRange.def,k=e.eventRange.instance,l=new b.EventApi(d,j,k),m=e.relevantEvents,n=e.mutatedRelevantEvents,o=e.hitDragging.finalHit;if(e.clearDrag(),d.publiclyTrigger("eventDragStop",[{el:e.subjectSeg.el,event:l,jsEvent:a.origEvent,view:f}]),i){if(h===d){d.dispatch({type:"MERGE_EVENTS",eventStore:n});for(var p={},q=0,r=d.pluginSystem.hooks.eventDropTransformers;q<r.length;q++){var s=r[q];t(p,s(i,d))}var u=t({},p,{el:a.subjectEl,delta:i.datesDelta,oldEvent:l,event:new b.EventApi(d,n.defs[j.defId],k?n.instances[k.instanceId]:null),revert:function(){d.dispatch({type:"MERGE_EVENTS",eventStore:m})},jsEvent:a.origEvent,view:f});d.publiclyTrigger("eventDrop",[u])}else if(h){d.publiclyTrigger("eventLeave",[{draggedEl:a.subjectEl,event:l,view:f}]),d.dispatch({type:"REMOVE_EVENT_INSTANCES",instances:e.mutatedRelevantEvents.instances}),h.dispatch({type:"MERGE_EVENTS",eventStore:e.mutatedRelevantEvents}),a.isTouch&&h.dispatch({type:"SELECT_EVENT",eventInstanceId:k.instanceId});var v=t({},h.buildDatePointApi(o.dateSpan),{draggedEl:a.subjectEl,jsEvent:a.origEvent,view:o.component});h.publiclyTrigger("drop",[v]),h.publiclyTrigger("eventReceive",[{draggedEl:a.subjectEl,event:new b.EventApi(h,n.defs[j.defId],n.instances[k.instanceId]),view:o.component}])}}else d.publiclyTrigger("_noEventDrop")}e.cleanup()};var f=e.component,g=f.context.options,h=e.dragging=new E(f.el);h.pointer.selector=d.SELECTOR,h.touchScrollAllowed=!1,h.autoScroller.isEnabled=g.dragScroll;var i=e.hitDragging=new G(e.dragging,b.interactionSettingsStore);return i.useSubjectCenter=c.useEventCenter,i.emitter.on("pointerdown",e.handlePointerDown),i.emitter.on("dragstart",e.handleDragStart),i.emitter.on("hitupdate",e.handleHitUpdate),i.emitter.on("pointerup",e.handlePointerUp),i.emitter.on("dragend",e.handleDragEnd),e}return c(d,a),d.prototype.destroy=function(){this.dragging.destroy()},d.prototype.displayDrag=function(a,c){var d=this.component.context.calendar,e=this.receivingCalendar;e&&e!==a&&(e===d?e.dispatch({type:"SET_EVENT_DRAG",state:{affectedEvents:c.affectedEvents,mutatedEvents:b.createEmptyEventStore(),isEvent:!0,origSeg:c.origSeg}}):e.dispatch({type:"UNSET_EVENT_DRAG"})),a&&a.dispatch({type:"SET_EVENT_DRAG",state:c})},d.prototype.clearDrag=function(){var a=this.component.context.calendar,b=this.receivingCalendar;b&&b.dispatch({type:"UNSET_EVENT_DRAG"}),a!==b&&a.dispatch({type:"UNSET_EVENT_DRAG"})},d.prototype.cleanup=function(){this.subjectSeg=null,this.isDragging=!1,this.eventRange=null,this.relevantEvents=null,this.receivingCalendar=null,this.validMutation=null,this.mutatedRelevantEvents=null},d.SELECTOR=".fc-draggable, .fc-resizable",d}(b.Interaction),K=function(a){function d(c){var d=a.call(this,c)||this;d.draggingSeg=null,d.eventRange=null,d.relevantEvents=null,d.validMutation=null,d.mutatedRelevantEvents=null,d.handlePointerDown=function(a){var b=d.component,c=d.querySeg(a),e=d.eventRange=c.eventRange;d.dragging.minDistance=b.context.options.eventDragMinDistance,d.dragging.setIgnoreMove(!d.component.isValidSegDownEl(a.origEvent.target)||a.isTouch&&d.component.props.eventSelection!==e.instance.instanceId)},d.handleDragStart=function(a){var c=d.component.context,e=c.calendar,f=c.view,g=d.eventRange;d.relevantEvents=b.getRelevantEvents(e.state.eventStore,d.eventRange.instance.instanceId),d.draggingSeg=d.querySeg(a),e.unselect(),e.publiclyTrigger("eventResizeStart",[{el:d.draggingSeg.el,event:new b.EventApi(e,g.def,g.instance),jsEvent:a.origEvent,view:f}])},d.handleHitUpdate=function(a,c,e){var f=d.component.context.calendar,g=d.relevantEvents,h=d.hitDragging.initialHit,i=d.eventRange.instance,k=null,l=null,m=!1,n={affectedEvents:g,mutatedEvents:b.createEmptyEventStore(),isEvent:!0,origSeg:d.draggingSeg};a&&(k=o(h,a,e.subjectEl.classList.contains("fc-start-resizer"),i.range,f.pluginSystem.hooks.eventResizeJoinTransforms)),k&&(l=b.applyMutationToEventStore(g,f.eventUiBases,k,f),n.mutatedEvents=l,d.component.isInteractionValid(n)||(m=!0,k=null,l=null,n.mutatedEvents=null)),l?f.dispatch({type:"SET_EVENT_RESIZE",state:n}):f.dispatch({type:"UNSET_EVENT_RESIZE"}),m?b.disableCursor():b.enableCursor(),c||(k&&j(h,a)&&(k=null),d.validMutation=k,d.mutatedRelevantEvents=l)},d.handleDragEnd=function(a){var c=d.component.context,e=c.calendar,f=c.view,g=d.eventRange.def,h=d.eventRange.instance,i=new b.EventApi(e,g,h),j=d.relevantEvents,k=d.mutatedRelevantEvents;e.publiclyTrigger("eventResizeStop",[{el:d.draggingSeg.el,event:i,jsEvent:a.origEvent,view:f}]),d.validMutation?(e.dispatch({type:"MERGE_EVENTS",eventStore:k}),e.publiclyTrigger("eventResize",[{el:d.draggingSeg.el,startDelta:d.validMutation.startDelta||b.createDuration(0),endDelta:d.validMutation.endDelta||b.createDuration(0),prevEvent:i,event:new b.EventApi(e,k.defs[g.defId],h?k.instances[h.instanceId]:null),revert:function(){e.dispatch({type:"MERGE_EVENTS",eventStore:j})},jsEvent:a.origEvent,view:f}])):e.publiclyTrigger("_noEventResize"),d.draggingSeg=null,d.relevantEvents=null,d.validMutation=null};var e=c.component,f=d.dragging=new E(e.el);f.pointer.selector=".fc-resizer",f.touchScrollAllowed=!1,f.autoScroller.isEnabled=e.context.options.dragScroll;var g=d.hitDragging=new G(d.dragging,b.interactionSettingsToStore(c));return g.emitter.on("pointerdown",d.handlePointerDown),g.emitter.on("dragstart",d.handleDragStart),g.emitter.on("hitupdate",d.handleHitUpdate),g.emitter.on("dragend",d.handleDragEnd),d}return c(d,a),d.prototype.destroy=function(){this.dragging.destroy()},d.prototype.querySeg=function(a){return b.getElSeg(b.elementClosest(a.subjectEl,this.component.fgSegSelector))},d}(b.Interaction),L=function(){function a(a){var c=this;this.isRecentPointerDateSelect=!1,this.onSelect=function(a){a.jsEvent&&(c.isRecentPointerDateSelect=!0)},this.onDocumentPointerUp=function(a){var d=c,e=d.calendar,f=d.documentPointer,g=e.state;if(!f.wasTouchScroll){if(g.dateSelection&&!c.isRecentPointerDateSelect){var h=e.viewOpt("unselectAuto"),i=e.viewOpt("unselectCancel");!h||h&&b.elementClosest(f.downEl,i)||e.unselect(a)}g.eventSelection&&!b.elementClosest(f.downEl,J.SELECTOR)&&e.dispatch({type:"UNSELECT_EVENT"})}c.isRecentPointerDateSelect=!1},this.calendar=a;var d=this.documentPointer=new x(document);d.shouldIgnoreMove=!0,d.shouldWatchScroll=!1,d.emitter.on("pointerup",this.onDocumentPointerUp),a.on("select",this.onSelect)}return a.prototype.destroy=function(){this.calendar.off("select",this.onSelect),this.documentPointer.destroy()},a}(),M=function(){function a(a,c){var d=this;this.receivingCalendar=null,this.droppableEvent=null,this.suppliedDragMeta=null,this.dragMeta=null,this.handleDragStart=function(a){d.dragMeta=d.buildDragMeta(a.subjectEl)},this.handleHitUpdate=function(a,c,e){var f=d.hitDragging.dragging,g=null,h=null,i=!1,j={affectedEvents:b.createEmptyEventStore(),mutatedEvents:b.createEmptyEventStore(),isEvent:d.dragMeta.create,origSeg:null};a&&(g=a.component.context.calendar,d.canDropElOnCalendar(e.subjectEl,g)&&(h=p(a.dateSpan,d.dragMeta,g),j.mutatedEvents=b.eventTupleToStore(h),i=!b.isInteractionValid(j,g),i&&(j.mutatedEvents=b.createEmptyEventStore(),h=null))),d.displayDrag(g,j),f.setMirrorIsVisible(c||!h||!document.querySelector(".fc-mirror")),i?b.disableCursor():b.enableCursor(),c||(f.setMirrorNeedsRevert(!h),d.receivingCalendar=g,d.droppableEvent=h)},this.handleDragEnd=function(a){var c=d,e=c.receivingCalendar,f=c.droppableEvent;if(d.clearDrag(),e&&f){var g=d.hitDragging.finalHit,h=g.component.context.view,i=d.dragMeta,j=t({},e.buildDatePointApi(g.dateSpan),{draggedEl:a.subjectEl,jsEvent:a.origEvent,view:h});e.publiclyTrigger("drop",[j]),i.create&&(e.dispatch({type:"MERGE_EVENTS",eventStore:b.eventTupleToStore(f)}),a.isTouch&&e.dispatch({type:"SELECT_EVENT",eventInstanceId:f.instance.instanceId}),e.publiclyTrigger("eventReceive",[{draggedEl:a.subjectEl,event:new b.EventApi(e,f.def,f.instance),view:h}]))}d.receivingCalendar=null,d.droppableEvent=null};var e=this.hitDragging=new G(a,b.interactionSettingsStore);e.requireInitial=!1,e.emitter.on("dragstart",this.handleDragStart),e.emitter.on("hitupdate",this.handleHitUpdate),e.emitter.on("dragend",this.handleDragEnd),this.suppliedDragMeta=c}return a.prototype.buildDragMeta=function(a){return"object"==typeof this.suppliedDragMeta?b.parseDragMeta(this.suppliedDragMeta):"function"==typeof this.suppliedDragMeta?b.parseDragMeta(this.suppliedDragMeta(a)):q(a)},a.prototype.displayDrag=function(a,b){var c=this.receivingCalendar;c&&c!==a&&c.dispatch({type:"UNSET_EVENT_DRAG"}),a&&a.dispatch({type:"SET_EVENT_DRAG",state:b})},a.prototype.clearDrag=function(){this.receivingCalendar&&this.receivingCalendar.dispatch({type:"UNSET_EVENT_DRAG"})},a.prototype.canDropElOnCalendar=function(a,c){var d=c.opt("dropAccept");return"function"==typeof d?d(a):"string"!=typeof d||!d||!!b.elementMatches(a,d)},a}();b.config.dataAttrPrefix="";var N=function(){function a(a,c){var d=this;void 0===c&&(c={}),this.handlePointerDown=function(a){var c=d.dragging,e=d.settings,f=e.minDistance,g=e.longPressDelay;c.minDistance=null!=f?f:a.isTouch?0:b.globalDefaults.eventDragMinDistance,c.delay=a.isTouch?null!=g?g:b.globalDefaults.longPressDelay:0},this.handleDragStart=function(a){a.isTouch&&d.dragging.delay&&a.subjectEl.classList.contains("fc-event")&&d.dragging.mirror.getMirrorEl().classList.add("fc-selected")},this.settings=c;var e=this.dragging=new E(a);e.touchScrollAllowed=!1,null!=c.itemSelector&&(e.pointer.selector=c.itemSelector),null!=c.appendTo&&(e.mirror.parentNode=c.appendTo),e.emitter.on("pointerdown",this.handlePointerDown),e.emitter.on("dragstart",this.handleDragStart),new M(e,c.eventData)}return a.prototype.destroy=function(){this.dragging.destroy()},a}(),O=function(a){function b(b){var c=a.call(this,b)||this;c.shouldIgnoreMove=!1,c.mirrorSelector="",c.currentMirrorEl=null,c.handlePointerDown=function(a){c.emitter.trigger("pointerdown",a),c.shouldIgnoreMove||c.emitter.trigger("dragstart",a)},c.handlePointerMove=function(a){c.shouldIgnoreMove||c.emitter.trigger("dragmove",a)},c.handlePointerUp=function(a){c.emitter.trigger("pointerup",a),c.shouldIgnoreMove||c.emitter.trigger("dragend",a)};var d=c.pointer=new x(b);return d.emitter.on("pointerdown",c.handlePointerDown),d.emitter.on("pointermove",c.handlePointerMove),d.emitter.on("pointerup",c.handlePointerUp),c}return c(b,a),b.prototype.destroy=function(){this.pointer.destroy()},b.prototype.setIgnoreMove=function(a){this.shouldIgnoreMove=a},b.prototype.setMirrorIsVisible=function(a){if(a)this.currentMirrorEl&&(this.currentMirrorEl.style.visibility="",this.currentMirrorEl=null);else{var b=this.mirrorSelector?document.querySelector(this.mirrorSelector):null;b&&(this.currentMirrorEl=b,b.style.visibility="hidden")}},b}(b.ElementDragging),P=function(){function a(a,b){var c=document;a===document||a instanceof Element?(c=a,b=b||{}):b=a||{};var d=this.dragging=new O(c);"string"==typeof b.itemSelector?d.pointer.selector=b.itemSelector:c===document&&(d.pointer.selector="[data-event]"),"string"==typeof b.mirrorSelector&&(d.mirrorSelector=b.mirrorSelector),new M(d,b.eventData)}return a.prototype.destroy=function(){this.dragging.destroy()},a}(),Q=b.createPlugin({componentInteractions:[H,I,J,K],calendarInteractions:[L],elementDraggingImpl:E});a.Draggable=N,a.FeaturefulElementDragging=E,a.PointerDragging=x,a.ThirdPartyDraggable=P,a["default"]=Q,Object.defineProperty(a,"__esModule",{value:!0})}),function(a,b){"object"==typeof exports&&"undefined"!=typeof module?b(exports,require("@fullcalendar/core")):"function"==typeof define&&define.amd?define(["exports","@fullcalendar/core"],b):(a=a||self,b(a.FullCalendarDayGrid={},a.FullCalendar))}(this,function(a,b){"use strict";function c(a,b){function c(){this.constructor=a}h(a,b),a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c)}function d(a,b){var c,d;for(c=0;c<b.length;c++)if(d=b[c],d.firstCol<=a.lastCol&&d.lastCol>=a.firstCol)return!0;return!1}function e(a,b){return a.leftCol-b.leftCol}function f(a,c,d,e){var f=d.dateEnv,g=d.theme,h=b.rangeContainsMarker(c.activeRange,a),i=b.getDayClasses(a,c,d);return i.unshift("fc-day",g.getClass("widgetContent")),'<td class="'+i.join(" ")+'"'+(h?' data-date="'+f.formatIso(a,{omitTime:!0})+'"':"")+(e?" "+e:"")+"></td>"}function g(a,c){var d=new b.DaySeries(a.renderRange,c);return new b.DayTable(d,/year|month|week/.test(a.currentRangeUnit))}var h=function(a,b){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c])})(a,b)},i=function(){return i=Object.assign||function(a){for(var b,c=1,d=arguments.length;c<d;c++){b=arguments[c];for(var e in b)Object.prototype.hasOwnProperty.call(b,e)&&(a[e]=b[e])}return a},i.apply(this,arguments)},j=function(a){function d(){return null!==a&&a.apply(this,arguments)||this}return c(d,a),d.prototype.buildRenderRange=function(c,d,e){var f,g=this.dateEnv,h=a.prototype.buildRenderRange.call(this,c,d,e),i=h.start,j=h.end;if(/^(year|month)$/.test(d)&&(i=g.startOfWeek(i),f=g.startOfWeek(j),f.valueOf()!==j.valueOf()&&(j=b.addWeeks(f,1))),this.options.monthMode&&this.options.fixedWeekCount){var k=Math.ceil(b.diffWeeks(i,j));j=b.addWeeks(j,6-k)}return{start:i,end:j}},d}(b.DateProfileGenerator),k=function(){function a(a){var b=this;this.isHidden=!0,this.margin=10,this.documentMousedown=function(a){b.el&&!b.el.contains(a.target)&&b.hide()},this.options=a}return a.prototype.show=function(){this.isHidden&&(this.el||this.render(),this.el.style.display="",this.position(),this.isHidden=!1,this.trigger("show"))},a.prototype.hide=function(){this.isHidden||(this.el.style.display="none",this.isHidden=!0,this.trigger("hide"))},a.prototype.render=function(){var a=this,c=this.options,d=this.el=b.createElement("div",{className:"fc-popover "+(c.className||""),style:{top:"0",left:"0"}});"function"==typeof c.content&&c.content(d),c.parentEl.appendChild(d),b.listenBySelector(d,"click",".fc-close",function(b){a.hide()}),c.autoHide&&document.addEventListener("mousedown",this.documentMousedown)},a.prototype.destroy=function(){this.hide(),this.el&&(b.removeElement(this.el),this.el=null),document.removeEventListener("mousedown",this.documentMousedown)},a.prototype.position=function(){var a,c,d=this.options,e=this.el,f=e.getBoundingClientRect(),g=b.computeRect(e.offsetParent),h=b.computeClippingRect(d.parentEl);a=d.top||0,c=void 0!==d.left?d.left:void 0!==d.right?d.right-f.width:0,a=Math.min(a,h.bottom-f.height-this.margin),a=Math.max(a,h.top+this.margin),c=Math.min(c,h.right-f.width-this.margin),c=Math.max(c,h.left+this.margin),b.applyStyle(e,{top:a-g.top,left:c-g.left})},a.prototype.trigger=function(a){this.options[a]&&this.options[a].apply(this,Array.prototype.slice.call(arguments,1))},a}(),l=function(a){function d(){return null!==a&&a.apply(this,arguments)||this}return c(d,a),d.prototype.renderSegHtml=function(a,c){var d,e,f=this.context,g=a.eventRange,h=g.def,i=g.ui,j=h.allDay,k=b.computeEventDraggable(f,h,i),l=j&&a.isStart&&b.computeEventStartResizable(f,h,i),m=j&&a.isEnd&&b.computeEventEndResizable(f,h,i),n=this.getSegClasses(a,k,l||m,c),o=b.cssToStr(this.getSkinCss(i)),p="";return n.unshift("fc-day-grid-event","fc-h-event"),a.isStart&&(d=this.getTimeText(g),d&&(p='<span class="fc-time">'+b.htmlEscape(d)+"</span>")),e='<span class="fc-title">'+(b.htmlEscape(h.title||"")||"&nbsp;")+"</span>",'<a class="'+n.join(" ")+'"'+(h.url?' href="'+b.htmlEscape(h.url)+'"':"")+(o?' style="'+o+'"':"")+'><div class="fc-content">'+("rtl"===f.options.dir?e+" "+p:p+" "+e)+"</div>"+(l?'<div class="fc-resizer fc-start-resizer"></div>':"")+(m?'<div class="fc-resizer fc-end-resizer"></div>':"")+"</a>"},d.prototype.computeEventTimeFormat=function(){return{hour:"numeric",minute:"2-digit",omitZeroMinute:!0,meridiem:"narrow"}},d.prototype.computeDisplayEventEnd=function(){return!1},d}(b.FgEventRenderer),m=function(a){function f(b){var c=a.call(this)||this;return c.dayGrid=b,c}return c(f,a),f.prototype.attachSegs=function(a,b){var c=this.rowStructs=this.renderSegRows(a);this.dayGrid.rowEls.forEach(function(a,b){a.querySelector(".fc-content-skeleton > table").appendChild(c[b].tbodyEl)}),b||this.dayGrid.removeSegPopover()},f.prototype.detachSegs=function(){for(var a,c=this.rowStructs||[];a=c.pop();)b.removeElement(a.tbodyEl);this.rowStructs=null},f.prototype.renderSegRows=function(a){var b,c,d=[];for(b=this.groupSegRows(a),c=0;c<b.length;c++)d.push(this.renderSegRow(c,b[c]));return d},f.prototype.renderSegRow=function(a,c){function d(a){for(;g<a;)k=(t[e-1]||[])[g],k?k.rowSpan=(k.rowSpan||1)+1:(k=document.createElement("td"),h.appendChild(k)),s[e][g]=k,t[e][g]=k,g++}var e,f,g,h,i,j,k,l=this.context.isRtl,m=this.dayGrid,n=m.colCnt,o=this.buildSegLevels(c),p=Math.max(1,o.length),q=document.createElement("tbody"),r=[],s=[],t=[];for(e=0;e<p;e++){if(f=o[e],g=0,h=document.createElement("tr"),r.push([]),s.push([]),t.push([]),f)for(i=0;i<f.length;i++){j=f[i];var u=l?n-1-j.lastCol:j.firstCol,v=l?n-1-j.firstCol:j.lastCol;for(d(u),k=b.createElement("td",{className:"fc-event-container"},j.el),u!==v?k.colSpan=v-u+1:t[e][g]=k;g<=v;)s[e][g]=k,r[e][g]=j,g++;h.appendChild(k)}d(n);var w=m.renderProps.renderIntroHtml();w&&(l?b.appendToElement(h,w):b.prependToElement(h,w)),q.appendChild(h)}return{row:a,tbodyEl:q,cellMatrix:s,segMatrix:r,segLevels:o,segs:c}},f.prototype.buildSegLevels=function(a){var b,c,f,g=this.context.isRtl,h=this.dayGrid.colCnt,i=[];for(a=this.sortEventSegs(a),b=0;b<a.length;b++){for(c=a[b],f=0;f<i.length&&d(c,i[f]);f++);c.level=f,c.leftCol=g?h-1-c.lastCol:c.firstCol,c.rightCol=g?h-1-c.firstCol:c.lastCol,(i[f]||(i[f]=[])).push(c)}for(f=0;f<i.length;f++)i[f].sort(e);return i},f.prototype.groupSegRows=function(a){var b,c=[];for(b=0;b<this.dayGrid.rowCnt;b++)c.push([]);for(b=0;b<a.length;b++)c[a[b].row].push(a[b]);return c},f.prototype.computeDisplayEventEnd=function(){return 1===this.dayGrid.colCnt},f}(l),n=function(a){function d(){return null!==a&&a.apply(this,arguments)||this}return c(d,a),d.prototype.attachSegs=function(a,c){var d=c.sourceSeg,e=this.rowStructs=this.renderSegRows(a);this.dayGrid.rowEls.forEach(function(a,c){var f,g,h=b.htmlToElement('<div class="fc-mirror-skeleton"><table></table></div>');d&&d.row===c?f=d.el:(f=a.querySelector(".fc-content-skeleton tbody"),f||(f=a.querySelector(".fc-content-skeleton table"))),g=f.getBoundingClientRect().top-a.getBoundingClientRect().top,h.style.top=g+"px",h.querySelector("table").appendChild(e[c].tbodyEl),a.appendChild(h)})},d}(m),o='<td style="pointer-events:none"></td>',p=function(a){function d(b){var c=a.call(this)||this;return c.fillSegTag="td",c.dayGrid=b,c}return c(d,a),d.prototype.renderSegs=function(b,c,d){"bgEvent"===b&&(d=d.filter(function(a){return a.eventRange.def.allDay})),a.prototype.renderSegs.call(this,b,c,d)},d.prototype.attachSegs=function(a,b){var c,d,e,f=[];for(c=0;c<b.length;c++)d=b[c],e=this.renderFillRow(a,d),this.dayGrid.rowEls[d.row].appendChild(e),f.push(e);return f},d.prototype.renderFillRow=function(a,c){var d,e,f,g=this.dayGrid,h=this.context.isRtl,i=g.colCnt,j=h?i-1-c.lastCol:c.firstCol,k=h?i-1-c.firstCol:c.lastCol,l=j,m=k+1;d="businessHours"===a?"bgevent":a.toLowerCase(),e=b.htmlToElement('<div class="fc-'+d+'-skeleton"><table><tr></tr></table></div>'),f=e.getElementsByTagName("tr")[0],l>0&&b.appendToElement(f,Array(l+1).join(o)),c.el.colSpan=m-l,f.appendChild(c.el),m<i&&b.appendToElement(f,Array(i-m+1).join(o));var n=g.renderProps.renderIntroHtml();return n&&(h?b.appendToElement(f,n):b.prependToElement(f,n)),e},d}(b.FillRenderer),q=function(a){function d(c){var d=a.call(this,c)||this,e=d.eventRenderer=new r(d),f=d.renderFrame=b.memoizeRendering(d._renderFrame);return d.renderFgEvents=b.memoizeRendering(e.renderSegs.bind(e),e.unrender.bind(e),[f]),d.renderEventSelection=b.memoizeRendering(e.selectByInstanceId.bind(e),e.unselectByInstanceId.bind(e),[d.renderFgEvents]),d.renderEventDrag=b.memoizeRendering(e.hideByHash.bind(e),e.showByHash.bind(e),[f]),d.renderEventResize=b.memoizeRendering(e.hideByHash.bind(e),e.showByHash.bind(e),[f]),d}return c(d,a),d.prototype.firstContext=function(a){a.calendar.registerInteractiveComponent(this,{el:this.el,useEventCenter:!1})},d.prototype.render=function(a,b){this.renderFrame(a.date),this.renderFgEvents(b,a.fgSegs),this.renderEventSelection(a.eventSelection),this.renderEventDrag(a.eventDragInstances),this.renderEventResize(a.eventResizeInstances)},d.prototype.destroy=function(){a.prototype.destroy.call(this),this.renderFrame.unrender(),this.context.calendar.unregisterInteractiveComponent(this)},d.prototype._renderFrame=function(a){var c=this.context,d=c.theme,e=c.dateEnv,f=c.options,g=e.format(a,b.createFormatter(f.dayPopoverFormat));this.el.innerHTML='<div class="fc-header '+d.getClass("popoverHeader")+'"><span class="fc-title">'+b.htmlEscape(g)+'</span><span class="fc-close '+d.getIconClass("close")+'"></span></div><div class="fc-body '+d.getClass("popoverContent")+'"><div class="fc-event-container"></div></div>',this.segContainerEl=this.el.querySelector(".fc-event-container");
},d.prototype.queryHit=function(a,c,d,e){var f=this.props.date;if(a<d&&c<e)return{component:this,dateSpan:{allDay:!0,range:{start:f,end:b.addDays(f,1)}},dayEl:this.el,rect:{left:0,top:0,right:d,bottom:e},layer:1}},d}(b.DateComponent),r=function(a){function d(b){var c=a.call(this)||this;return c.dayTile=b,c}return c(d,a),d.prototype.attachSegs=function(a){for(var b=0,c=a;b<c.length;b++){var d=c[b];this.dayTile.segContainerEl.appendChild(d.el)}},d.prototype.detachSegs=function(a){for(var c=0,d=a;c<d.length;c++){var e=d[c];b.removeElement(e.el)}},d}(l),s=function(){function a(a){this.context=a}return a.prototype.renderHtml=function(a){var b=[];a.renderIntroHtml&&b.push(a.renderIntroHtml());for(var c=0,d=a.cells;c<d.length;c++){var e=d[c];b.push(f(e.date,a.dateProfile,this.context,e.htmlAttrs))}return a.cells.length||b.push('<td class="fc-day '+this.context.theme.getClass("widgetContent")+'"></td>'),"rtl"===this.context.options.dir&&b.reverse(),"<tr>"+b.join("")+"</tr>"},a}(),t=b.createFormatter({day:"numeric"}),u=b.createFormatter({week:"numeric"}),v=function(a){function d(c,d){var e=a.call(this,c)||this;e.bottomCoordPadding=0,e.isCellSizesDirty=!1,e.renderProps=d;var f=e.eventRenderer=new m(e),g=e.fillRenderer=new p(e);e.mirrorRenderer=new n(e);var h=e.renderCells=b.memoizeRendering(e._renderCells,e._unrenderCells);return e.renderBusinessHours=b.memoizeRendering(g.renderSegs.bind(g,"businessHours"),g.unrender.bind(g,"businessHours"),[h]),e.renderDateSelection=b.memoizeRendering(g.renderSegs.bind(g,"highlight"),g.unrender.bind(g,"highlight"),[h]),e.renderBgEvents=b.memoizeRendering(g.renderSegs.bind(g,"bgEvent"),g.unrender.bind(g,"bgEvent"),[h]),e.renderFgEvents=b.memoizeRendering(f.renderSegs.bind(f),f.unrender.bind(f),[h]),e.renderEventSelection=b.memoizeRendering(f.selectByInstanceId.bind(f),f.unselectByInstanceId.bind(f),[e.renderFgEvents]),e.renderEventDrag=b.memoizeRendering(e._renderEventDrag,e._unrenderEventDrag,[h]),e.renderEventResize=b.memoizeRendering(e._renderEventResize,e._unrenderEventResize,[h]),e}return c(d,a),d.prototype.render=function(a,b){var c=a.cells;this.rowCnt=c.length,this.colCnt=c[0].length,this.renderCells(c,a.isRigid),this.renderBusinessHours(b,a.businessHourSegs),this.renderDateSelection(b,a.dateSelectionSegs),this.renderBgEvents(b,a.bgEventSegs),this.renderFgEvents(b,a.fgEventSegs),this.renderEventSelection(a.eventSelection),this.renderEventDrag(a.eventDrag),this.renderEventResize(a.eventResize),this.segPopoverTile&&this.updateSegPopoverTile()},d.prototype.destroy=function(){a.prototype.destroy.call(this),this.renderCells.unrender()},d.prototype.getCellRange=function(a,c){var d=this.props.cells[a][c].date,e=b.addDays(d,1);return{start:d,end:e}},d.prototype.updateSegPopoverTile=function(a,b){var c=this.props;this.segPopoverTile.receiveProps({date:a||this.segPopoverTile.props.date,fgSegs:b||this.segPopoverTile.props.fgSegs,eventSelection:c.eventSelection,eventDragInstances:c.eventDrag?c.eventDrag.affectedInstances:null,eventResizeInstances:c.eventResize?c.eventResize.affectedInstances:null},this.context)},d.prototype._renderCells=function(a,c){var d,e,f=this.context,g=f.calendar,h=f.view,i=f.isRtl,j=f.dateEnv,k=this,l=k.rowCnt,m=k.colCnt,n="";for(d=0;d<l;d++)n+=this.renderDayRowHtml(d,c);for(this.el.innerHTML=n,this.rowEls=b.findElements(this.el,".fc-row"),this.cellEls=b.findElements(this.el,".fc-day, .fc-disabled-day"),i&&this.cellEls.reverse(),this.rowPositions=new b.PositionCache(this.el,this.rowEls,(!1),(!0)),this.colPositions=new b.PositionCache(this.el,this.cellEls.slice(0,m),(!0),(!1)),d=0;d<l;d++)for(e=0;e<m;e++)g.publiclyTrigger("dayRender",[{date:j.toDate(a[d][e].date),el:this.getCellEl(d,e),view:h}]);this.isCellSizesDirty=!0},d.prototype._unrenderCells=function(){this.removeSegPopover()},d.prototype.renderDayRowHtml=function(a,b){var c=this.context.theme,d=["fc-row","fc-week",c.getClass("dayRow")];b&&d.push("fc-rigid");var e=new s(this.context);return'<div class="'+d.join(" ")+'"><div class="fc-bg"><table class="'+c.getClass("tableGrid")+'">'+e.renderHtml({cells:this.props.cells[a],dateProfile:this.props.dateProfile,renderIntroHtml:this.renderProps.renderBgIntroHtml})+'</table></div><div class="fc-content-skeleton"><table>'+(this.getIsNumbersVisible()?"<thead>"+this.renderNumberTrHtml(a)+"</thead>":"")+"</table></div></div>"},d.prototype.getIsNumbersVisible=function(){return this.getIsDayNumbersVisible()||this.renderProps.cellWeekNumbersVisible||this.renderProps.colWeekNumbersVisible},d.prototype.getIsDayNumbersVisible=function(){return this.rowCnt>1},d.prototype.renderNumberTrHtml=function(a){var b=this.context.isRtl,c=this.renderProps.renderNumberIntroHtml(a,this);return"<tr>"+(b?"":c)+this.renderNumberCellsHtml(a)+(b?c:"")+"</tr>"},d.prototype.renderNumberCellsHtml=function(a){var b,c,d=[];for(b=0;b<this.colCnt;b++)c=this.props.cells[a][b].date,d.push(this.renderNumberCellHtml(c));return this.context.isRtl&&d.reverse(),d.join("")},d.prototype.renderNumberCellHtml=function(a){var c,d,e=this.context,f=e.dateEnv,g=e.options,h="",i=b.rangeContainsMarker(this.props.dateProfile.activeRange,a),j=this.getIsDayNumbersVisible()&&i;return j||this.renderProps.cellWeekNumbersVisible?(c=b.getDayClasses(a,this.props.dateProfile,this.context),c.unshift("fc-day-top"),this.renderProps.cellWeekNumbersVisible&&(d=f.weekDow),h+='<td class="'+c.join(" ")+'"'+(i?' data-date="'+f.formatIso(a,{omitTime:!0})+'"':"")+">",this.renderProps.cellWeekNumbersVisible&&a.getUTCDay()===d&&(h+=b.buildGotoAnchorHtml(g,f,{date:a,type:"week"},{"class":"fc-week-number"},f.format(a,u))),j&&(h+=b.buildGotoAnchorHtml(g,f,a,{"class":"fc-day-number"},f.format(a,t))),h+="</td>"):"<td></td>"},d.prototype.updateSize=function(a){var b=this.context.calendar,c=this,d=c.fillRenderer,e=c.eventRenderer,f=c.mirrorRenderer;(a||this.isCellSizesDirty||b.isEventsUpdated)&&(this.buildPositionCaches(),this.isCellSizesDirty=!1),d.computeSizes(a),e.computeSizes(a),f.computeSizes(a),d.assignSizes(a),e.assignSizes(a),f.assignSizes(a)},d.prototype.buildPositionCaches=function(){this.buildColPositions(),this.buildRowPositions()},d.prototype.buildColPositions=function(){this.colPositions.build()},d.prototype.buildRowPositions=function(){this.rowPositions.build(),this.rowPositions.bottoms[this.rowCnt-1]+=this.bottomCoordPadding},d.prototype.positionToHit=function(a,b){var c=this,d=c.colPositions,e=c.rowPositions,f=d.leftToIndex(a),g=e.topToIndex(b);if(null!=g&&null!=f)return{row:g,col:f,dateSpan:{range:this.getCellRange(g,f),allDay:!0},dayEl:this.getCellEl(g,f),relativeRect:{left:d.lefts[f],right:d.rights[f],top:e.tops[g],bottom:e.bottoms[g]}}},d.prototype.getCellEl=function(a,b){return this.cellEls[a*this.colCnt+b]},d.prototype._renderEventDrag=function(a){a&&(this.eventRenderer.hideByHash(a.affectedInstances),this.fillRenderer.renderSegs("highlight",this.context,a.segs))},d.prototype._unrenderEventDrag=function(a){a&&(this.eventRenderer.showByHash(a.affectedInstances),this.fillRenderer.unrender("highlight",this.context))},d.prototype._renderEventResize=function(a){a&&(this.eventRenderer.hideByHash(a.affectedInstances),this.fillRenderer.renderSegs("highlight",this.context,a.segs),this.mirrorRenderer.renderSegs(this.context,a.segs,{isResizing:!0,sourceSeg:a.sourceSeg}))},d.prototype._unrenderEventResize=function(a){a&&(this.eventRenderer.showByHash(a.affectedInstances),this.fillRenderer.unrender("highlight",this.context),this.mirrorRenderer.unrender(this.context,a.segs,{isResizing:!0,sourceSeg:a.sourceSeg}))},d.prototype.removeSegPopover=function(){this.segPopover&&this.segPopover.hide()},d.prototype.limitRows=function(a){var b,c,d=this.eventRenderer.rowStructs||[];for(b=0;b<d.length;b++)this.unlimitRow(b),c=!!a&&("number"==typeof a?a:this.computeRowLevelLimit(b)),c!==!1&&this.limitRow(b,c)},d.prototype.computeRowLevelLimit=function(a){var c,d,e=this.rowEls[a],f=e.getBoundingClientRect().bottom,g=b.findChildren(this.eventRenderer.rowStructs[a].tbodyEl);for(c=0;c<g.length;c++)if(d=g[c],d.classList.remove("fc-limited"),d.getBoundingClientRect().bottom>f)return c;return!1},d.prototype.limitRow=function(a,c){var d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s=this,t=this.colCnt,u=this.context.isRtl,v=this.eventRenderer.rowStructs[a],w=[],x=0,y=function(d){for(;x<d;)i=s.getCellSegs(a,x,c),i.length&&(l=e[c-1][x],r=s.renderMoreLink(a,x,i),q=b.createElement("div",null,r),l.appendChild(q),w.push(q)),x++};if(c&&c<v.segLevels.length){for(d=v.segLevels[c-1],e=v.cellMatrix,f=b.findChildren(v.tbodyEl).slice(c),f.forEach(function(a){a.classList.add("fc-limited")}),g=0;g<d.length;g++){h=d[g];var z=u?t-1-h.lastCol:h.firstCol,A=u?t-1-h.firstCol:h.lastCol;for(y(z),k=[],j=0;x<=A;)i=this.getCellSegs(a,x,c),k.push(i),j+=i.length,x++;if(j){for(l=e[c-1][z],m=l.rowSpan||1,n=[],o=0;o<k.length;o++)p=b.createElement("td",{className:"fc-more-cell",rowSpan:m}),i=k[o],r=this.renderMoreLink(a,z+o,[h].concat(i)),q=b.createElement("div",null,r),p.appendChild(q),n.push(p),w.push(p);l.classList.add("fc-limited"),b.insertAfterElement(l,n),f.push(l)}}y(this.colCnt),v.moreEls=w,v.limitedEls=f}},d.prototype.unlimitRow=function(a){var c=this.eventRenderer.rowStructs[a];c.moreEls&&(c.moreEls.forEach(b.removeElement),c.moreEls=null),c.limitedEls&&(c.limitedEls.forEach(function(a){a.classList.remove("fc-limited")}),c.limitedEls=null)},d.prototype.renderMoreLink=function(a,c,d){var e=this,f=this.context,g=f.calendar,h=f.view,i=f.dateEnv,j=f.options,k=f.isRtl,l=b.createElement("a",{className:"fc-more"});return l.innerText=this.getMoreLinkText(d.length),l.addEventListener("click",function(b){var f=j.eventLimitClick,l=k?e.colCnt-c-1:c,m=e.props.cells[a][l].date,n=b.currentTarget,o=e.getCellEl(a,c),p=e.getCellSegs(a,c),q=e.resliceDaySegs(p,m),r=e.resliceDaySegs(d,m);"function"==typeof f&&(f=g.publiclyTrigger("eventLimitClick",[{date:i.toDate(m),allDay:!0,dayEl:o,moreEl:n,segs:q,hiddenSegs:r,jsEvent:b,view:h}])),"popover"===f?e.showSegPopover(a,c,n,q):"string"==typeof f&&g.zoomTo(m,f)}),l},d.prototype.showSegPopover=function(a,c,d,e){var f,g,h=this,i=this.context,j=i.calendar,l=i.view,m=i.theme,n=i.isRtl,o=n?this.colCnt-c-1:c,p=d.parentNode;f=1===this.rowCnt?l.el:this.rowEls[a],g={className:"fc-more-popover "+m.getClass("popover"),parentEl:l.el,top:b.computeRect(f).top,autoHide:!0,content:function(b){h.segPopoverTile=new q(b),h.updateSegPopoverTile(h.props.cells[a][o].date,e)},hide:function(){h.segPopoverTile.destroy(),h.segPopoverTile=null,h.segPopover.destroy(),h.segPopover=null}},n?g.right=b.computeRect(p).right+1:g.left=b.computeRect(p).left-1,this.segPopover=new k(g),this.segPopover.show(),j.releaseAfterSizingTriggers()},d.prototype.resliceDaySegs=function(a,c){for(var d=c,e=b.addDays(d,1),f={start:d,end:e},g=[],h=0,j=a;h<j.length;h++){var k=j[h],l=k.eventRange,m=l.range,n=b.intersectRanges(m,f);n&&g.push(i({},k,{eventRange:{def:l.def,ui:i({},l.ui,{durationEditable:!1}),instance:l.instance,range:n},isStart:k.isStart&&n.start.valueOf()===m.start.valueOf(),isEnd:k.isEnd&&n.end.valueOf()===m.end.valueOf()}))}return g},d.prototype.getMoreLinkText=function(a){var b=this.context.options.eventLimitText;return"function"==typeof b?b(a):"+"+a+" "+b},d.prototype.getCellSegs=function(a,b,c){for(var d,e=this.eventRenderer.rowStructs[a].segMatrix,f=c||0,g=[];f<e.length;)d=e[f][b],d&&g.push(d),f++;return g},d}(b.DateComponent),w=b.createFormatter({week:"numeric"}),x=function(a){function d(){var c=null!==a&&a.apply(this,arguments)||this;return c.processOptions=b.memoize(c._processOptions),c.renderSkeleton=b.memoizeRendering(c._renderSkeleton,c._unrenderSkeleton),c.renderHeadIntroHtml=function(){var a=c.context,d=a.theme,e=a.options;return c.colWeekNumbersVisible?'<th class="fc-week-number '+d.getClass("widgetHeader")+'" '+c.weekNumberStyleAttr()+"><span>"+b.htmlEscape(e.weekLabel)+"</span></th>":""},c.renderDayGridNumberIntroHtml=function(a,d){var e=c.context,f=e.options,g=e.dateEnv,h=d.props.cells[a][0].date;return c.colWeekNumbersVisible?'<td class="fc-week-number" '+c.weekNumberStyleAttr()+">"+b.buildGotoAnchorHtml(f,g,{date:h,type:"week",forceOff:1===d.colCnt},g.format(h,w))+"</td>":""},c.renderDayGridBgIntroHtml=function(){var a=c.context.theme;return c.colWeekNumbersVisible?'<td class="fc-week-number '+a.getClass("widgetContent")+'" '+c.weekNumberStyleAttr()+"></td>":""},c.renderDayGridIntroHtml=function(){return c.colWeekNumbersVisible?'<td class="fc-week-number" '+c.weekNumberStyleAttr()+"></td>":""},c}return c(d,a),d.prototype._processOptions=function(a){a.weekNumbers?a.weekNumbersWithinDays?(this.cellWeekNumbersVisible=!0,this.colWeekNumbersVisible=!1):(this.cellWeekNumbersVisible=!1,this.colWeekNumbersVisible=!0):(this.colWeekNumbersVisible=!1,this.cellWeekNumbersVisible=!1)},d.prototype.render=function(b,c){a.prototype.render.call(this,b,c),this.processOptions(c.options),this.renderSkeleton(c)},d.prototype.destroy=function(){a.prototype.destroy.call(this),this.renderSkeleton.unrender()},d.prototype._renderSkeleton=function(a){this.el.classList.add("fc-dayGrid-view"),this.el.innerHTML=this.renderSkeletonHtml(),this.scroller=new b.ScrollComponent("hidden","auto");var c=this.scroller.el;this.el.querySelector(".fc-body > tr > td").appendChild(c),c.classList.add("fc-day-grid-container");var d=b.createElement("div",{className:"fc-day-grid"});c.appendChild(d),this.dayGrid=new v(d,{renderNumberIntroHtml:this.renderDayGridNumberIntroHtml,renderBgIntroHtml:this.renderDayGridBgIntroHtml,renderIntroHtml:this.renderDayGridIntroHtml,colWeekNumbersVisible:this.colWeekNumbersVisible,cellWeekNumbersVisible:this.cellWeekNumbersVisible})},d.prototype._unrenderSkeleton=function(){this.el.classList.remove("fc-dayGrid-view"),this.dayGrid.destroy(),this.scroller.destroy()},d.prototype.renderSkeletonHtml=function(){var a=this.context,b=a.theme,c=a.options;return'<table class="'+b.getClass("tableGrid")+'">'+(c.columnHeader?'<thead class="fc-head"><tr><td class="fc-head-container '+b.getClass("widgetHeader")+'">&nbsp;</td></tr></thead>':"")+'<tbody class="fc-body"><tr><td class="'+b.getClass("widgetContent")+'"></td></tr></tbody></table>'},d.prototype.weekNumberStyleAttr=function(){return null!=this.weekNumberWidth?'style="width:'+this.weekNumberWidth+'px"':""},d.prototype.hasRigidRows=function(){var a=this.context.options.eventLimit;return a&&"number"!=typeof a},d.prototype.updateSize=function(b,c,d){a.prototype.updateSize.call(this,b,c,d),this.dayGrid.updateSize(b)},d.prototype.updateBaseSize=function(a,c,d){var e,f,g=this.dayGrid,h=this.context.options.eventLimit,i=this.header?this.header.el:null;return g.rowEls?(this.colWeekNumbersVisible&&(this.weekNumberWidth=b.matchCellWidths(b.findElements(this.el,".fc-week-number"))),this.scroller.clear(),i&&b.uncompensateScroll(i),g.removeSegPopover(),h&&"number"==typeof h&&g.limitRows(h),e=this.computeScrollerHeight(c),this.setGridHeight(e,d),h&&"number"!=typeof h&&g.limitRows(h),void(d||(this.scroller.setHeight(e),f=this.scroller.getScrollbarWidths(),(f.left||f.right)&&(i&&b.compensateScroll(i,f),e=this.computeScrollerHeight(c),this.scroller.setHeight(e)),this.scroller.lockOverflow(f)))):void(d||(e=this.computeScrollerHeight(c),this.scroller.setHeight(e)))},d.prototype.computeScrollerHeight=function(a){return a-b.subtractInnerElHeight(this.el,this.scroller.el)},d.prototype.setGridHeight=function(a,c){this.context.options.monthMode?(c&&(a*=this.dayGrid.rowCnt/6),b.distributeHeight(this.dayGrid.rowEls,a,!c)):c?b.undistributeHeight(this.dayGrid.rowEls):b.distributeHeight(this.dayGrid.rowEls,a,!0)},d.prototype.computeDateScroll=function(a){return{top:0}},d.prototype.queryDateScroll=function(){return{top:this.scroller.getScrollTop()}},d.prototype.applyDateScroll=function(a){void 0!==a.top&&this.scroller.setScrollTop(a.top)},d}(b.View);x.prototype.dateProfileGeneratorClass=j;var y=function(a){function b(b){var c=a.call(this,b.el)||this;return c.slicer=new z,c.dayGrid=b,c}return c(b,a),b.prototype.firstContext=function(a){a.calendar.registerInteractiveComponent(this,{el:this.dayGrid.el})},b.prototype.destroy=function(){a.prototype.destroy.call(this),this.context.calendar.unregisterInteractiveComponent(this)},b.prototype.render=function(a,b){var c=this.dayGrid,d=a.dateProfile,e=a.dayTable;c.receiveContext(b),c.receiveProps(i({},this.slicer.sliceProps(a,d,a.nextDayThreshold,b.calendar,c,e),{dateProfile:d,cells:e.cells,isRigid:a.isRigid}),b)},b.prototype.buildPositionCaches=function(){this.dayGrid.buildPositionCaches()},b.prototype.queryHit=function(a,b){var c=this.dayGrid.positionToHit(a,b);if(c)return{component:this.dayGrid,dateSpan:c.dateSpan,dayEl:c.dayEl,rect:{left:c.relativeRect.left,right:c.relativeRect.right,top:c.relativeRect.top,bottom:c.relativeRect.bottom},layer:0}},b}(b.DateComponent),z=function(a){function b(){return null!==a&&a.apply(this,arguments)||this}return c(b,a),b.prototype.sliceRange=function(a,b){return b.sliceRange(a)},b}(b.Slicer),A=function(a){function d(){var c=null!==a&&a.apply(this,arguments)||this;return c.buildDayTable=b.memoize(g),c}return c(d,a),d.prototype.render=function(b,c){a.prototype.render.call(this,b,c);var d=this.props.dateProfile,e=this.dayTable=this.buildDayTable(d,b.dateProfileGenerator);this.header&&this.header.receiveProps({dateProfile:d,dates:e.headerDates,datesRepDistinctDays:1===e.rowCnt,renderIntroHtml:this.renderHeadIntroHtml},c),this.simpleDayGrid.receiveProps({dateProfile:d,dayTable:e,businessHours:b.businessHours,dateSelection:b.dateSelection,eventStore:b.eventStore,eventUiBases:b.eventUiBases,eventSelection:b.eventSelection,eventDrag:b.eventDrag,eventResize:b.eventResize,isRigid:this.hasRigidRows(),nextDayThreshold:this.context.nextDayThreshold},c)},d.prototype._renderSkeleton=function(c){a.prototype._renderSkeleton.call(this,c),c.options.columnHeader&&(this.header=new b.DayHeader(this.el.querySelector(".fc-head-container"))),this.simpleDayGrid=new y(this.dayGrid)},d.prototype._unrenderSkeleton=function(){a.prototype._unrenderSkeleton.call(this),this.header&&this.header.destroy(),this.simpleDayGrid.destroy()},d}(x),B=b.createPlugin({defaultView:"dayGridMonth",views:{dayGrid:A,dayGridDay:{type:"dayGrid",duration:{days:1}},dayGridWeek:{type:"dayGrid",duration:{weeks:1}},dayGridMonth:{type:"dayGrid",duration:{months:1},monthMode:!0,fixedWeekCount:!0}}});a.AbstractDayGridView=x,a.DayBgRow=s,a.DayGrid=v,a.DayGridSlicer=z,a.DayGridView=A,a.SimpleDayGrid=y,a.buildBasicDayTable=g,a["default"]=B,Object.defineProperty(a,"__esModule",{value:!0})}),function(a,b){"object"==typeof exports&&"undefined"!=typeof module?b(exports,require("@fullcalendar/core"),require("@fullcalendar/daygrid")):"function"==typeof define&&define.amd?define(["exports","@fullcalendar/core","@fullcalendar/daygrid"],b):(a=a||self,b(a.FullCalendarTimeGrid={},a.FullCalendar,a.FullCalendarDayGrid))}(this,function(a,b,c){"use strict";function d(a,b){function c(){this.constructor=a}m(a,b),a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c)}function e(a){var b,c,d,e=[];for(b=0;b<a.length;b++){for(c=a[b],d=0;d<e.length&&h(c,e[d]).length;d++);c.level=d,(e[d]||(e[d]=[])).push(c)}return e}function f(a){var b,c,d,e,f;for(b=0;b<a.length;b++)for(c=a[b],d=0;d<c.length;d++)for(e=c[d],e.forwardSegs=[],f=b+1;f<a.length;f++)h(e,a[f],e.forwardSegs)}function g(a){var b,c,d=a.forwardSegs,e=0;if(void 0===a.forwardPressure){for(b=0;b<d.length;b++)c=d[b],g(c),e=Math.max(e,1+c.forwardPressure);a.forwardPressure=e}}function h(a,b,c){void 0===c&&(c=[]);for(var d=0;d<b.length;d++)i(a,b[d])&&c.push(b[d]);return c}function i(a,b){return a.bottom>b.top&&a.top<b.bottom}function j(a){var c=b.buildSegCompareObj(a);return c.forwardPressure=a.forwardPressure,c.backwardCoord=a.backwardCoord,c}function k(a,b,c){for(var d=[],e=0,f=a.headerDates;e<f.length;e++){var g=f[e];d.push({start:c.add(g,b.minTime),end:c.add(g,b.maxTime)})}return d}function l(a,c){var d=new b.DaySeries(a.renderRange,c);return new b.DayTable(d,(!1))}var m=function(a,b){return(m=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c])})(a,b)},n=function(){return n=Object.assign||function(a){for(var b,c=1,d=arguments.length;c<d;c++){b=arguments[c];for(var e in b)Object.prototype.hasOwnProperty.call(b,e)&&(a[e]=b[e])}return a},n.apply(this,arguments)},o=function(a){function c(b){var c=a.call(this)||this;return c.timeGrid=b,c}return d(c,a),c.prototype.renderSegs=function(c,d,e){a.prototype.renderSegs.call(this,c,d,e),this.fullTimeFormat=b.createFormatter({hour:"numeric",minute:"2-digit",separator:this.context.options.defaultRangeSeparator})},c.prototype.attachSegs=function(a,b){for(var c=this.timeGrid.groupSegsByCol(a),d=0;d<c.length;d++)c[d]=this.sortEventSegs(c[d]);this.segsByCol=c,this.timeGrid.attachSegsByCol(c,this.timeGrid.fgContainerEls)},c.prototype.detachSegs=function(a){a.forEach(function(a){b.removeElement(a.el)}),this.segsByCol=null},c.prototype.computeSegSizes=function(a){var b=this,c=b.timeGrid,d=b.segsByCol,e=c.colCnt;if(c.computeSegVerticals(a),d)for(var f=0;f<e;f++)this.computeSegHorizontals(d[f])},c.prototype.assignSegSizes=function(a){var b=this,c=b.timeGrid,d=b.segsByCol,e=c.colCnt;if(c.assignSegVerticals(a),d)for(var f=0;f<e;f++)this.assignSegCss(d[f])},c.prototype.computeEventTimeFormat=function(){return{hour:"numeric",minute:"2-digit",meridiem:!1}},c.prototype.computeDisplayEventEnd=function(){return!0},c.prototype.renderSegHtml=function(a,c){var d,e,f,g=a.eventRange,h=g.def,i=g.ui,j=h.allDay,k=b.computeEventDraggable(this.context,h,i),l=a.isStart&&b.computeEventStartResizable(this.context,h,i),m=a.isEnd&&b.computeEventEndResizable(this.context,h,i),n=this.getSegClasses(a,k,l||m,c),o=b.cssToStr(this.getSkinCss(i));if(n.unshift("fc-time-grid-event"),b.isMultiDayRange(g.range)){if(a.isStart||a.isEnd){var p=a.start,q=a.end;d=this._getTimeText(p,q,j),e=this._getTimeText(p,q,j,this.fullTimeFormat),f=this._getTimeText(p,q,j,null,!1)}}else d=this.getTimeText(g),e=this.getTimeText(g,this.fullTimeFormat),f=this.getTimeText(g,null,!1);return'<a class="'+n.join(" ")+'"'+(h.url?' href="'+b.htmlEscape(h.url)+'"':"")+(o?' style="'+o+'"':"")+'><div class="fc-content">'+(d?'<div class="fc-time" data-start="'+b.htmlEscape(f)+'" data-full="'+b.htmlEscape(e)+'"><span>'+b.htmlEscape(d)+"</span></div>":"")+(h.title?'<div class="fc-title">'+b.htmlEscape(h.title)+"</div>":"")+"</div>"+(m?'<div class="fc-resizer fc-end-resizer"></div>':"")+"</a>"},c.prototype.computeSegHorizontals=function(a){var b,c,d;if(b=e(a),f(b),c=b[0]){for(d=0;d<c.length;d++)g(c[d]);for(d=0;d<c.length;d++)this.computeSegForwardBack(c[d],0,0)}},c.prototype.computeSegForwardBack=function(a,b,c){var d,e=a.forwardSegs;if(void 0===a.forwardCoord)for(e.length?(this.sortForwardSegs(e),this.computeSegForwardBack(e[0],b+1,c),a.forwardCoord=e[0].backwardCoord):a.forwardCoord=1,a.backwardCoord=a.forwardCoord-(a.forwardCoord-c)/(b+1),d=0;d<e.length;d++)this.computeSegForwardBack(e[d],0,a.forwardCoord)},c.prototype.sortForwardSegs=function(a){var c=a.map(j),d=[{field:"forwardPressure",order:-1},{field:"backwardCoord",order:1}].concat(this.context.eventOrderSpecs);return c.sort(function(a,c){return b.compareByFieldSpecs(a,c,d)}),c.map(function(a){return a._seg})},c.prototype.assignSegCss=function(a){for(var c=0,d=a;c<d.length;c++){var e=d[c];b.applyStyle(e.el,this.generateSegCss(e)),e.level>0&&e.el.classList.add("fc-time-grid-event-inset"),e.eventRange.def.title&&e.bottom-e.top<30&&e.el.classList.add("fc-short")}},c.prototype.generateSegCss=function(a){var b,c,d=this.context.options.slotEventOverlap,e=a.backwardCoord,f=a.forwardCoord,g=this.timeGrid.generateSegVerticalCss(a),h=this.context.isRtl;return d&&(f=Math.min(1,e+2*(f-e))),h?(b=1-f,c=e):(b=e,c=1-f),g.zIndex=a.level+1,g.left=100*b+"%",g.right=100*c+"%",d&&a.forwardPressure&&(g[h?"marginLeft":"marginRight"]=20),g},c}(b.FgEventRenderer),p=function(a){function b(){return null!==a&&a.apply(this,arguments)||this}return d(b,a),b.prototype.attachSegs=function(a,b){this.segsByCol=this.timeGrid.groupSegsByCol(a),this.timeGrid.attachSegsByCol(this.segsByCol,this.timeGrid.mirrorContainerEls),this.sourceSeg=b.sourceSeg},b.prototype.generateSegCss=function(b){var c=a.prototype.generateSegCss.call(this,b),d=this.sourceSeg;if(d&&d.col===b.col){var e=a.prototype.generateSegCss.call(this,d);c.left=e.left,c.right=e.right,c.marginLeft=e.marginLeft,c.marginRight=e.marginRight}return c},b}(o),q=function(a){function b(b){var c=a.call(this)||this;return c.timeGrid=b,c}return d(b,a),b.prototype.attachSegs=function(a,b){var c,d=this.timeGrid;return"bgEvent"===a?c=d.bgContainerEls:"businessHours"===a?c=d.businessContainerEls:"highlight"===a&&(c=d.highlightContainerEls),d.attachSegsByCol(d.groupSegsByCol(b),c),b.map(function(a){return a.el})},b.prototype.computeSegSizes=function(a){this.timeGrid.computeSegVerticals(a)},b.prototype.assignSegSizes=function(a){this.timeGrid.assignSegVerticals(a)},b}(b.FillRenderer),r=[{hours:1},{minutes:30},{minutes:15},{seconds:30},{seconds:15}],s=function(a){function e(c,d){var e=a.call(this,c)||this;e.isSlatSizesDirty=!1,e.isColSizesDirty=!1,e.processOptions=b.memoize(e._processOptions),e.renderSkeleton=b.memoizeRendering(e._renderSkeleton),e.renderSlats=b.memoizeRendering(e._renderSlats,null,[e.renderSkeleton]),e.renderColumns=b.memoizeRendering(e._renderColumns,e._unrenderColumns,[e.renderSkeleton]),e.renderProps=d;var f=e.renderColumns,g=e.eventRenderer=new o(e),h=e.fillRenderer=new q(e);return e.mirrorRenderer=new p(e),e.renderBusinessHours=b.memoizeRendering(h.renderSegs.bind(h,"businessHours"),h.unrender.bind(h,"businessHours"),[f]),e.renderDateSelection=b.memoizeRendering(e._renderDateSelection,e._unrenderDateSelection,[f]),e.renderFgEvents=b.memoizeRendering(g.renderSegs.bind(g),g.unrender.bind(g),[f]),e.renderBgEvents=b.memoizeRendering(h.renderSegs.bind(h,"bgEvent"),h.unrender.bind(h,"bgEvent"),[f]),e.renderEventSelection=b.memoizeRendering(g.selectByInstanceId.bind(g),g.unselectByInstanceId.bind(g),[e.renderFgEvents]),e.renderEventDrag=b.memoizeRendering(e._renderEventDrag,e._unrenderEventDrag,[f]),e.renderEventResize=b.memoizeRendering(e._renderEventResize,e._unrenderEventResize,[f]),e}return d(e,a),e.prototype._processOptions=function(a){var c,d,e=a.slotDuration,f=a.snapDuration;e=b.createDuration(e),f=f?b.createDuration(f):e,c=b.wholeDivideDurations(e,f),null===c&&(f=e,c=1),this.slotDuration=e,this.snapDuration=f,this.snapsPerSlot=c,d=a.slotLabelFormat,Array.isArray(d)&&(d=d[d.length-1]),this.labelFormat=b.createFormatter(d||{hour:"numeric",minute:"2-digit",omitZeroMinute:!0,meridiem:"short"}),d=a.slotLabelInterval,this.labelInterval=d?b.createDuration(d):this.computeLabelInterval(e)},e.prototype.computeLabelInterval=function(a){var c,d,e;for(c=r.length-1;c>=0;c--)if(d=b.createDuration(r[c]),e=b.wholeDivideDurations(d,a),null!==e&&e>1)return d;return a},e.prototype.render=function(a,b){this.processOptions(b.options);var c=a.cells;this.colCnt=c.length,this.renderSkeleton(b.theme),this.renderSlats(a.dateProfile),this.renderColumns(a.cells,a.dateProfile),this.renderBusinessHours(b,a.businessHourSegs),this.renderDateSelection(a.dateSelectionSegs),this.renderFgEvents(b,a.fgEventSegs),this.renderBgEvents(b,a.bgEventSegs),this.renderEventSelection(a.eventSelection),this.renderEventDrag(a.eventDrag),this.renderEventResize(a.eventResize)},e.prototype.destroy=function(){a.prototype.destroy.call(this),this.renderSlats.unrender(),this.renderColumns.unrender(),this.renderSkeleton.unrender()},e.prototype.updateSize=function(a){var b=this,c=b.fillRenderer,d=b.eventRenderer,e=b.mirrorRenderer;(a||this.isSlatSizesDirty)&&(this.buildSlatPositions(),this.isSlatSizesDirty=!1),(a||this.isColSizesDirty)&&(this.buildColPositions(),this.isColSizesDirty=!1),c.computeSizes(a),d.computeSizes(a),e.computeSizes(a),c.assignSizes(a),d.assignSizes(a),e.assignSizes(a)},e.prototype._renderSkeleton=function(a){var b=this.el;b.innerHTML='<div class="fc-bg"></div><div class="fc-slats"></div><hr class="fc-divider '+a.getClass("widgetHeader")+'" style="display:none" />',this.rootBgContainerEl=b.querySelector(".fc-bg"),this.slatContainerEl=b.querySelector(".fc-slats"),this.bottomRuleEl=b.querySelector(".fc-divider")},e.prototype._renderSlats=function(a){var c=this.context.theme;this.slatContainerEl.innerHTML='<table class="'+c.getClass("tableGrid")+'">'+this.renderSlatRowHtml(a)+"</table>",this.slatEls=b.findElements(this.slatContainerEl,"tr"),this.slatPositions=new b.PositionCache(this.el,this.slatEls,(!1),(!0)),this.isSlatSizesDirty=!0},e.prototype.renderSlatRowHtml=function(a){for(var c,d,e,f=this.context,g=f.dateEnv,h=f.theme,i=f.isRtl,j="",k=b.startOfDay(a.renderRange.start),l=a.minTime,m=b.createDuration(0);b.asRoughMs(l)<b.asRoughMs(a.maxTime);)c=g.add(k,l),d=null!==b.wholeDivideDurations(m,this.labelInterval),e='<td class="fc-axis fc-time '+h.getClass("widgetContent")+'">'+(d?"<span>"+b.htmlEscape(g.format(c,this.labelFormat))+"</span>":"")+"</td>",j+='<tr data-time="'+b.formatIsoTimeString(c)+'"'+(d?"":' class="fc-minor"')+">"+(i?"":e)+'<td class="'+h.getClass("widgetContent")+'"></td>'+(i?e:"")+"</tr>",l=b.addDurations(l,this.slotDuration),m=b.addDurations(m,this.slotDuration);return j},e.prototype._renderColumns=function(a,d){var e=this.context,f=e.calendar,g=e.view,h=e.isRtl,i=e.theme,j=e.dateEnv,k=new c.DayBgRow(this.context);this.rootBgContainerEl.innerHTML='<table class="'+i.getClass("tableGrid")+'">'+k.renderHtml({cells:a,dateProfile:d,renderIntroHtml:this.renderProps.renderBgIntroHtml})+"</table>",this.colEls=b.findElements(this.el,".fc-day, .fc-disabled-day");for(var l=0;l<this.colCnt;l++)f.publiclyTrigger("dayRender",[{date:j.toDate(a[l].date),el:this.colEls[l],view:g}]);h&&this.colEls.reverse(),this.colPositions=new b.PositionCache(this.el,this.colEls,(!0),(!1)),this.renderContentSkeleton(),this.isColSizesDirty=!0},e.prototype._unrenderColumns=function(){this.unrenderContentSkeleton()},e.prototype.renderContentSkeleton=function(){var a,c=this.context.isRtl,d=[];d.push(this.renderProps.renderIntroHtml());for(var e=0;e<this.colCnt;e++)d.push('<td><div class="fc-content-col"><div class="fc-event-container fc-mirror-container"></div><div class="fc-event-container"></div><div class="fc-highlight-container"></div><div class="fc-bgevent-container"></div><div class="fc-business-container"></div></div></td>');c&&d.reverse(),a=this.contentSkeletonEl=b.htmlToElement('<div class="fc-content-skeleton"><table><tr>'+d.join("")+"</tr></table></div>"),this.colContainerEls=b.findElements(a,".fc-content-col"),this.mirrorContainerEls=b.findElements(a,".fc-mirror-container"),this.fgContainerEls=b.findElements(a,".fc-event-container:not(.fc-mirror-container)"),this.bgContainerEls=b.findElements(a,".fc-bgevent-container"),this.highlightContainerEls=b.findElements(a,".fc-highlight-container"),this.businessContainerEls=b.findElements(a,".fc-business-container"),c&&(this.colContainerEls.reverse(),this.mirrorContainerEls.reverse(),this.fgContainerEls.reverse(),this.bgContainerEls.reverse(),this.highlightContainerEls.reverse(),this.businessContainerEls.reverse()),this.el.appendChild(a)},e.prototype.unrenderContentSkeleton=function(){b.removeElement(this.contentSkeletonEl)},e.prototype.groupSegsByCol=function(a){var b,c=[];for(b=0;b<this.colCnt;b++)c.push([]);for(b=0;b<a.length;b++)c[a[b].col].push(a[b]);return c},e.prototype.attachSegsByCol=function(a,b){var c,d,e;for(c=0;c<this.colCnt;c++)for(d=a[c],e=0;e<d.length;e++)b[c].appendChild(d[e].el)},e.prototype.getNowIndicatorUnit=function(){return"minute"},e.prototype.renderNowIndicator=function(a,c){if(this.colContainerEls){var d,e=this.computeDateTop(c),f=[];for(d=0;d<a.length;d++){var g=b.createElement("div",{className:"fc-now-indicator fc-now-indicator-line"});g.style.top=e+"px",this.colContainerEls[a[d].col].appendChild(g),f.push(g)}if(a.length>0){var h=b.createElement("div",{className:"fc-now-indicator fc-now-indicator-arrow"});h.style.top=e+"px",this.contentSkeletonEl.appendChild(h),
f.push(h)}this.nowIndicatorEls=f}},e.prototype.unrenderNowIndicator=function(){this.nowIndicatorEls&&(this.nowIndicatorEls.forEach(b.removeElement),this.nowIndicatorEls=null)},e.prototype.getTotalSlatHeight=function(){return this.slatContainerEl.getBoundingClientRect().height},e.prototype.computeDateTop=function(a,c){return c||(c=b.startOfDay(a)),this.computeTimeTop(b.createDuration(a.valueOf()-c.valueOf()))},e.prototype.computeTimeTop=function(a){var c,d,e=this.slatEls.length,f=this.props.dateProfile,g=(a.milliseconds-b.asRoughMs(f.minTime))/b.asRoughMs(this.slotDuration);return g=Math.max(0,g),g=Math.min(e,g),c=Math.floor(g),c=Math.min(c,e-1),d=g-c,this.slatPositions.tops[c]+this.slatPositions.getHeight(c)*d},e.prototype.computeSegVerticals=function(a){var b,c,d,e=this.context.options,f=e.timeGridEventMinHeight;for(b=0;b<a.length;b++)c=a[b],d=this.props.cells[c.col].date,c.top=this.computeDateTop(c.start,d),c.bottom=Math.max(c.top+f,this.computeDateTop(c.end,d))},e.prototype.assignSegVerticals=function(a){var c,d;for(c=0;c<a.length;c++)d=a[c],b.applyStyle(d.el,this.generateSegVerticalCss(d))},e.prototype.generateSegVerticalCss=function(a){return{top:a.top,bottom:-a.bottom}},e.prototype.buildPositionCaches=function(){this.buildColPositions(),this.buildSlatPositions()},e.prototype.buildColPositions=function(){this.colPositions.build()},e.prototype.buildSlatPositions=function(){this.slatPositions.build()},e.prototype.positionToHit=function(a,c){var d=this.context.dateEnv,e=this,f=e.snapsPerSlot,g=e.slatPositions,h=e.colPositions,i=h.leftToIndex(a),j=g.topToIndex(c);if(null!=i&&null!=j){var k=g.tops[j],l=g.getHeight(j),m=(c-k)/l,n=Math.floor(m*f),o=j*f+n,p=this.props.cells[i].date,q=b.addDurations(this.props.dateProfile.minTime,b.multiplyDuration(this.snapDuration,o)),r=d.add(p,q),s=d.add(r,this.snapDuration);return{col:i,dateSpan:{range:{start:r,end:s},allDay:!1},dayEl:this.colEls[i],relativeRect:{left:h.lefts[i],right:h.rights[i],top:k,bottom:k+l}}}},e.prototype._renderEventDrag=function(a){a&&(this.eventRenderer.hideByHash(a.affectedInstances),a.isEvent?this.mirrorRenderer.renderSegs(this.context,a.segs,{isDragging:!0,sourceSeg:a.sourceSeg}):this.fillRenderer.renderSegs("highlight",this.context,a.segs))},e.prototype._unrenderEventDrag=function(a){a&&(this.eventRenderer.showByHash(a.affectedInstances),a.isEvent?this.mirrorRenderer.unrender(this.context,a.segs,{isDragging:!0,sourceSeg:a.sourceSeg}):this.fillRenderer.unrender("highlight",this.context))},e.prototype._renderEventResize=function(a){a&&(this.eventRenderer.hideByHash(a.affectedInstances),this.mirrorRenderer.renderSegs(this.context,a.segs,{isResizing:!0,sourceSeg:a.sourceSeg}))},e.prototype._unrenderEventResize=function(a){a&&(this.eventRenderer.showByHash(a.affectedInstances),this.mirrorRenderer.unrender(this.context,a.segs,{isResizing:!0,sourceSeg:a.sourceSeg}))},e.prototype._renderDateSelection=function(a){a&&(this.context.options.selectMirror?this.mirrorRenderer.renderSegs(this.context,a,{isSelecting:!0}):this.fillRenderer.renderSegs("highlight",this.context,a))},e.prototype._unrenderDateSelection=function(a){a&&(this.context.options.selectMirror?this.mirrorRenderer.unrender(this.context,a,{isSelecting:!0}):this.fillRenderer.unrender("highlight",this.context))},e}(b.DateComponent),t=function(a){function c(){return null!==a&&a.apply(this,arguments)||this}return d(c,a),c.prototype.getKeyInfo=function(){return{allDay:{},timed:{}}},c.prototype.getKeysForDateSpan=function(a){return a.allDay?["allDay"]:["timed"]},c.prototype.getKeysForEventDef=function(a){return a.allDay?b.hasBgRendering(a)?["timed","allDay"]:["allDay"]:["timed"]},c}(b.Splitter),u=5,v=b.createFormatter({week:"short"}),w=function(a){function e(){var c=null!==a&&a.apply(this,arguments)||this;return c.splitter=new t,c.renderSkeleton=b.memoizeRendering(c._renderSkeleton,c._unrenderSkeleton),c.renderHeadIntroHtml=function(){var a,d=c.context,e=d.theme,f=d.dateEnv,g=d.options,h=c.props.dateProfile.renderRange,i=b.diffDays(h.start,h.end);return g.weekNumbers?(a=f.format(h.start,v),'<th class="fc-axis fc-week-number '+e.getClass("widgetHeader")+'" '+c.axisStyleAttr()+">"+b.buildGotoAnchorHtml(g,f,{date:h.start,type:"week",forceOff:i>1},b.htmlEscape(a))+"</th>"):'<th class="fc-axis '+e.getClass("widgetHeader")+'" '+c.axisStyleAttr()+"></th>"},c.renderTimeGridBgIntroHtml=function(){var a=c.context.theme;return'<td class="fc-axis '+a.getClass("widgetContent")+'" '+c.axisStyleAttr()+"></td>"},c.renderTimeGridIntroHtml=function(){return'<td class="fc-axis" '+c.axisStyleAttr()+"></td>"},c.renderDayGridBgIntroHtml=function(){var a=c.context,d=a.theme,e=a.options;return'<td class="fc-axis '+d.getClass("widgetContent")+'" '+c.axisStyleAttr()+"><span>"+b.getAllDayHtml(e)+"</span></td>"},c.renderDayGridIntroHtml=function(){return'<td class="fc-axis" '+c.axisStyleAttr()+"></td>"},c}return d(e,a),e.prototype.render=function(b,c){a.prototype.render.call(this,b,c),this.renderSkeleton(c)},e.prototype.destroy=function(){a.prototype.destroy.call(this),this.renderSkeleton.unrender()},e.prototype._renderSkeleton=function(a){this.el.classList.add("fc-timeGrid-view"),this.el.innerHTML=this.renderSkeletonHtml(),this.scroller=new b.ScrollComponent("hidden","auto");var d=this.scroller.el;this.el.querySelector(".fc-body > tr > td").appendChild(d),d.classList.add("fc-time-grid-container");var e=b.createElement("div",{className:"fc-time-grid"});if(d.appendChild(e),this.timeGrid=new s(e,{renderBgIntroHtml:this.renderTimeGridBgIntroHtml,renderIntroHtml:this.renderTimeGridIntroHtml}),a.options.allDaySlot){this.dayGrid=new c.DayGrid(this.el.querySelector(".fc-day-grid"),{renderNumberIntroHtml:this.renderDayGridIntroHtml,renderBgIntroHtml:this.renderDayGridBgIntroHtml,renderIntroHtml:this.renderDayGridIntroHtml,colWeekNumbersVisible:!1,cellWeekNumbersVisible:!1});var f=this.el.querySelector(".fc-divider");this.dayGrid.bottomCoordPadding=f.getBoundingClientRect().height}},e.prototype._unrenderSkeleton=function(){this.el.classList.remove("fc-timeGrid-view"),this.timeGrid.destroy(),this.dayGrid&&this.dayGrid.destroy(),this.scroller.destroy()},e.prototype.renderSkeletonHtml=function(){var a=this.context,b=a.theme,c=a.options;return'<table class="'+b.getClass("tableGrid")+'">'+(c.columnHeader?'<thead class="fc-head"><tr><td class="fc-head-container '+b.getClass("widgetHeader")+'">&nbsp;</td></tr></thead>':"")+'<tbody class="fc-body"><tr><td class="'+b.getClass("widgetContent")+'">'+(c.allDaySlot?'<div class="fc-day-grid"></div><hr class="fc-divider '+b.getClass("widgetHeader")+'" />':"")+"</td></tr></tbody></table>"},e.prototype.getNowIndicatorUnit=function(){return this.timeGrid.getNowIndicatorUnit()},e.prototype.unrenderNowIndicator=function(){this.timeGrid.unrenderNowIndicator()},e.prototype.updateSize=function(b,c,d){a.prototype.updateSize.call(this,b,c,d),this.timeGrid.updateSize(b),this.dayGrid&&this.dayGrid.updateSize(b)},e.prototype.updateBaseSize=function(a,c,d){var e,f,g,h=this;if(this.axisWidth=b.matchCellWidths(b.findElements(this.el,".fc-axis")),!this.timeGrid.colEls)return void(d||(f=this.computeScrollerHeight(c),this.scroller.setHeight(f)));var i=b.findElements(this.el,".fc-row").filter(function(a){return!h.scroller.el.contains(a)});this.timeGrid.bottomRuleEl.style.display="none",this.scroller.clear(),i.forEach(b.uncompensateScroll),this.dayGrid&&(this.dayGrid.removeSegPopover(),e=this.context.options.eventLimit,e&&"number"!=typeof e&&(e=u),e&&this.dayGrid.limitRows(e)),d||(f=this.computeScrollerHeight(c),this.scroller.setHeight(f),g=this.scroller.getScrollbarWidths(),(g.left||g.right)&&(i.forEach(function(a){b.compensateScroll(a,g)}),f=this.computeScrollerHeight(c),this.scroller.setHeight(f)),this.scroller.lockOverflow(g),this.timeGrid.getTotalSlatHeight()<f&&(this.timeGrid.bottomRuleEl.style.display=""))},e.prototype.computeScrollerHeight=function(a){return a-b.subtractInnerElHeight(this.el,this.scroller.el)},e.prototype.computeDateScroll=function(a){var b=this.timeGrid.computeTimeTop(a);return b=Math.ceil(b),b&&b++,{top:b}},e.prototype.queryDateScroll=function(){return{top:this.scroller.getScrollTop()}},e.prototype.applyDateScroll=function(a){void 0!==a.top&&this.scroller.setScrollTop(a.top)},e.prototype.axisStyleAttr=function(){return null!=this.axisWidth?'style="width:'+this.axisWidth+'px"':""},e}(b.View);w.prototype.usesMinMaxTime=!0;var x=function(a){function c(c){var d=a.call(this,c.el)||this;return d.buildDayRanges=b.memoize(k),d.slicer=new y,d.timeGrid=c,d}return d(c,a),c.prototype.firstContext=function(a){a.calendar.registerInteractiveComponent(this,{el:this.timeGrid.el})},c.prototype.destroy=function(){a.prototype.destroy.call(this),this.context.calendar.unregisterInteractiveComponent(this)},c.prototype.render=function(a,b){var c=this.context.dateEnv,d=a.dateProfile,e=a.dayTable,f=this.dayRanges=this.buildDayRanges(e,d,c),g=this.timeGrid;g.receiveContext(b),g.receiveProps(n({},this.slicer.sliceProps(a,d,null,b.calendar,g,f),{dateProfile:d,cells:e.cells[0]}),b)},c.prototype.renderNowIndicator=function(a){this.timeGrid.renderNowIndicator(this.slicer.sliceNowDate(a,this.timeGrid,this.dayRanges),a)},c.prototype.buildPositionCaches=function(){this.timeGrid.buildPositionCaches()},c.prototype.queryHit=function(a,b){var c=this.timeGrid.positionToHit(a,b);if(c)return{component:this.timeGrid,dateSpan:c.dateSpan,dayEl:c.dayEl,rect:{left:c.relativeRect.left,right:c.relativeRect.right,top:c.relativeRect.top,bottom:c.relativeRect.bottom},layer:0}},c}(b.DateComponent),y=function(a){function c(){return null!==a&&a.apply(this,arguments)||this}return d(c,a),c.prototype.sliceRange=function(a,c){for(var d=[],e=0;e<c.length;e++){var f=b.intersectRanges(a,c[e]);f&&d.push({start:f.start,end:f.end,isStart:f.start.valueOf()===a.start.valueOf(),isEnd:f.end.valueOf()===a.end.valueOf(),col:e})}return d},c}(b.Slicer),z=function(a){function e(){var c=null!==a&&a.apply(this,arguments)||this;return c.buildDayTable=b.memoize(l),c}return d(e,a),e.prototype.render=function(b,c){a.prototype.render.call(this,b,c);var d=this.props,e=d.dateProfile,f=d.dateProfileGenerator,g=c.nextDayThreshold,h=this.buildDayTable(e,f),i=this.splitter.splitProps(b);this.header&&this.header.receiveProps({dateProfile:e,dates:h.headerDates,datesRepDistinctDays:!0,renderIntroHtml:this.renderHeadIntroHtml},c),this.simpleTimeGrid.receiveProps(n({},i.timed,{dateProfile:e,dayTable:h}),c),this.simpleDayGrid&&this.simpleDayGrid.receiveProps(n({},i.allDay,{dateProfile:e,dayTable:h,nextDayThreshold:g,isRigid:!1}),c),this.startNowIndicator(e,f)},e.prototype._renderSkeleton=function(d){a.prototype._renderSkeleton.call(this,d),d.options.columnHeader&&(this.header=new b.DayHeader(this.el.querySelector(".fc-head-container"))),this.simpleTimeGrid=new x(this.timeGrid),this.dayGrid&&(this.simpleDayGrid=new c.SimpleDayGrid(this.dayGrid))},e.prototype._unrenderSkeleton=function(){a.prototype._unrenderSkeleton.call(this),this.header&&this.header.destroy(),this.simpleTimeGrid.destroy(),this.simpleDayGrid&&this.simpleDayGrid.destroy()},e.prototype.renderNowIndicator=function(a){this.simpleTimeGrid.renderNowIndicator(a)},e}(w),A=b.createPlugin({defaultView:"timeGridWeek",views:{timeGrid:{"class":z,allDaySlot:!0,slotDuration:"00:30:00",slotEventOverlap:!0},timeGridDay:{type:"timeGrid",duration:{days:1}},timeGridWeek:{type:"timeGrid",duration:{weeks:1}}}});a.AbstractTimeGridView=w,a.TimeGrid=s,a.TimeGridSlicer=y,a.TimeGridView=z,a.buildDayRanges=k,a.buildDayTable=l,a["default"]=A,Object.defineProperty(a,"__esModule",{value:!0})}),function(a,b){"object"==typeof exports&&"undefined"!=typeof module?b(exports,require("@fullcalendar/core")):"function"==typeof define&&define.amd?define(["exports","@fullcalendar/core"],b):(a=a||self,b(a.FullCalendarList={},a.FullCalendar))}(this,function(a,b){"use strict";function c(a,b){function c(){this.constructor=a}e(a,b),a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c)}function d(a){for(var c=b.startOfDay(a.renderRange.start),d=a.renderRange.end,e=[],f=[];c<d;)e.push(c),f.push({start:c,end:b.addDays(c,1)}),c=b.addDays(c,1);return{dayDates:e,dayRanges:f}}var e=function(a,b){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c])})(a,b)},f=function(a){function d(b){var c=a.call(this)||this;return c.listView=b,c}return c(d,a),d.prototype.attachSegs=function(a){a.length?this.listView.renderSegList(a):this.listView.renderEmptyMessage()},d.prototype.detachSegs=function(){},d.prototype.renderSegHtml=function(a){var c,d=this.context,e=d.theme,f=d.options,g=a.eventRange,h=g.def,i=g.instance,j=g.ui,k=h.url,l=["fc-list-item"].concat(j.classNames),m=j.backgroundColor;return c=h.allDay?b.getAllDayHtml(f):b.isMultiDayRange(g.range)?a.isStart?b.htmlEscape(this._getTimeText(i.range.start,a.end,!1)):a.isEnd?b.htmlEscape(this._getTimeText(a.start,i.range.end,!1)):b.getAllDayHtml(f):b.htmlEscape(this.getTimeText(g)),k&&l.push("fc-has-url"),'<tr class="'+l.join(" ")+'">'+(this.displayEventTime?'<td class="fc-list-item-time '+e.getClass("widgetContent")+'">'+(c||"")+"</td>":"")+'<td class="fc-list-item-marker '+e.getClass("widgetContent")+'"><span class="fc-event-dot"'+(m?' style="background-color:'+m+'"':"")+'></span></td><td class="fc-list-item-title '+e.getClass("widgetContent")+'"><a'+(k?' href="'+b.htmlEscape(k)+'"':"")+">"+b.htmlEscape(h.title||"")+"</a></td></tr>"},d.prototype.computeEventTimeFormat=function(){return{hour:"numeric",minute:"2-digit",meridiem:"short"}},d}(b.FgEventRenderer),g=function(a){function e(c,e){var g=a.call(this,c,e)||this;g.computeDateVars=b.memoize(d),g.eventStoreToSegs=b.memoize(g._eventStoreToSegs),g.renderSkeleton=b.memoizeRendering(g._renderSkeleton,g._unrenderSkeleton);var h=g.eventRenderer=new f(g);return g.renderContent=b.memoizeRendering(h.renderSegs.bind(h),h.unrender.bind(h),[g.renderSkeleton]),g}return c(e,a),e.prototype.firstContext=function(a){a.calendar.registerInteractiveComponent(this,{el:this.el})},e.prototype.render=function(b,c){a.prototype.render.call(this,b,c);var d=this.computeDateVars(b.dateProfile),e=d.dayDates,f=d.dayRanges;this.dayDates=e,this.renderSkeleton(c),this.renderContent(c,this.eventStoreToSegs(b.eventStore,b.eventUiBases,f))},e.prototype.destroy=function(){a.prototype.destroy.call(this),this.renderSkeleton.unrender(),this.renderContent.unrender(),this.context.calendar.unregisterInteractiveComponent(this)},e.prototype._renderSkeleton=function(a){var c=a.theme;this.el.classList.add("fc-list-view");for(var d=(c.getClass("listView")||"").split(" "),e=0,f=d;e<f.length;e++){var g=f[e];g&&this.el.classList.add(g)}this.scroller=new b.ScrollComponent("hidden","auto"),this.el.appendChild(this.scroller.el),this.contentEl=this.scroller.el},e.prototype._unrenderSkeleton=function(){this.scroller.destroy()},e.prototype.updateSize=function(b,c,d){a.prototype.updateSize.call(this,b,c,d),this.eventRenderer.computeSizes(b),this.eventRenderer.assignSizes(b),this.scroller.clear(),d||this.scroller.setHeight(this.computeScrollerHeight(c))},e.prototype.computeScrollerHeight=function(a){return a-b.subtractInnerElHeight(this.el,this.scroller.el)},e.prototype._eventStoreToSegs=function(a,c,d){return this.eventRangesToSegs(b.sliceEventStore(a,c,this.props.dateProfile.activeRange,this.context.nextDayThreshold).fg,d)},e.prototype.eventRangesToSegs=function(a,b){for(var c=[],d=0,e=a;d<e.length;d++){var f=e[d];c.push.apply(c,this.eventRangeToSegs(f,b))}return c},e.prototype.eventRangeToSegs=function(a,c){var d,e,f,g=this.context,h=g.dateEnv,i=g.nextDayThreshold,j=a.range,k=a.def.allDay,l=[];for(d=0;d<c.length;d++)if(e=b.intersectRanges(j,c[d]),e&&(f={component:this,eventRange:a,start:e.start,end:e.end,isStart:a.isStart&&e.start.valueOf()===j.start.valueOf(),isEnd:a.isEnd&&e.end.valueOf()===j.end.valueOf(),dayIndex:d},l.push(f),!f.isEnd&&!k&&d+1<c.length&&j.end<h.add(c[d+1].start,i))){f.end=j.end,f.isEnd=!0;break}return l},e.prototype.renderEmptyMessage=function(){this.contentEl.innerHTML='<div class="fc-list-empty-wrap2"><div class="fc-list-empty-wrap1"><div class="fc-list-empty">'+b.htmlEscape(this.context.options.noEventsMessage)+"</div></div></div>"},e.prototype.renderSegList=function(a){var c,d,e,f=this.context.theme,g=this.groupSegsByDay(a),h=b.htmlToElement('<table class="fc-list-table '+f.getClass("tableList")+'"><tbody></tbody></table>'),i=h.querySelector("tbody");for(c=0;c<g.length;c++)if(d=g[c])for(i.appendChild(this.buildDayHeaderRow(this.dayDates[c])),d=this.eventRenderer.sortEventSegs(d),e=0;e<d.length;e++)i.appendChild(d[e].el);this.contentEl.innerHTML="",this.contentEl.appendChild(h)},e.prototype.groupSegsByDay=function(a){var b,c,d=[];for(b=0;b<a.length;b++)c=a[b],(d[c.dayIndex]||(d[c.dayIndex]=[])).push(c);return d},e.prototype.buildDayHeaderRow=function(a){var c=this.context,d=c.theme,e=c.dateEnv,f=c.options,g=b.createFormatter(f.listDayFormat),h=b.createFormatter(f.listDayAltFormat);return b.createElement("tr",{className:"fc-list-heading","data-date":e.formatIso(a,{omitTime:!0})},'<td class="'+(d.getClass("tableListHeading")||d.getClass("widgetHeader"))+'" colspan="3">'+(g?b.buildGotoAnchorHtml(f,e,a,{"class":"fc-list-heading-main"},b.htmlEscape(e.format(a,g))):"")+(h?b.buildGotoAnchorHtml(f,e,a,{"class":"fc-list-heading-alt"},b.htmlEscape(e.format(a,h))):"")+"</td>")},e}(b.View);g.prototype.fgSegSelector=".fc-list-item";var h=b.createPlugin({views:{list:{"class":g,buttonTextKey:"list",listDayFormat:{month:"long",day:"numeric",year:"numeric"}},listDay:{type:"list",duration:{days:1},listDayFormat:{weekday:"long"}},listWeek:{type:"list",duration:{weeks:1},listDayFormat:{weekday:"long"},listDayAltFormat:{month:"long",day:"numeric",year:"numeric"}},listMonth:{type:"list",duration:{month:1},listDayAltFormat:{weekday:"long"}},listYear:{type:"list",duration:{year:1},listDayAltFormat:{weekday:"long"}}}});a.ListView=g,a["default"]=h,Object.defineProperty(a,"__esModule",{value:!0})});var i18nResources={pl:{translation:{"This browser does not support file upload.<br>Media uploads on websites are supported only on iOS6 (iPad2, iPhone3GS and higher).":"Ta przegldarka nie wspiera wgrywania plikw.<br>Wgrywanie mediw na stronach WWW jest wspierane tylko na iOS6 (iPad2, iPhone3GS lub wyej).","Current runtime: ":"Aktualny runtime","As file":"Jako plik","Extract content":"Wypakuj zawarto","Extract without folder structure":"Wypakuj bez struktury katalogw",Error:"Bd",Success:"Sukces","Uploading file, please wait...":"Wgrywanie pliku, prosimy czeka...","Progress: ":"Postp","Speed: ":"Prdko",Bytes:"Bitw","-- Choose directory --":"-- Wybierz Folder --","Unsaved changes will be lost, do you wish to continue?":"Niezapisane zmiany bd utracone, czy chcesz kontynuowa?","Remove link":"Usu link","Question ":"Pytanie","Only numbers":"Tylko liczby","Field cannot be empty":"Pole nie moe by puste",Move:"Przesu",Delete:"Usu","Loading...":"adowanie...","Save Page":"Zapisz","Please Wait...":"Prosimy czeka...","Insert __name__ here":"Umie __name__ tutaj","Move __name__ here":"Przesu __name__ tutaj","Are you sure you want to delete this element?":"Jeste pewny e chcesz usun ten element?",Information:"Informacja","Error loading document":"Bd podczas adowania dokumentu","Please use download button":"Prosimy uyj przycisku pobierania.",Item:"Element","No keywords added.":"Brak dodanych sw kluczowych.","No subjects added.":"Brak dodanych tematw.","All Day":"Cay dzie",January:"Stycze",February:"Luty",March:"Marzec",April:"Kwiecie",May:"Maj",June:"Czerwiec",July:"Lipiec",August:"Sierpie",September:"Wrzesie",October:"Padziernik",November:"Listopad",December:"Grudzie",Jan:"Sty",Feb:"Lut",Mar:"Mar",Apr:"Kwi",May:"Maj",Jun:"Cze",Jul:"Lip",Aug:"Sie",Sep:"Wrz",Nov:"Lis",Dec:"Gru",Sunday:"Niedziela",Monday:"Poniedziaek",Tuesday:"Wtorek",Wednesday:"roda",Thursday:"Czwartek",Friday:"Pitek",Saturday:"Sobota",Sunday:"Niedziela",Sun:"Nie",Mon:"Pon",Tue:"Wt",Wed:"r",Thu:"Czw",Fri:"Pt",Sat:"Sob",Today:"Dzi",Day:"Dzie",Week:"Tydzie",Month:"Miesic","there was an error while fetching events!":"wystpi bd podczas odczytu wydarze!","must not be empty. Please try again.":"nie moe by pusty. Prosimy sprbuj ponownie.","must be an email address. Please try again.":"musi by adresem email. Prosimy sprbuj ponownie.","must be a URL. Please try again.":"musi by adresem URL. Prosimy sprbuj ponownie.","must be numeric. Please try again.":"musi by numeryczny. Prosimy sprbuj ponownie.","must be a phone number without spaces. Please try again.":"musi by numerem telefonu bez spacji. Prosimy sprbuj ponownie.","There was a problem processing the form: <b>":"Wystpi problem z przetwarzaniem formularza: <b>","Server understood the request but request content was invalid":"Serwer rozumie zapytanie ale dana tre jest niepoprawna","Unauthorised access":"Nieautoryzowana prba dostpu","Forbidden - resource can't be accessed":"Zabronione - nie masz dostpu do zasobu","Page or file not found":"Strona lub plik nie zostay odnalezione","Internal Server Error":"Wewntrzny bd serwera","Service Unavailable":"Usuga niedostpna","Unknown Error":"Nieznany bd","Your session has expired! <br>You will be redirected to login page in ":"Twoja sesja zakoczya si! <br> Zostaniesz przekierowany na stron logowania w cigu ","Debug info":"Informacje debugowania",More:"Wicej","Show Menu":"Wywietl Menu",Close:"Zamknij","Close and Refresh":"Zamknij i odwie","This function is not available in edit mode. Please save your changes or cancel edit.":"Ta funkcja nie jest dostpna w trybie edycji. Prosimy zapisz zmiany lub przerwij edycj.","View Only":"Tylko podgld","Edit and View":"Edycja i podgld","This calendar is not shared with any users.":"Ten kalendarz nie jest udostpniony adnemu uytkownikowi",Days:"Dni",Weeks:"Tygodni",Months:"Miesicy",Years:"Lat",days:"dni",weeks:"tygodni",months:"miesicy",years:"lat",Edit:"Edytuj","Play/Pause":"Odtwarzaj/Pauza",Fullscreen:"Peny ekran","Download File":"Pobierz plik","Mute Toggle":"Wycisz","Captions/Subtitles":"Podpisy/Napisy",None:"aden","Turn off Fullscreen":"Wycz tryb penoekranowy","Go Fullscreen":"Przejd do trybu penoekranowego",Unmute:"Wycz wyciszenie",Mute:"Wycisz","Download Video":"Pobierz Video",Close:"Zamknij"}},xx:{translation:{Close:"***Close***","Close and Refresh":"***Close and Refresh***",Move:"***Move***",Delete:"***Delete***",Edit:"***Edit***","enter caption":"***enter caption***","Save Page":"***Save Page***","Please Wait...":"***Please Wait...***","Are you sure you want to delete this element?":"***Are you sure you want to delete this element?***","Unsaved changes will be lost, do you wish to continue?":"***Unsaved changes will be lost, do you wish to continue?***","Custom Url":"***Custom Url***","Insert __name__ here":"***Insert __name__ here***","Move __name__ here":"***Move __name__ here***",Item:"***Item***","Folder has not been shared with any users.":"***Folder has not been shared with any users.***",Every:"***Every***","This calendar is not shared with any userss.":"***This calendar is not shared with any users.***","View Only":"***View Only***","Edit and View":"***Edit and View***",Summary:"***Summary***","on the":"***on the***",on:"***on***",times:"***times***",until:"***until***",Mon:"***Mon***",Tue:"***Tue***",Wed:"***Wed***",Thu:"***Thu***",Fri:"***Fri***",Sat:"***Sat***",Sun:"***Sun***",days:"***days***",weeks:"***weeks***",months:"***months***",years:"***years***",Days:"***Days***",Weeks:"***Weeks***",Months:"***Months***",Years:"***Years***",Sunday:"***Sunday***",Monday:"***Monday***",Tuesday:"***Tuesday***",Wednesday:"***Wednesday***",Thursday:"***Thursday***",Friday:"***Friday***",Saturday:"***Saturday***",January:"***January***",February:"***February***",March:"***March***",April:"***April***",May:"***May***",June:"***June***",July:"***July***",August:"***August***",September:"***September***",October:"***October***",November:"***November***",December:"***December***",Jan:"***Jan***",Feb:"***Feb***",Mar:"***Mar***",Apr:"***Apr***",May:"***May***",Jun:"***Jun***",Jul:"***Jul***",Aug:"***Aug***",Sep:"***Sep***",Oct:"***Oct***",Nov:"***Nov***",Dec:"***Dec***",Today:"***Today***",Day:"***Day***",Week:"***Week***",Month:"***Month***","All Day":"***All Day***"}}},i18nLang=i18nLang||"en-gb";if("object"==typeof i18n){i18n.init({lng:i18nLang,resStore:i18nResources,lowerCaseLng:!0,supportedLngs:["xx","pl"]});var __=i18n.t}void 0!==mejs&&(mejs.plugins={silverlight:[{version:[3,0],types:["audio/mp4","video/mp4","video/m4v","video/mov","video/wmv","audio/wma","audio/m4a","audio/mp3","audio/wav","audio/mpeg"]}],flash:[{version:[9,0,124],types:["audio/mp4","video/mp4","video/m4v","video/mov","video/flv","video/rtmp","video/x-flv","audio/flv","audio/x-flv","audio/mp3","audio/m4a","audio/mp4","audio/mpeg","video/youtube","video/x-youtube"]}],youtube:[{version:null,types:["video/youtube","video/x-youtube","audio/youtube","audio/x-youtube"]}],vimeo:[{version:null,types:["video/vimeo","video/x-vimeo"]}]}),$.prototype.isInViewport=function(a){void 0===a&&(a=0);var b=$(this).offset().top,c=b+$(this).outerHeight(),d=$(window).scrollTop(),e=d+$(window).height();return c+a>d&&b-a<e},function(){"use strict";String.prototype.hash=function(){var a,b,c=0;if(0===this.length)return c;for(a=0;a<this.length;a++)b=this.charCodeAt(a),c=33*c+b,c|=0;return c},String.prototype.trimLeft=String.prototype.trimLeft||function(){return(this+"").replace(/^\s+/,"")},String.prototype.trimRight=String.prototype.trimRight||function(){return(this+"").replace(/\s+$/,"")};var a={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"};String.prototype.quote=String.prototype.quote||function(){return'"'+(this+"").replace(/[\x00-\x1F"\\\x7F-\uFFFF]/g,function(b){if(Object.prototype.hasOwnProperty.call(a,b))return a[b];var c=b.charCodeAt(0);return c<=255?"\\x"+("00"+c.toString(16).toUpperCase()).slice(-2):"\\u"+("0000"+c.toString(16).toUpperCase()).slice(-4)})+'"'}}();var SJ=SJ||{},__=__||function(a){return a};SJ.Modal=SJ.Modal||{modal:null,options:{closeButton:!0},init:function(a){$.extend(this.options,a||{});var b=$("<div/>").addClass("sj-modal").css("display","none"),c=$("<div/>").addClass("sj-modal-header");c.append("<h3/>"),this.options.closeButton?c.append('<a href="#" class="sj-modal-close sj-modal-close-btn"></a>'):null,b.append(c);var d=$("<div/>").addClass("sj-modal-content");return b.append(d),b.prependTo("body"),this.modal=b,this},title:function(a){return this.modal.find(".sj-modal-header h3").text(a),this},appendContent:function(a){return this.modal.find(".sj-modal-content").append(a),this},prependContent:function(a){return this.modal.find(".sj-modal-content").prepend(a),this},show:function(){return this.modal.show(),this},hide:function(){return this.modal.hide(),this},addClass:function(a){return this.modal.addClass(a),this},remove:function(){this.modal.remove(),this.modal=null}},$(document).ready(function(){$("body").on("click",".sj-modal-close-btn",function(a){$(this).parents(".sj-modal").hide().trigger("sjmodalclosed")})});var SJ=SJ||{},__=__||function(a){return a};SJ.Userrules=SJ.Userrules||{_records:null,_active:[],_tagged:[],_records_loaded:!1,_records_loading:!1,_drawing_search:!1,_search_value:"",init:function(){SJ.Userrules.loadObject(),SJ.Userrules._tagged=[],SJ.Userrules.setActive()},loadObject:function(){app=$("#element_type").val(),SJ.Userrules._records_loading=!0,0==SJ.Userrules._records_loaded&&$.ajax({type:"GET",dataType:"json",url:SJ.Core.url("/app/userrule/searchlist?app="+app),success:function(a){SJ.Userrules._records=a,SJ.Userrules._records_loaded=!0,1==SJ.Userrules._drawing_search&&SJ.Userrules.drawSearch()}})},drawSearch:function(){if(0==SJ.Userrules._records_loaded)SJ.Userrules._drawing_search=!0,0==SJ.Userrules._records_loading&&SJ.Userrules.loadObject();else{SJ.Userrules._drawing_search=!1;var a,b;if($("#_userrule_picker").html("").hide(),""!=SJ.Userrules._search_value){var c=0,d=RegExp(SJ.Userrules._search_value,"gi");a=jQuery.map(SJ.Userrules._records.users,function(a,b){var c="user_"+b;return $.inArray(c,SJ.Userrules._tagged)>-1||$.inArray(c,SJ.Userrules._active)>-1?null:a.match(d)?[[b,a]]:null}),$.each(a,function(a,b){c++,$("#_userrule_picker").append('<li><a data-id="'+b[0]+'" data-type="user" class="_userrule_add"><i class="fa fa-user fa-fw"></i> '+b[1]+"</a></li>")}),b=jQuery.map(SJ.Userrules._records.groups,function(a,b){var c="group_"+b;return $.inArray(c,SJ.Userrules._tagged)>-1||$.inArray(c,SJ.Userrules._active)>-1?null:a.match(d)?[[b,a]]:null}),$.each(b,function(a,b){c++,$("#_userrule_picker").append('<li><a data-id="'+b[0]+'" data-type="group" class="_userrule_add"><i class="fa fa-group fa-fw"></i> '+b[1]+"</a></li>")}),systemrole=jQuery.map(SJ.Userrules._records.systemroles,function(a,b){var c="systemrole_"+b;return $.inArray(c,SJ.Userrules._tagged)>-1||$.inArray(c,SJ.Userrules._active)>-1?null:a.match(d)?[[b,a]]:null}),$.each(systemrole,function(a,b){c++,$("#_userrule_picker").append('<li><a data-id="'+b[0]+'" data-type="systemrole" class="_userrule_add"><i class="fa fa-check-square-o fa-fw"></i> '+b[1]+"</a></li>")}),0!=c&&$("#_userrule_picker").show()}}},hideSearch:function(){$("#_userrule_search").val(""),$("#_userrule_picker").html("").hide()},setActive:function(){SJ.Userrules._active=[],$("._userrule_related").each(function(){var a=$(this).val();SJ.Userrules._active.push(a)}),SJ.Userrules._active.length>0?$("#no-user-message").addClass("bs3-hidden"):$("#no-user-message").removeClass("bs3-hidden")},_timer:0,showNotification:function(){var a=$("form#userrules"),b='<div class="bs3-alert bs3-alert-success bs3-alert-dismissable notification">';b+='<a href="#" class="bs3-close" data-dismiss="alert"></a>',b+="<p>"+__("Changes saved.")+"</p></div>",0==a.find(".notification").length&&a.prepend(b),clearTimeout(SJ.Userrules._timer),SJ.Userrules._timer=setTimeout(function(){a.find(".notification").length>0&&a.find(".notification").remove()},5e3)},_updateRules:function(a){var b=a,c=$(b).parents("form"),d=c.serialize();$.ajax({type:"POST",dataType:"json",url:SJ.Core.url("/app/userrule/edit_userrule"),data:d,beforeSend:function(){0==$(b).parents("tr").find("td").first().find(".loader").length&&$(b).parents("tr").find("td").first().append('<i style="float:right; font-size: 20px" class="loader fa fa-spinner fa-pulse fa-3x fa-fw margin-bottom"></i>')}}).done(function(a){SJ.Userrules.showNotification()}).always(function(){$(b).parents("tr").find(".loader").remove()})}},$(document).ready(function(){$("body").on("click","._userrules_remove",function(a){SJ.Userrules.hideSearch();var b=$(this).parent().parent().parent(),c=b.attr("data-id"),d=b.attr("data-type"),e=$("#element_id").val(),f=$("#element_type").val(),g=this;return $.ajax({type:"POST",dataType:"json",url:SJ.Core.url("/app/userrule/remove_userrule"),data:{id:c,type:d,element_id:e,element_type:f},beforeSend:function(){0==$(g).parents("tr").find("td").first().find(".loader").length&&$(g).parents("tr").find("td").first().append('<i style="float:right; font-size: 20px" class="loader fa fa-spinner fa-pulse fa-3x fa-fw margin-bottom"></i>')}}).done(function(a){b.remove(),SJ.Userrules.setActive(),SJ.Userrules.showNotification()}),!1}),$("body").on("keyup","#_userrule_search",function(a){SJ.Userrules._search_value=$("#_userrule_search").val(),SJ.Userrules.drawSearch()});var a=!0;$("body").on("click","._userrule_add",function(b){if(a===!0){a=!1;var c=$(this).data("id"),d=$(this).data("type"),e=$("#element_id").val(),f=$("#element_type").val(),g=$("#_userrule_search_rule").val();$.ajax({type:"POST",dataType:"json",url:SJ.Core.url("/app/userrule/add_userrule"),data:{rules:[{id:c,type:d}],access:g,element_id:e,element_type:f},beforeSend:function(){SJ.Userrules.hideSearch();var a=$("<tr />").css("text-align","center").append('<i style="font-size: 20px" class="loader fa fa-spinner fa-pulse fa-3x fa-fw margin-bottom"></i>');
$("#_userrule_rows").append(a)},error:function(){}}).done(function(a){$("#_userrule_rows").find("tr").last().remove(),$("#_userrule_rows").append(a.row),SJ.Userrules.setActive(),SJ.Userrules.showNotification()}).always(function(){a=!0})}}),$("body").on("change","form#userrules select:not(#_userrule_search_rule)",function(){SJ.Userrules._updateRules(this)}),$("body").on("click",'form#userrules input[name="private_permission"]',function(){SJ.Userrules._updateRules(this)})});var SJ=SJ||{},__=__||function(a){return a};SJ.Dropdown=SJ.Dropdown||{options:{arrows:!1,more:__("More"),type:"click",selector:".dropdown"},redraw:function(a){a=$(a);var b=document.createTextNode(" ");return a.appendChild(b),function(){b.parentNode.removeChild(b)}.defer(),a},show:function(a,b){null!==a&&(b=$(this).closest("li").children("ul"),a.stopPropagation());var c=SJ.Dropdown.options.selector,d=b.closest("ul"+c),e=b.closest("li");SJ.Dropdown.hide(null,b.parent().siblings().find("ul")),b.removeClass("left").css("visibility","visible").css("display","block"),e.addClass("down");var f=b.width(),g=d.width(),h=(b.offset().left-d.offset().left,b.offset().left+f-(d.offset().left+g));h>0&&(b.addClass("left"),e.parent().is(c)&&b.css("margin-left","-"+h+"px"))},hide:function(a,b){null!==a&&(b=$(this).closest("li").children("ul")),$(b).each(function(){$(this).removeClass("left").hide().css("visibility","hidden").closest("li").removeClass("down")})},toggle:function(a){var b=$(this).closest("li").children("ul");b.is(":visible")?SJ.Dropdown.hide(null,b):SJ.Dropdown.show(null,b),a.stopPropagation()},too_much:function(a){var b=null,c=!1;return $(a).children("li").each(function(a,d){var e=$(d).offset().top;e!==b&&null!==b&&(c=!0),b=e}),c},fit:function(a){if(this.hide(null,a.find("ul")),a.find(".extra > ul > li").each(function(b,c){$(c).appendTo(a)}),a.find(".extra").remove(),this.too_much(a)){var b="";if(this.options.arrows||"click"===this.options.type)var b="<span>"+__("Show Menu")+"</span>";for($(a).append('<li class="extra more"><a href="#">'+this.options.more+"</a>"+b+"<ul></ul></li>");this.too_much(a);)a.find(".extra").prev().prependTo(".extra > ul");this.hide(null,a.find("ul")),"click"===this.options.type&&a.on("click",".extra",this.toggle)}},doubleTapToGo:function(a){return!!("ontouchstart"in window||navigator.msMaxTouchPoints||navigator.userAgent.toLowerCase().match(/windows phone os 7/i))&&(!navigator.userAgent.toLowerCase().match(/mac os x/i)&&void a.each(function(){var a=!1;$(this).on("click",function(b){var c=$(this);c[0]!=a[0]&&(b.preventDefault(),a=c)}),$(document).on("click touchstart MSPointerDown",function(b){for(var c=!0,d=$(b.target).parents(),e=0;e<d.length;e++)d[e]==a[0]&&(c=!1);c&&(a=!1)})}))},init:function(a){void 0!==a&&($.extend(this.options,a),"hover"===this.options.type?this.options.event="mouseenter":this.options.event=this.options.type);var b=this,c=$("ul"+this.options.selector),d=(c.find("li"),c.find("ul"));if(d.each(function(){$(this).prev("a").attr("aria-haspopup","true")}),this.hide(null,d),d.parent().addClass("more"),(this.options.arrows||"click"===this.options.type)&&d.parent().children("a").after("<span>"+__("Show Menu")+"</span>"),c.find(".more, .more span").off("click mouseenter mouseleave"),"hover"===this.options.type?(c.on("mouseenter",".more",this.show),c.on("mouseleave",".more",this.hide)):c.on("click",".more span",this.toggle),c.on("click mouseenter mouseleave",function(a){a.stopPropagation()}),$(document).on("click",function(){b.hide(null,c.find("ul"))}),this.options.more){this.fit(c);var e=c.width();$(window).resize(function(a){var d=$(c).width();d!=e&&(b.fit(c),e=d)})}var f=c.find("li:has(ul)");SJ.Dropdown.doubleTapToGo(f)}};var SJ=SJ||{},__=__||function(a){return a};SJ.Conversion=SJ.Conversion||{_monitor:function(a,b,c){var d={file_id:b,timestamp:$.now()};$.get(SJ.Core.url("/status"),d,function(d){if(d>0||d===-1)if(0===$("#resources_render").length){var e={has_submenu:$("body.has-side-menu").length?1:0};a=$("#sj_element_processing_"+a).parents(".element").first().attr("id").replace("element_",""),$.post(SJ.Core.url("/admin/ajax/refresh/"+a),e,function(b){$("#element_"+b.id).html(b.render),SJ.CMS.Elements.init(a)},"json")}else $.post(SJ.Core.url("/show/"+c+"/"+a),function(a){$("#resources_render").html(a)});else setTimeout(function(){"document"===c?SJ.Conversion.Document.init(a,b):SJ.Conversion.Media.init(a,b)},5e3)})},Media:{_getWidth:function(a){return parseInt(a.parent().width(),10)},_getHeight:function(a){return parseInt(a/16*9,10)},init:function(a,b){if($("#sj_element_processing_"+a).length>0)SJ.Conversion._monitor(a,b,"media");else if("undefined"!=typeof MediaElement){var c,d=["playpause","progress","current","duration","volume","fullscreen"],e=$("#sj_element_media_"+a),f=SJ.Conversion.Media._getWidth(e),g=SJ.Conversion.Media._getHeight(f);e.is("video")&&e.attr("height",g+"px"),f<180&&(c=d.indexOf("duration"),d.splice(c,1)),(f<150||e.is("audio")&&f<150)&&(c=d.indexOf("current"),d.splice(c,1)),(f<90||e.is("audio")&&f<150)&&(c=d.indexOf("progress"),d.splice(c,1)),(f<80||e.is("audio")&&f<110)&&(c=d.indexOf("volume"),d.splice(c,1)),(f<55||void 0!==$.browser.msie&&parseInt($.browser.version,10)<=8)&&(c=d.indexOf("fullscreen"),d.splice(c,1)),e.mediaelementplayer({pluginVars:"isvideo=true",enablePseudoStreaming:!0,enableAutosize:!0,alwaysShowControls:!1,plugins:["flash","silverlight"],features:d,customError:"<div style='text-align:center'><a href='http://www.adobe.com/go/getflashplayer'><img src='http://www.adobe.com/images/shared/download_buttons/get_flash_player.gif' alt='Get Adobe Flash player' /></a></div>",flashName:"flashmediaelement-cdn.swf",silverlightName:"silverlightmediaelement.xap",playpauseText:__("Play/Pause"),muteText:__("Mute"),fullscreenText:__("Fullscreen"),postrollCloseText:__("Close"),tracksText:__("Captions/Subtitles")}),e.is("video")&&e.prev(".me-plugin").css("width","100%").css("height",g+"px")}}},Document:{toolbar_flowpaper:null,scrollListenerEnabled:!1,documents:[],initializedDocuments:{},initializeDocument:function(a,b){$("#sj_element_processing_"+a).length>0?SJ.Conversion._monitor(a,b,"document"):"undefined"!=typeof $FlowPaper&&SJ.Conversion.Document.validateSupportedBrowser(a)&&(SJ.Conversion.Document.initializedDocuments[a]=!0,null==SJ.Conversion.Document.toolbar_flowpaper?jQuery.get(SJ.Core.staticUrl(window.isTouchScreen?"/ui/vendor/flowpaper/UI_flowpaper_mobile_flat.html":"/ui/vendor/flowpaper/UI_flowpaper_desktop_flat.html"),function(b){SJ.Conversion.Document.toolbar_flowpaper=b,SJ.Conversion.Document.init_flowpaper(a)}):SJ.Conversion.Document.init_flowpaper(a))},init:function(a,b,c){void 0===c&&(c=!1),void 0!==SJ.CMSFrontend&&c?SJ.CMSFrontend.DelayedLoad.Queue(a,function(){SJ.Conversion.Document.initializeDocument(a,b)}):SJ.Conversion.Document.initializeDocument(a,b)},init_flowpaper:function(a){var b="sj_element_document_"+a,c=$("#"+b),d=c.parent(".sj_element_document_container").data("fixheight"),e=c.width(),f=e*(d/100),g="transparent",h="html5",i=c.data("pdf"),j=i.replace(/\.pdf$/i,".js"),k=SJ.Conversion.Document.toolbar_flowpaper;c.height(f),c.addClass("flowpaper_viewer"),k=k.replace(/documentViewer/g,b),c.FlowPaperViewer({config:{PDFFile:i,JSONFile:j,Scale:.9,ZoomTime:.5,ZoomInterval:.1,FitPageOnLoad:!1,FitWidthOnLoad:!0,localeChain:"en_US",FullScreenAsMaxWindow:!1,ProgressiveLoading:!1,MaxZoomSize:5,MinZoomSize:.2,SearchMatchAll:!1,Toolbar:k,AnnotationToolsVisible:!1,BottomToolbar:!1,InitViewMode:"Portrait",ViewModeToolsVisible:!0,ZoomToolsVisible:!0,NavToolsVisible:!0,CursorToolsVisible:!1,SearchToolsVisible:!0,RenderingOrder:h,WMode:g,jsDirectory:SJ.Core.staticUrl("/ui/vendor/flowpaper/js/"),cssDirectory:SJ.Core.staticUrl("/ui/vendor/flowpaper/css/"),localeDirectory:SJ.Core.staticUrl("/ui/vendor/flowpaper/locale/"),key:"@2443455b69630971023$cd1d8637024e1391826"}}),c.bind("onDocumentLoadedError",function(){var a=SJ.Core.print_box(__("Error loading document")+". "+__("Please use download button")+".",{type:"warning",header:__("Information"),close:1});$(this).parents(".sj_element_document_container").first().removeAttr("style").html(a)})},validateSupportedBrowser:function(a){if($.browser.msie&&parseInt($.browser.version)<10){var b=SJ.Core.print_box(__("Viewing embedded documents in this version of Internet Explorer is no longer supported")+".<br /> "+__("Please use download button")+".",{type:"warning",header:__("Information"),close:0});return $("#sj_element_document_"+a).parents(".sj_element_document_container").first().removeAttr("style").html(b),!1}return!0}}},$(document).ready(function(){$(".sj-app-title-name").hover(function(){$(".sj-app-title-name").addClass("sj-app-title-hover-full"),$(".sj-app-title-switcher").addClass("sj-app-title-hover-half")},function(){$(".sj-app-title-name").removeClass("sj-app-title-hover-full"),$(".sj-app-title-switcher").removeClass("sj-app-title-hover-half")}),$(".sj-app-title-switcher").hover(function(){$(".sj-app-title-name").addClass("sj-app-title-hover-half"),$(".sj-app-title-switcher").addClass("sj-app-title-hover-full")},function(){$(".sj-app-title-name").removeClass("sj-app-title-hover-half"),$(".sj-app-title-switcher").removeClass("sj-app-title-hover-full")})});var SJMaps=function(a){var b=51.508648972640216,c=-.11687256395816803,d=this;a=a||{},this.lat=a.lat,this.lng=a.lng,this.zoom=a.zoom||19,this.label=a.label,this.elementId=a.elementId||"map",this.base_place=this.lat&&this.lng?new L.LatLng(this.lat,this.lng):new L.LatLng(b,c),this.default_zoom=this.zoom?this.zoom:12,this.current_place=this.base_place,this.map=L.map(this.elementId,{center:this.base_place,zoom:this.default_zoom}),L.tileLayer("https://maps.schooljotter2.com/{z}/{x}/{y}.png",{attribution:'Map data &copy; <a href="http://openstreetmap.org">OpenStreetMap</a> contributors, <a href="http://creativecommons.org/licenses/by-sa/2.0/">CC-BY-SA</a>',maxZoom:19}).addTo(this.map);var e=L.AwesomeMarkers.icon({icon:"circle",markerColor:"blue",prefix:"fa",iconColor:"#fff"});this.marker=L.marker(this.base_place,{icon:e}).addTo(this.map),this.coordInfoWindow=L.popup(),this.map.on("zoomend",function(){d.current_zoom=d.map.getZoom()}),""!==this.label&&this.generateInfoWindow()};SJMaps.prototype=SJEvents.prototype,SJMaps.prototype.createInfoWindowContent=function(){return this.label},SJMaps.prototype.generateInfoWindow=function(){this.coordInfoWindow.setContent(this.createInfoWindowContent()).setLatLng(this.current_place),this.marker.bindPopup(this.coordInfoWindow)},SJMaps.prototype.selectLocation=function(a,b,c){this.current_place=new L.LatLng(a,b),void 0!==this.marker&&(this.marker.setLatLng(this.current_place),void 0!==c&&this.marker.setZIndexOffset(c)),void 0!==this.marker&&this.coordInfoWindow.setLatLng(this.current_place),this.map.panTo(this.current_place),this.trigger("locationChange",[{lat:a,lng:b,zoom:this.map.getZoom()}])};var SJ=SJ||{},__=__||function(a){return a};SJ.CMSFrontend=SJ.CMSFrontend||{deprecatedBrowser:!1,maps:{},init:function(){var a=SJ.CMSFrontend;$("#nav").css("overflow","visible"),this.detectDeprecatedBrowser(),this.deprecatedBrowser&&this.deprecatedBrowserWarning(),a.disable_click(),a.Elements.blog_event(),a.Elements.coursework_event(),a.Elements.quiz_event(),a.Elements.wiki_event(),a.Elements.marquee_event(),void 0!==SJ.Pane&&SJ.Pane.Load.add(SJ.CMSFrontend.Elements.init),a.Elements.init(),a.Logs.init(),$(document).on("click",".sj_btn_teachercomments",function(){var a=$(this).data("update"),b=$(this).data("user");a>0&&($(this).data("update",0),$.ajax({url:"/app/teachercomments/update_comments_status/",type:"POST",data:{page_id:a,user_id:b}}).done(function(a){a=JSON.parse(a)})),$(".sj_teachercomments").slideToggle()})},url_get_param:function(a){return decodeURI((RegExp(a+"=(.+?)(&|$)").exec(location.search)||[,null])[1])},disable_click:function(){void 0!==this.url_get_param("disable_click")&&1===parseInt(this.url_get_param("disable_click"),10)&&($("body").css("position","relative"),$("body div").first().before("<div class='cms-disable-click-on-page'/>"))},image_loading:function(a,b,c,d){(void 0===c||c.length<=0)&&(c="Loading image..."),void 0===d&&(d=!1);var e=$("#"+a+" img"),f=$("#"+a),g=c;f.data("count",0),f.data("all_img_count",e.length),f.data("already_work",!1),d&&(g=c+"(0/"+f.data("all_img_count")+")"),f.wrap("<div class='sj_img_loading'></div>"),f.hide(),f.before("<span class='sj_img_loading_msg'>"+g+"</span>"),e.load(function(){if(0!==+this.naturalWidth&&!0!==$(this).data("loaded_wa")){$(this).data("loaded_wa",!0);var a=$(this).parents(".sj_img_loading").find("span.sj_img_loading_msg");d?a.html(c+"("+f.data("count")+"/"+f.data("all_img_count")+")"):a.html(c),f.data().count++,f.data().count>=f.data("all_img_count")&&(f.data("already_work",!0),f.parents(".sj_img_loading").find("span.sj_img_loading_msg").remove(),f.unwrap(),f.show(),b())}});var h=60;e.on("error",function(){var a=$(this),b=a.data("attempts")||0;b<h&&setTimeout(function(){var c=a.attr("src").replace(/[?&]ref=[\d]+/g,"");a.removeAttr("src").attr("src",c+"?ref="+(new Date).getTime()),a.data("attempts",b+1)},1e4)}),setTimeout(function(){e.each(function(){this.complete&&0!==+this.naturalWidth&&$(this).trigger("load")}),$.browser.msie&&$.browser.version<9&&e.each(function(){$(this).attr("src",$(this).attr("src"))})},500),setTimeout(function(){f.data("already_work")===!1&&f.parents(".sj_img_loading").find("span.sj_img_loading_msg").html(__("Please wait. It may take a little longer to load images..."))},1e4)},image_size:function(a){var b=$("#"+a);b.find("img").each(function(a,c){var d=$(c),e=d.data("id");if(void 0!==e){var f=d.data("width"),g=d.data("height"),h=g/f,i=1200,j=null,k=parseInt(b.width()),l=null;parseInt(b.width());void 0!==g&&(l=parseInt(k*h),j=parseInt(i*h));for(var m=[900,600,300],n=0;n<m.length;n++){var o=parseInt(m[n]*h);k<=m[n]&&(null===l||l<o)&&(i=m[n],j=o)}j=null!==j?"/"+j:"/NaN";var p=d.data("outline"),q=d.data("host"),r=q+e+"/"+i+j+p;d.attr("src")&&d.attr("src",r),d.data("original")&&d.data("original",r)}})},detectDeprecatedBrowser:function(){$.browser.msie&&$.browser.version<11&&(this.deprecatedBrowser=!0)},deprecatedBrowserWarning:function(){var a=$('<div class="sj_browser_warning_window"></div>'),b=$('<div class="sj_browser_warning_close"><a href="#" title="I\'m fine with this."><i class="fa fa-times-circle fa-2x"></i></a></div>').click(function(){SJ.Core.IsStorageAvailable("localStorage")&&localStorage.setItem("deprecatedBrowserWarning","true"),a.fadeOut()}),c=$('<div class="sj_browser_warning_msg">You are using an unsupported web browser. We recommend upgrading your browser to Internet Explorer 11 or use an alternative modern browser such as Google Chrome, Microsoft Edge, or Mozilla Firefox.</div>');a.append(b).append(c),$("body").prepend(a),(!SJ.Core.IsStorageAvailable("localStorage")||SJ.Core.IsStorageAvailable("localStorage")&&"true"!==localStorage.getItem("deprecatedBrowserWarning"))&&a.fadeIn()},Elements:{init:function(){var a="",b=SJ.CMSFrontend.Elements;SJ.Core.PaneVisible()&&(a=".pane "),$(a+".element-blog").length>0&&b.blog(a),$(a+".element-resourcecoursework").length>0&&b.coursework(a),$(a+".element-resourcequiz").length>0&&b.quiz(a),$(a+".element-resourcewiki").length>0&&b.wiki(a),$(a+".element-marquee").length>0&&b.marquee(a)},image:function(a){var b=function(){};SJ.CMSFrontend.image_loading(a,b)},image_open:function(a){var b=function(){void 0!==$.magnificPopup&&$("#"+a).magnificPopup({delegate:"a",type:"image",gallery:{enabled:!1}})};SJ.CMSFrontend.image_loading(a,b)},gallery:function(a){var b=a;a="sj_element_gallery_"+a;var c=function(){var c=$("#"+a);c.hasClass("magnific")&&c.magnificPopup({delegate:"a",type:"image",gallery:{enabled:!0}}),$(".utility .cms-mode-edit").length&&SJ.CMS.Gallery(b)};SJ.CMSFrontend.image_loading(a,c,"",!0)},flash:function(a,b,c){var d=$("#"+a);d.html("<a href='http://www.adobe.com/go/getflashplayer'><img src='http://www.adobe.com/images/shared/download_buttons/get_flash_player.gif' alt='Get Adobe Flash player' /></a>");var e=d.data("src"),f={},g={},h={style:"position: absolute"};g.wmode="transparent",g.scale="default",swfobject.embedSWF(e,a,b,c,"9.0.0","/ui/vendor/swfobject/swf/expressInstall.swf",f,g,h)},cycle:function(a,b,c,d,e){function f(d){var e=d;if(e<j.length){var n=new Image,o=j[e].file_id,p=j[e].href;n.onload=function(){var d=$("#"+a+" div");if(d.length<3){var j=m.parent().find(".sj_img_loading");if(j.length>0&&j.remove(),d.length<2){var n=$("<div />").css({width:h,height:i}).append(this);$("#"+a).append(n)}2===d.length&&(void 0===k?k=$("#"+a).cycle({sync:!0,fx:b,slideResize:!0,timeout:1e3*parseInt(c,10),before:g}):l.push(this))}else l.push(this);e++,f(e)},n.onerror=function(){e++,f(e)},n.id=o,n.src=p}}function g(a,b,c){if(c.addSlide)for(;l.length>0;){var d=l.shift();if(void 0!==d){var e=$("<div />").css({width:h,height:i}).append(d);c.addSlide(e)}}}var h,i,j,k,l=[],m=$("#"+a);$.ajax({url:"/image/ajax/getimageresized",type:"POST",dataType:"json",async:!0,data:{links:d.img_hrefs,ratio_height:e["ratio-height"],ratio_width:e["ratio-width"],box_width:m.width()},error:function(){m.parent().find(".sj_img_loading span").html(__("An error occured. Try reload page."))}}).done(function(a){h=m.width(),i=m.height(),j=a,f(0)}),setTimeout(function(){var b=$("#"+a).parent().find(".sj_img_loading");b.length>0&&b.find("span").html(__("Please wait. It may take a little longer to load images... If it's taking too long - try reload page."))},1e4)},cycle_old:function(a,b,c){$(document).ready(function(){var d=$("#"+a),e=d.width(),f=d.height();d.find("div").css({width:e,height:f}),SJ.CMSFrontend.image_size(a);var g=function(a){a.wrap("<div class='sj_img_loading'></div>"),a.hide(),a.before("<span class='sj_img_loading_msg'>Loading image...</span>")},h=function(){var a=$(this);return 0!==a.get(0).naturalWidth&&(a.parent().find("span.sj_img_loading_msg").remove(),a.unwrap(),void a.show())},i=function(){var a=$(this);a.parent().find("span.sj_img_loading_msg").html(__("Please wait. It may take a little longer to load images...")),setTimeout(function(){var b=a.attr("src").replace(/[?&]ref=[\d]+/g,"");a.removeAttr("src").attr("src",b+"?ref="+(new Date).getTime())},1e4)},j=d.find("img");if(1===j.length){var k=j.first();g(k),k.load(h).on("error",i).attr("src",k.data("original"))}c=1e3*parseInt(c,10),d.cycle({sync:!0,fx:b,slideResize:!0,timeout:c,before:function(a,b){if(b=$(b),!b.attr("data-lazyLoaded")){var c=b.children("img");c.attr("src")||(g(c),c.load(h),c.on("error",i),c.attr("src",c.data("original")));var d=b.next();d.attr("data-lazyLoaded")||(c=d.children("img"),c.attr("src")||(g(c),c.load(h),c.on("error",i),c.attr("src",c.data("original")))),b.attr("data-lazyLoaded",1)}}}),0===c&&d.on("click",function(){d.cycle("next")})})},map:function(a,b,c,d){var e=new SJMaps({lat:c,lng:d,label:b,zoom:14,elementId:a});$("#"+a+"_fullview").magnificPopup({items:{type:"inline",src:'<div id="'+a+'_fullview_popup" class="sj_element_map_fullview_popup" style="height: '+($(window).height()-100)+'px"></div>'},callbacks:{open:function(){var e=$("#"+a+"_fullview_popup");e.parents("div").find("script").remove(),e.after("<script>"+SJ.CMSFrontend.Elements.map(a+"_fullview_popup",b,c,d)+"</script>")}}}),e&&$(window).on("load",e._onResize),void 0!==SJ.CMS&&SJ.CMS.Map.initializeElement(e)},blog:function(a){SJ.Core.Validation.init_form(a+".element-blog ._form-new-comment")},blog_event:function(){},coursework:function(a){SJ.Core.Validation.init_form(a+".element-resourcecoursework ._form-new-comment"),SJ.Core.Validation.init_form(a+".element-resourcecoursework ._save_score")},coursework_event:function(){$(document).on("click",".element-resourcecoursework ._add-new-comment",function(){$(this).find("span").toggle(),$(this).parent().parent().find("._form-new-comment").fadeToggle()})},quiz:function(a){SJ.Core.Validation.init_form(a+".element-resourcequiz ._form-new-comment"),SJ.Core.Validation.init_form(a+".element-resourcequiz ._save_score"),$(a+".element-resourcequiz ._quiz").each(function(){var a=$(this);void 0===a.data("current-question")&&a.data("current-question",1);var b=parseInt(a.data("current-question"),10),c=a.find("._question").length;a.find("._question-"+b).show(),b===c?(a.find("._submit-quiz").removeAttr("disabled").show(),a.find("._next-quiz").attr("disabled","disabled").hide()):b<c&&(a.find("._submit-quiz").attr("disabled","disabled").hide(),a.find("._next-quiz").removeAttr("disabled").show()),1===b?a.find("._prev-quiz").attr("disabled","disabled"):a.find("._prev-quiz").removeAttr("disabled")})},quiz_event:function(){$(document).on("click",".element-resourcequiz ._add-new-comment",function(){$(this).find("span").toggle(),$(this).parent().parent().find("._form-new-comment").fadeToggle()}),$(document).on("click",".element-resourcequiz ._quiz ._prev-quiz, .element-resourcequiz ._quiz ._next-quiz",function(a){a.preventDefault();var b=$(this).parents("._quiz").first(),c=parseInt(b.data("current-question"),10),d=b.find("._question").length;c>=1&&c<=d&&(b.find("._question-"+c).hide(),$(this).hasClass("_next-quiz")&&c<d&&c++,$(this).hasClass("_prev-quiz")&&c>1&&c--,b.data("current-question",c),b.find("._question-"+c).show(),c===d?(b.find("._submit-quiz").removeAttr("disabled").show(),b.find("._next-quiz").attr("disabled","disabled").hide()):c<d&&(b.find("._submit-quiz").attr("disabled","disabled").hide(),b.find("._next-quiz").removeAttr("disabled").show()),1===c?b.find("._prev-quiz").attr("disabled","disabled"):b.find("._prev-quiz").removeAttr("disabled"))})},wiki:function(a){SJ.Core.Validation.init_form(a+".element-resourcewiki ._form-new-article"),$("._diff-2-content").length&&$(a+".element-resourcewiki ._diff-2-content").each(function(){var a=new diff_match_patch,b=$(this).find("._diff-2-content-text1").first().html(),c=$(this).find("._diff-2-content-text2").first().html(),d=a.diff_main(b,c);a.diff_cleanupSemantic(d),a.diff_cleanupEfficiency(d);var e=a.diff_prettyHtml(d);$(this).parent().find("._diff-2-content-wiki-diff").first().html(e)})},wiki_event:function(){},marquee:function(){var a=$(".sj_element_marquee");a.length&&$.each(a,function(){var a=$(this).find(".marquee"),b=a.find(".scrollingtext").height(),c=parseInt(a.data("speed"),10);a.css("min-height",b+"px"),c=c>=3e4?10:c>1e4?30:c>5e3?60:75,a.SetScroller({velocity:c,direction:"horizontal",startfrom:"right",loop:"infinite",movetype:"linear",onmouseover:"play",onmouseout:"play",onstartup:"play",cursor:"default"})})},marquee_event:function(){},async_file_list:function(a){$("#element_"+a).on("click",'a:not(".download")',function(b){var c=$(this).attr("href");c=c.split("?"),c=c.pop();var d="/files/ajax/render_async/?"+c;b.preventDefault(),$.ajax({url:d,dataType:"json",data:{id:a}}).fail(function(){throw Error("Couldn't load list")}).done(function(b){$("#element_"+a+" .bs3-list-group").replaceWith(b)})})}},Themeslideshow:{slidesNode:$("#theme-slideshow-slides"),OnImgLoad:function(a,b){a.each(function(){this.complete||$(this).height()>0?b.apply(this):$(this).on("load",function(){b.apply(this)}).on("error",function(){})})},init:function(){var a=SJ.CMSFrontend.Themeslideshow.slidesNode.find("img");this.slider_init(a)},slider_init:function(a){if(a.length>1){var b;a.parent().hide(),this.OnImgLoad(a,function(){$(this).addClass("loaded").parent().addClass("loaded"),b=SJ.CMSFrontend.Themeslideshow.slidesNode.find(".slide.loaded"),1===b.length&&$(this).parent().addClass("active").show()}),setInterval(function(){var a=SJ.CMSFrontend.Themeslideshow.slidesNode.find(".slide.active"),b=0!==a.next(".loaded").length?a.next(".loaded"):$(".slide.loaded").first();a.removeClass("active").fadeOut(2e3),b.addClass("active").fadeIn()},6e3)}}},Logs:{init:function(){var a=SJ.CMSFrontend.Logs,b=$('a[href^="/downloadfile/"]');b.length>0&&a.download_file(b)},download_file:function(a){a.bind("click",function(a){$.ajax({url:"/file/ajax/addlog",type:"POST",dataType:"json",async:!0,data:{href:a.target.href}})})}},DelayedLoad:{elements:[],scrollListenerEnabled:!1,processingQueue:!1,Queue:function(a,b){function c(){var a=SJ.CMSFrontend.DelayedLoad;if(!a.processingQueue){a.processingQueue=!0;for(var b=0;b<a.elements.length;b++){var e=a.elements[b];d(e.elementNode)&&(a.elements.splice(b,1),b--,e.callback())}a.processingQueue=!1,0===a.elements.length&&$(document).off("scroll resize",c)}}function d(a){return a.isInViewport(100)}var e=$("#element_"+a);d(e)?b():(this.elements.push({elementNode:e,callback:b}),this.scrollListenerEnabled||$(document).on("scroll resize",c))}}},$(document).ready(function(){SJ.CMSFrontend.init()}),function(){var a,b,c,d,e=function(a,b){return function(){return a.apply(b,arguments)}},f=function(a,b){function c(){this.constructor=a}for(var d in b)g.call(b,d)&&(a[d]=b[d]);return c.prototype=b.prototype,a.prototype=new c,a.__super__=b.prototype,a},g={}.hasOwnProperty;(d=function(){function a(){this.options_index=0,this.parsed=[]}return a.prototype.add_node=function(a){return"OPTGROUP"===a.nodeName.toUpperCase()?this.add_group(a):this.add_option(a)},a.prototype.add_group=function(a){var b,c,d,e,f,g;for(b=this.parsed.length,this.parsed.push({array_index:b,group:!0,label:a.label,title:a.title?a.title:void 0,children:0,disabled:a.disabled,classes:a.className}),g=[],c=0,d=(f=a.childNodes).length;c<d;c++)e=f[c],g.push(this.add_option(e,b,a.disabled));return g},a.prototype.add_option=function(a,b,c){if("OPTION"===a.nodeName.toUpperCase())return""!==a.text?(null!=b&&(this.parsed[b].children+=1),this.parsed.push({array_index:this.parsed.length,options_index:this.options_index,value:a.value,text:a.text,html:a.innerHTML,title:a.title?a.title:void 0,selected:a.selected,disabled:!0===c?c:a.disabled,group_array_index:b,group_label:null!=b?this.parsed[b].label:null,classes:a.className,style:a.style.cssText})):this.parsed.push({array_index:this.parsed.length,options_index:this.options_index,empty:!0}),this.options_index+=1},a}()).select_to_array=function(a){var b,c,e,f,g;for(f=new d,c=0,e=(g=a.childNodes).length;c<e;c++)b=g[c],f.add_node(b);return f.parsed},b=function(){function a(b,c){this.form_field=b,this.options=null!=c?c:{},this.label_click_handler=e(this.label_click_handler,this),a.browser_is_supported()&&(this.is_multiple=this.form_field.multiple,this.set_default_text(),this.set_default_values(),this.setup(),this.set_up_html(),this.register_observers(),this.on_ready())}return a.prototype.set_default_values=function(){return this.click_test_action=function(a){return function(b){return a.test_active_click(b)}}(this),this.activate_action=function(a){return function(b){return a.activate_field(b)}}(this),this.active_field=!1,this.mouse_on_container=!1,this.results_showing=!1,this.result_highlighted=null,this.is_rtl=this.options.rtl||/\bchosen-rtl\b/.test(this.form_field.className),this.allow_single_deselect=null!=this.options.allow_single_deselect&&null!=this.form_field.options[0]&&""===this.form_field.options[0].text&&this.options.allow_single_deselect,this.disable_search_threshold=this.options.disable_search_threshold||0,this.disable_search=this.options.disable_search||!1,this.enable_split_word_search=null==this.options.enable_split_word_search||this.options.enable_split_word_search,this.group_search=null==this.options.group_search||this.options.group_search,this.search_contains=this.options.search_contains||!1,this.single_backstroke_delete=null==this.options.single_backstroke_delete||this.options.single_backstroke_delete,this.max_selected_options=this.options.max_selected_options||1/0,this.inherit_select_classes=this.options.inherit_select_classes||!1,this.display_selected_options=null==this.options.display_selected_options||this.options.display_selected_options,this.display_disabled_options=null==this.options.display_disabled_options||this.options.display_disabled_options,this.include_group_label_in_selected=this.options.include_group_label_in_selected||!1,this.max_shown_results=this.options.max_shown_results||Number.POSITIVE_INFINITY,this.case_sensitive_search=this.options.case_sensitive_search||!1,this.hide_results_on_select=null==this.options.hide_results_on_select||this.options.hide_results_on_select},a.prototype.set_default_text=function(){return this.form_field.getAttribute("data-placeholder")?this.default_text=this.form_field.getAttribute("data-placeholder"):this.is_multiple?this.default_text=this.options.placeholder_text_multiple||this.options.placeholder_text||a.default_multiple_text:this.default_text=this.options.placeholder_text_single||this.options.placeholder_text||a.default_single_text,this.default_text=this.escape_html(this.default_text),this.results_none_found=this.form_field.getAttribute("data-no_results_text")||this.options.no_results_text||a.default_no_result_text},a.prototype.choice_label=function(a){return this.include_group_label_in_selected&&null!=a.group_label?"<b class='group-name'>"+this.escape_html(a.group_label)+"</b>"+a.html:a.html},a.prototype.mouse_enter=function(){return this.mouse_on_container=!0},a.prototype.mouse_leave=function(){return this.mouse_on_container=!1},a.prototype.input_focus=function(a){if(this.is_multiple){if(!this.active_field)return setTimeout(function(a){return function(){return a.container_mousedown()}}(this),50)}else if(!this.active_field)return this.activate_field()},a.prototype.input_blur=function(a){if(!this.mouse_on_container)return this.active_field=!1,setTimeout(function(a){return function(){return a.blur_test()}}(this),100)},a.prototype.label_click_handler=function(a){return this.is_multiple?this.container_mousedown(a):this.activate_field()},a.prototype.results_option_build=function(a){var b,c,d,e,f,g,h;for(b="",h=0,e=0,f=(g=this.results_data).length;e<f&&(c=g[e],d="",""!==(d=c.group?this.result_add_group(c):this.result_add_option(c))&&(h++,b+=d),(null!=a?a.first:void 0)&&(c.selected&&this.is_multiple?this.choice_build(c):c.selected&&!this.is_multiple&&this.single_set_selected_text(this.choice_label(c))),!(h>=this.max_shown_results));e++);return b},a.prototype.result_add_option=function(a){var b,c;return a.search_match&&this.include_option_in_results(a)?(b=[],a.disabled||a.selected&&this.is_multiple||b.push("active-result"),!a.disabled||a.selected&&this.is_multiple||b.push("disabled-result"),a.selected&&b.push("result-selected"),null!=a.group_array_index&&b.push("group-option"),""!==a.classes&&b.push(a.classes),c=document.createElement("li"),c.className=b.join(" "),a.style&&(c.style.cssText=a.style),c.setAttribute("data-option-array-index",a.array_index),c.innerHTML=a.highlighted_html||a.html,a.title&&(c.title=a.title),this.outerHTML(c)):""},a.prototype.result_add_group=function(a){var b,c;return(a.search_match||a.group_match)&&a.active_options>0?((b=[]).push("group-result"),a.classes&&b.push(a.classes),c=document.createElement("li"),c.className=b.join(" "),c.innerHTML=a.highlighted_html||this.escape_html(a.label),a.title&&(c.title=a.title),this.outerHTML(c)):""},a.prototype.results_update_field=function(){if(this.set_default_text(),this.is_multiple||this.results_reset_cleanup(),this.result_clear_highlight(),this.results_build(),this.results_showing)return this.winnow_results()},a.prototype.reset_single_select_options=function(){var a,b,c,d,e;for(e=[],a=0,b=(c=this.results_data).length;a<b;a++)(d=c[a]).selected?e.push(d.selected=!1):e.push(void 0);return e},a.prototype.results_toggle=function(){return this.results_showing?this.results_hide():this.results_show()},a.prototype.results_search=function(a){return this.results_showing?this.winnow_results():this.results_show()},a.prototype.winnow_results=function(a){var b,c,d,e,f,g,h,i,j,k,l,m,n,o,p;for(this.no_results_clear(),k=0,b=(h=this.get_search_text()).replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"),j=this.get_search_regex(b),d=0,e=(i=this.results_data).length;d<e;d++)(f=i[d]).search_match=!1,l=null,m=null,f.highlighted_html="",this.include_option_in_results(f)&&(f.group&&(f.group_match=!1,f.active_options=0),null!=f.group_array_index&&this.results_data[f.group_array_index]&&(0===(l=this.results_data[f.group_array_index]).active_options&&l.search_match&&(k+=1),
l.active_options+=1),p=f.group?f.label:f.text,f.group&&!this.group_search||(m=this.search_string_match(p,j),f.search_match=null!=m,f.search_match&&!f.group&&(k+=1),f.search_match?(h.length&&(n=m.index,g=p.slice(0,n),c=p.slice(n,n+h.length),o=p.slice(n+h.length),f.highlighted_html=this.escape_html(g)+"<em>"+this.escape_html(c)+"</em>"+this.escape_html(o)),null!=l&&(l.group_match=!0)):null!=f.group_array_index&&this.results_data[f.group_array_index].search_match&&(f.search_match=!0)));return this.result_clear_highlight(),k<1&&h.length?(this.update_results_content(""),this.no_results(h)):(this.update_results_content(this.results_option_build()),(null!=a?a.skip_highlight:void 0)?void 0:this.winnow_results_set_highlight())},a.prototype.get_search_regex=function(a){var b,c;return c=this.search_contains?a:"(^|\\s|\\b)"+a+"[^\\s]*",this.enable_split_word_search||this.search_contains||(c="^"+c),b=this.case_sensitive_search?"":"i",RegExp(c,b)},a.prototype.search_string_match=function(a,b){var c;return c=b.exec(a),!this.search_contains&&(null!=c?c[1]:void 0)&&(c.index+=1),c},a.prototype.choices_count=function(){var a,b,c;if(null!=this.selected_option_count)return this.selected_option_count;for(this.selected_option_count=0,a=0,b=(c=this.form_field.options).length;a<b;a++)c[a].selected&&(this.selected_option_count+=1);return this.selected_option_count},a.prototype.choices_click=function(a){if(a.preventDefault(),this.activate_field(),!this.results_showing&&!this.is_disabled)return this.results_show()},a.prototype.keydown_checker=function(a){var b,c;switch(c=null!=(b=a.which)?b:a.keyCode,this.search_field_scale(),8!==c&&this.pending_backstroke&&this.clear_backstroke(),c){case 8:this.backstroke_length=this.get_search_field_value().length;break;case 9:this.results_showing&&!this.is_multiple&&this.result_select(a),this.mouse_on_container=!1;break;case 13:case 27:this.results_showing&&a.preventDefault();break;case 32:this.disable_search&&a.preventDefault();break;case 38:a.preventDefault(),this.keyup_arrow();break;case 40:a.preventDefault(),this.keydown_arrow()}},a.prototype.keyup_checker=function(a){var b,c;switch(c=null!=(b=a.which)?b:a.keyCode,this.search_field_scale(),c){case 8:this.is_multiple&&this.backstroke_length<1&&this.choices_count()>0?this.keydown_backstroke():this.pending_backstroke||(this.result_clear_highlight(),this.results_search());break;case 13:a.preventDefault(),this.results_showing&&this.result_select(a);break;case 27:this.results_showing&&this.results_hide();break;case 9:case 16:case 17:case 18:case 38:case 40:case 91:break;default:this.results_search()}},a.prototype.clipboard_event_checker=function(a){if(!this.is_disabled)return setTimeout(function(a){return function(){return a.results_search()}}(this),50)},a.prototype.container_width=function(){return null!=this.options.width?this.options.width:this.form_field.offsetWidth+"px"},a.prototype.include_option_in_results=function(a){return!(this.is_multiple&&!this.display_selected_options&&a.selected||!this.display_disabled_options&&a.disabled||a.empty)},a.prototype.search_results_touchstart=function(a){return this.touch_started=!0,this.search_results_mouseover(a)},a.prototype.search_results_touchmove=function(a){return this.touch_started=!1,this.search_results_mouseout(a)},a.prototype.search_results_touchend=function(a){if(this.touch_started)return this.search_results_mouseup(a)},a.prototype.outerHTML=function(a){var b;return a.outerHTML?a.outerHTML:((b=document.createElement("div")).appendChild(a),b.innerHTML)},a.prototype.get_single_html=function(){return'<a class="chosen-single chosen-default">\n  <span>'+this.default_text+'</span>\n  <div><b></b></div>\n</a>\n<div class="chosen-drop">\n  <div class="chosen-search">\n    <input class="chosen-search-input" type="text" autocomplete="off" />\n  </div>\n  <ul class="chosen-results"></ul>\n</div>'},a.prototype.get_multi_html=function(){return'<ul class="chosen-choices">\n  <li class="search-field">\n    <input class="chosen-search-input" type="text" autocomplete="off" value="'+this.default_text+'" />\n  </li>\n</ul>\n<div class="chosen-drop">\n  <ul class="chosen-results"></ul>\n</div>'},a.prototype.get_no_results_html=function(a){return'<li class="no-results">\n  '+this.results_none_found+" <span>"+this.escape_html(a)+"</span>\n</li>"},a.browser_is_supported=function(){return"Microsoft Internet Explorer"===window.navigator.appName?document.documentMode>=8:!(/iP(od|hone)/i.test(window.navigator.userAgent)||/IEMobile/i.test(window.navigator.userAgent)||/Windows Phone/i.test(window.navigator.userAgent)||/BlackBerry/i.test(window.navigator.userAgent)||/BB10/i.test(window.navigator.userAgent)||/Android.*Mobile/i.test(window.navigator.userAgent))},a.default_multiple_text="Select Some Options",a.default_single_text="Select an Option",a.default_no_result_text="No results match",a}(),(a=jQuery).fn.extend({chosen:function(d){return b.browser_is_supported()?this.each(function(b){var e,f;f=(e=a(this)).data("chosen"),"destroy"!==d?f instanceof c||e.data("chosen",new c(this,d)):f instanceof c&&f.destroy()}):this}}),c=function(c){function e(){return e.__super__.constructor.apply(this,arguments)}return f(e,b),e.prototype.setup=function(){return this.form_field_jq=a(this.form_field),this.current_selectedIndex=this.form_field.selectedIndex},e.prototype.set_up_html=function(){var b,c;return(b=["chosen-container"]).push("chosen-container-"+(this.is_multiple?"multi":"single")),this.inherit_select_classes&&this.form_field.className&&b.push(this.form_field.className),this.is_rtl&&b.push("chosen-rtl"),c={"class":b.join(" "),title:this.form_field.title},this.form_field.id.length&&(c.id=this.form_field.id.replace(/[^\w]/g,"_")+"_chosen"),this.container=a("<div />",c),this.container.width(this.container_width()),this.is_multiple?this.container.html(this.get_multi_html()):this.container.html(this.get_single_html()),this.form_field_jq.hide().after(this.container),this.dropdown=this.container.find("div.chosen-drop").first(),this.search_field=this.container.find("input").first(),this.search_results=this.container.find("ul.chosen-results").first(),this.search_field_scale(),this.search_no_results=this.container.find("li.no-results").first(),this.is_multiple?(this.search_choices=this.container.find("ul.chosen-choices").first(),this.search_container=this.container.find("li.search-field").first()):(this.search_container=this.container.find("div.chosen-search").first(),this.selected_item=this.container.find(".chosen-single").first()),this.results_build(),this.set_tab_index(),this.set_label_behavior()},e.prototype.on_ready=function(){return this.form_field_jq.trigger("chosen:ready",{chosen:this})},e.prototype.register_observers=function(){return this.container.on("touchstart.chosen",function(a){return function(b){a.container_mousedown(b)}}(this)),this.container.on("touchend.chosen",function(a){return function(b){a.container_mouseup(b)}}(this)),this.container.on("mousedown.chosen",function(a){return function(b){a.container_mousedown(b)}}(this)),this.container.on("mouseup.chosen",function(a){return function(b){a.container_mouseup(b)}}(this)),this.container.on("mouseenter.chosen",function(a){return function(b){a.mouse_enter(b)}}(this)),this.container.on("mouseleave.chosen",function(a){return function(b){a.mouse_leave(b)}}(this)),this.search_results.on("mouseup.chosen",function(a){return function(b){a.search_results_mouseup(b)}}(this)),this.search_results.on("mouseover.chosen",function(a){return function(b){a.search_results_mouseover(b)}}(this)),this.search_results.on("mouseout.chosen",function(a){return function(b){a.search_results_mouseout(b)}}(this)),this.search_results.on("mousewheel.chosen DOMMouseScroll.chosen",function(a){return function(b){a.search_results_mousewheel(b)}}(this)),this.search_results.on("touchstart.chosen",function(a){return function(b){a.search_results_touchstart(b)}}(this)),this.search_results.on("touchmove.chosen",function(a){return function(b){a.search_results_touchmove(b)}}(this)),this.search_results.on("touchend.chosen",function(a){return function(b){a.search_results_touchend(b)}}(this)),this.form_field_jq.on("chosen:updated.chosen",function(a){return function(b){a.results_update_field(b)}}(this)),this.form_field_jq.on("chosen:activate.chosen",function(a){return function(b){a.activate_field(b)}}(this)),this.form_field_jq.on("chosen:open.chosen",function(a){return function(b){a.container_mousedown(b)}}(this)),this.form_field_jq.on("chosen:close.chosen",function(a){return function(b){a.close_field(b)}}(this)),this.search_field.on("blur.chosen",function(a){return function(b){a.input_blur(b)}}(this)),this.search_field.on("keyup.chosen",function(a){return function(b){a.keyup_checker(b)}}(this)),this.search_field.on("keydown.chosen",function(a){return function(b){a.keydown_checker(b)}}(this)),this.search_field.on("focus.chosen",function(a){return function(b){a.input_focus(b)}}(this)),this.search_field.on("cut.chosen",function(a){return function(b){a.clipboard_event_checker(b)}}(this)),this.search_field.on("paste.chosen",function(a){return function(b){a.clipboard_event_checker(b)}}(this)),this.is_multiple?this.search_choices.on("click.chosen",function(a){return function(b){a.choices_click(b)}}(this)):this.container.on("click.chosen",function(a){a.preventDefault()})},e.prototype.destroy=function(){return a(this.container[0].ownerDocument).off("click.chosen",this.click_test_action),this.form_field_label.length>0&&this.form_field_label.off("click.chosen"),this.search_field[0].tabIndex&&(this.form_field_jq[0].tabIndex=this.search_field[0].tabIndex),this.container.remove(),this.form_field_jq.removeData("chosen"),this.form_field_jq.show()},e.prototype.search_field_disabled=function(){return this.is_disabled=this.form_field.disabled||this.form_field_jq.parents("fieldset").is(":disabled"),this.container.toggleClass("chosen-disabled",this.is_disabled),this.search_field[0].disabled=this.is_disabled,this.is_multiple||this.selected_item.off("focus.chosen",this.activate_field),this.is_disabled?this.close_field():this.is_multiple?void 0:this.selected_item.on("focus.chosen",this.activate_field)},e.prototype.container_mousedown=function(b){var c;if(!this.is_disabled)return!b||"mousedown"!==(c=b.type)&&"touchstart"!==c||this.results_showing||b.preventDefault(),null!=b&&a(b.target).hasClass("search-choice-close")?void 0:(this.active_field?this.is_multiple||!b||a(b.target)[0]!==this.selected_item[0]&&!a(b.target).parents("a.chosen-single").length||(b.preventDefault(),this.results_toggle()):(this.is_multiple&&this.search_field.val(""),a(this.container[0].ownerDocument).on("click.chosen",this.click_test_action),this.results_show()),this.activate_field())},e.prototype.container_mouseup=function(a){if("ABBR"===a.target.nodeName&&!this.is_disabled)return this.results_reset(a)},e.prototype.search_results_mousewheel=function(a){var b;if(a.originalEvent&&(b=a.originalEvent.deltaY||-a.originalEvent.wheelDelta||a.originalEvent.detail),null!=b)return a.preventDefault(),"DOMMouseScroll"===a.type&&(b*=40),this.search_results.scrollTop(b+this.search_results.scrollTop())},e.prototype.blur_test=function(a){if(!this.active_field&&this.container.hasClass("chosen-container-active"))return this.close_field()},e.prototype.close_field=function(){return a(this.container[0].ownerDocument).off("click.chosen",this.click_test_action),this.active_field=!1,this.results_hide(),this.container.removeClass("chosen-container-active"),this.clear_backstroke(),this.show_search_field_default(),this.search_field_scale(),this.search_field.blur()},e.prototype.activate_field=function(){if(!this.is_disabled)return this.container.addClass("chosen-container-active"),this.active_field=!0,this.search_field.val(this.search_field.val()),this.search_field.focus()},e.prototype.test_active_click=function(b){var c;return(c=a(b.target).closest(".chosen-container")).length&&this.container[0]===c[0]?this.active_field=!0:this.close_field()},e.prototype.results_build=function(){return this.parsing=!0,this.selected_option_count=null,this.results_data=d.select_to_array(this.form_field),this.is_multiple?this.search_choices.find("li.search-choice").remove():(this.single_set_selected_text(),this.disable_search||this.form_field.options.length<=this.disable_search_threshold?(this.search_field[0].readOnly=!0,this.container.addClass("chosen-container-single-nosearch")):(this.search_field[0].readOnly=!1,this.container.removeClass("chosen-container-single-nosearch"))),this.update_results_content(this.results_option_build({first:!0})),this.search_field_disabled(),this.show_search_field_default(),this.search_field_scale(),this.parsing=!1},e.prototype.result_do_highlight=function(a){var b,c,d,e,f;if(a.length){if(this.result_clear_highlight(),this.result_highlight=a,this.result_highlight.addClass("highlighted"),d=parseInt(this.search_results.css("maxHeight"),10),f=this.search_results.scrollTop(),e=d+f,c=this.result_highlight.position().top+this.search_results.scrollTop(),(b=c+this.result_highlight.outerHeight())>=e)return this.search_results.scrollTop(b-d>0?b-d:0);if(c<f)return this.search_results.scrollTop(c)}},e.prototype.result_clear_highlight=function(){return this.result_highlight&&this.result_highlight.removeClass("highlighted"),this.result_highlight=null},e.prototype.results_show=function(){return this.is_multiple&&this.max_selected_options<=this.choices_count()?(this.form_field_jq.trigger("chosen:maxselected",{chosen:this}),!1):(this.container.addClass("chosen-with-drop"),this.results_showing=!0,this.search_field.focus(),this.search_field.val(this.get_search_field_value()),this.winnow_results(),this.form_field_jq.trigger("chosen:showing_dropdown",{chosen:this}))},e.prototype.update_results_content=function(a){return this.search_results.html(a)},e.prototype.results_hide=function(){return this.results_showing&&(this.result_clear_highlight(),this.container.removeClass("chosen-with-drop"),this.form_field_jq.trigger("chosen:hiding_dropdown",{chosen:this})),this.results_showing=!1},e.prototype.set_tab_index=function(a){var b;if(this.form_field.tabIndex)return b=this.form_field.tabIndex,this.form_field.tabIndex=-1,this.search_field[0].tabIndex=b},e.prototype.set_label_behavior=function(){if(this.form_field_label=this.form_field_jq.parents("label"),!this.form_field_label.length&&this.form_field.id.length&&(this.form_field_label=a("label[for='"+this.form_field.id+"']")),this.form_field_label.length>0)return this.form_field_label.on("click.chosen",this.label_click_handler)},e.prototype.show_search_field_default=function(){return this.is_multiple&&this.choices_count()<1&&!this.active_field?(this.search_field.val(this.default_text),this.search_field.addClass("default")):(this.search_field.val(""),this.search_field.removeClass("default"))},e.prototype.search_results_mouseup=function(b){var c;if((c=a(b.target).hasClass("active-result")?a(b.target):a(b.target).parents(".active-result").first()).length)return this.result_highlight=c,this.result_select(b),this.search_field.focus()},e.prototype.search_results_mouseover=function(b){var c;if(c=a(b.target).hasClass("active-result")?a(b.target):a(b.target).parents(".active-result").first())return this.result_do_highlight(c)},e.prototype.search_results_mouseout=function(b){if(a(b.target).hasClass("active-result")||a(b.target).parents(".active-result").first())return this.result_clear_highlight()},e.prototype.choice_build=function(b){var c,d;return c=a("<li />",{"class":"search-choice"}).html("<span>"+this.choice_label(b)+"</span>"),b.disabled?c.addClass("search-choice-disabled"):((d=a("<a />",{"class":"search-choice-close","data-option-array-index":b.array_index})).on("click.chosen",function(a){return function(b){return a.choice_destroy_link_click(b)}}(this)),c.append(d)),this.search_container.before(c)},e.prototype.choice_destroy_link_click=function(b){if(b.preventDefault(),b.stopPropagation(),!this.is_disabled)return this.choice_destroy(a(b.target))},e.prototype.choice_destroy=function(a){if(this.result_deselect(a[0].getAttribute("data-option-array-index")))return this.active_field?this.search_field.focus():this.show_search_field_default(),this.is_multiple&&this.choices_count()>0&&this.get_search_field_value().length<1&&this.results_hide(),a.parents("li").first().remove(),this.search_field_scale()},e.prototype.results_reset=function(){if(this.reset_single_select_options(),this.form_field.options[0].selected=!0,this.single_set_selected_text(),this.show_search_field_default(),this.results_reset_cleanup(),this.trigger_form_field_change(),this.active_field)return this.results_hide()},e.prototype.results_reset_cleanup=function(){return this.current_selectedIndex=this.form_field.selectedIndex,this.selected_item.find("abbr").remove()},e.prototype.result_select=function(a){var b,c;if(this.result_highlight)return b=this.result_highlight,this.result_clear_highlight(),this.is_multiple&&this.max_selected_options<=this.choices_count()?(this.form_field_jq.trigger("chosen:maxselected",{chosen:this}),!1):(this.is_multiple?b.removeClass("active-result"):this.reset_single_select_options(),b.addClass("result-selected"),c=this.results_data[b[0].getAttribute("data-option-array-index")],c.selected=!0,this.form_field.options[c.options_index].selected=!0,this.selected_option_count=null,this.is_multiple?this.choice_build(c):this.single_set_selected_text(this.choice_label(c)),this.is_multiple&&(!this.hide_results_on_select||a.metaKey||a.ctrlKey)?a.metaKey||a.ctrlKey?this.winnow_results({skip_highlight:!0}):(this.search_field.val(""),this.winnow_results()):(this.results_hide(),this.show_search_field_default()),(this.is_multiple||this.form_field.selectedIndex!==this.current_selectedIndex)&&this.trigger_form_field_change({selected:this.form_field.options[c.options_index].value}),this.current_selectedIndex=this.form_field.selectedIndex,a.preventDefault(),this.search_field_scale())},e.prototype.single_set_selected_text=function(a){return null==a&&(a=this.default_text),a===this.default_text?this.selected_item.addClass("chosen-default"):(this.single_deselect_control_build(),this.selected_item.removeClass("chosen-default")),this.selected_item.find("span").html(a)},e.prototype.result_deselect=function(a){var b;return b=this.results_data[a],!this.form_field.options[b.options_index].disabled&&(b.selected=!1,this.form_field.options[b.options_index].selected=!1,this.selected_option_count=null,this.result_clear_highlight(),this.results_showing&&this.winnow_results(),this.trigger_form_field_change({deselected:this.form_field.options[b.options_index].value}),this.search_field_scale(),!0)},e.prototype.single_deselect_control_build=function(){if(this.allow_single_deselect)return this.selected_item.find("abbr").length||this.selected_item.find("span").first().after('<abbr class="search-choice-close"></abbr>'),this.selected_item.addClass("chosen-single-with-deselect")},e.prototype.get_search_field_value=function(){return this.search_field.val()},e.prototype.get_search_text=function(){return a.trim(this.get_search_field_value())},e.prototype.escape_html=function(b){return a("<div/>").text(b).html()},e.prototype.winnow_results_set_highlight=function(){var a,b;if(b=this.is_multiple?[]:this.search_results.find(".result-selected.active-result"),null!=(a=b.length?b.first():this.search_results.find(".active-result").first()))return this.result_do_highlight(a)},e.prototype.no_results=function(a){var b;return b=this.get_no_results_html(a),this.search_results.append(b),this.form_field_jq.trigger("chosen:no_results",{chosen:this})},e.prototype.no_results_clear=function(){return this.search_results.find(".no-results").remove()},e.prototype.keydown_arrow=function(){var a;return this.results_showing&&this.result_highlight?(a=this.result_highlight.nextAll("li.active-result").first())?this.result_do_highlight(a):void 0:this.results_show()},e.prototype.keyup_arrow=function(){var a;return this.results_showing||this.is_multiple?this.result_highlight?(a=this.result_highlight.prevAll("li.active-result")).length?this.result_do_highlight(a.first()):(this.choices_count()>0&&this.results_hide(),this.result_clear_highlight()):void 0:this.results_show()},e.prototype.keydown_backstroke=function(){var a;return this.pending_backstroke?(this.choice_destroy(this.pending_backstroke.find("a").first()),this.clear_backstroke()):(a=this.search_container.siblings("li.search-choice").last()).length&&!a.hasClass("search-choice-disabled")?(this.pending_backstroke=a,this.single_backstroke_delete?this.keydown_backstroke():this.pending_backstroke.addClass("search-choice-focus")):void 0},e.prototype.clear_backstroke=function(){return this.pending_backstroke&&this.pending_backstroke.removeClass("search-choice-focus"),this.pending_backstroke=null},e.prototype.search_field_scale=function(){var b,c,d,e,f,g,h;if(this.is_multiple){for(f={position:"absolute",left:"-1000px",top:"-1000px",display:"none",whiteSpace:"pre"},c=0,d=(g=["fontSize","fontStyle","fontWeight","fontFamily","lineHeight","textTransform","letterSpacing"]).length;c<d;c++)f[e=g[c]]=this.search_field.css(e);return(b=a("<div />").css(f)).text(this.get_search_field_value()),a("body").append(b),h=b.width()+25,b.remove(),this.container.is(":visible")&&(h=Math.min(this.container.outerWidth()-10,h)),this.search_field.width(h)}},e.prototype.trigger_form_field_change=function(a){return this.form_field_jq.trigger("input",a),this.form_field_jq.trigger("change",a)},e}()}.call(this);
//# sourceMappingURL=venus-payload.js.map